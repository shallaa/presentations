<!doctype html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <title>스타일 객체 활용</title>

    <meta name="description" content="스타일 객체 활용">
    <meta name="author" content="shallaa">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="../revealjs/css/reveal.css" id="css_test">
    <link rel="stylesheet" href="../revealjs/css/theme/moon.css" id="theme">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="../revealjs/lib/css/zenburn.css">

    <!-- If the query includes 'print-pdf', include the PDF print sheet -->
    <script>
        if( window.location.search.match( /print-pdf/gi ) ) {
            var link = document.createElement( 'link' );
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = '../revealjs/css/print/pdf.css';
            document.getElementsByTagName( 'head' )[0].appendChild( link );
        }
    </script>

    <!--[if lt IE 9]>
    <script src="../revealjs/lib/js/html5shiv.js"></script>
    <![endif]-->

    <style>
        textarea { width:90%;position:relative;dispaly:block;font-size:0.55em;background-color:#3F3F3F; color:#fff;font-family: monospace;
            line-height: 1.2em;
            word-wrap: break-word;
            box-shadow: 0px 0px 6px rgba(0,0,0,0.3); }

        .code {
            position:relative; }

        .code > button {
            font-family: "Nanum Gothic";
            margin: 0 0 10px 15px;
            padding: .3em;
            font-size:.6em;
            margin: 0 2px;
            background-color: #0A5AFA;
            width: 120px;
            color: #fff;
            position: absolute;
            display: block;
            border: none;
            top: 1px;
            left: 853px;
            opacity: .4;
            z-index: 1; }

        .code > button:hover {
            opacity: 1; }

        button {
            width: 150px;
            height: 40px;
            font-size: 20px; }

        .f_left { float:left }

        p.content {
            font-size: 28px; }

        .emphasize {
            color: #81FFDC; }

        .reveal section ul {
            list-style:square;
            font-size:25px; }

        .reveal .l_none { list-style: none; }
        .reveal li.l_title { margin-left: -20px; }

        .reveal .txt_28 { font-size: 28px }
        .reveal .reload_btn {
            border-radius: 15px;
            background-color: transparent;
            border: solid 4px #fff;
            color: #fff;
            font-weight: bold; }
    </style>
</head>

<body>

<div class="reveal">
    <div class="slides">
        <section>
            <div>
                <h1>
                    스타일 객체 활용<br>
                </h1>
                <p style="color:#fff;text-shadow:1px 1px 2px black,0 0 1em black,0 0 0.2em black;margin-bottom:-30px">
                    <small>Feb 26, 2015 - 이준호</small>
                </p>
            </div>
        </section>

        <section>

            <section data-background="#212124">
                <h2>스타일 객체???</h2>
                <p style="clear:left"><a href="http://www.w3.org/TR/2000/REC-DOM-Level-2-Style-20001113" class="txt_28" target="_new">http://www.w3.org/TR/2000/REC-DOM-Level-2-Style-20001113</a></p>
                <div>
                    <iframe scrolling='auto' src='http://www.w3.org/TR/2000/REC-DOM-Level-2-Style-20001113/'
                            frameborder='no' allowtransparency='true' allowfullscreen='true' style='width:100%;height:475px'>
                    </iframe>
                </div>
            </section>

            <section data-background="#212124">
                <h2>스타일 객체??</h2>
                <p style="clear:left"><a href="http://www.w3.org/2003/01/dom2-javadoc/org/w3c/dom/css/CSSStyleDeclaration.html" class="txt_28" target="_new">CSSStyleDeclaration</a></p>
                <div>
                    <iframe scrolling='auto' src='http://www.w3.org/2003/01/dom2-javadoc/org/w3c/dom/css/CSSStyleDeclaration.html'
                            frameborder='no' allowtransparency='true' allowfullscreen='true' style='width:100%;height:475px'>
                    </iframe>
                </div>
            </section>

            <section data-background="#212124">
                <h1>
                    DOM<br>
                </h1>
                <div>
                    <h2>Document</h2>
                    <h2>Object</h2>
                    <h2>Model</h2>
                </div>
            </section>

        </section>

        <section>
            <section data-background="#212124">
                <h2>스타일 객체?</h2>
                <div>
                    <ul style="font-size:25px">
                        <li>CSSStyleDeclaration</li>
                        <li>document.createElement('div').style</li>
                        <li>최종적으로 모든 스타일의 정보가 저장되는 객체</li>
                        <li>MSStyleCSSProperties, CSS2Properties</li>
                    </ul>
                </div>
            </section>

            <section data-background="#212124">
                <p style="clear:left">CSSStyleDeclaration</p>
                <div>
                    <iframe scrolling='no' src='http://codepen.io/shallaa/embed/jExRzW/?height=430&theme-id=5264&slug-hash=eqtJo&user=none'
                            frameborder='no' allowtransparency='true' allowfullscreen='true' style='width:100%;height:475px;overflow:hidden'>
                    </iframe>
                </div>
            </section>

            <section data-background="#212124">
                <p style="clear:left">CSSStyleDeclaration 활용</p>
                <div>
                    <iframe scrolling='no' src='http://codepen.io/shallaa/embed/emrobE/?height=430&theme-id=5264&slug-hash=eqtJo&user=none'
                            frameborder='no' allowtransparency='true' allowfullscreen='true' style='width:100%;height:475px;overflow:hidden'>
                    </iframe>
                </div>
            </section>

            <section data-background="#212124">
                <p style="clear:left">&lt;style&gt;&lt;/style&gt;, &lt;link&gt;&lt;/link&gt;</p>
                <div>
                    <iframe scrolling='no' src='http://codepen.io/shallaa/embed/azGxeK/?height=430&theme-id=5264&slug-hash=eqtJo&user=none'
                            frameborder='no' allowtransparency='true' allowfullscreen='true' style='width:100%;height:475px;overflow:hidden'>
                    </iframe>
                </div>
            </section>
        </section>

        <section data-background="#212124">
            <p style="clear:left">
                스타일 객체( CSSStyleDeclaration )를 찾아서.<br>
            </p>
            <div>
                <ul style="float:left;width:450px;margin-top:20px">
                    <li class="fragment">console.dir(document.getElementById('css_test'))</li>
                    <li class="fragment">console.dir(document.getElementById('css_test').sheet)</li>
                    <li class="fragment">console.dir(document.getElementById('css_test').sheet.cssRules)</li>
                    <li class="fragment">console.dir(document.getElementById('css_test').sheet.cssRules[100])</li>
                    <li class="fragment">console.dir(document.getElementById('css_test').sheet.cssRules[100].style)</li>
                </ul>
            </div>
        </section>

        <section data-background="#212124">
            <h2>
                정리하면
            </h2>
            <br>
            <table style="font-size:30px">
                <thead>
                <tr style="color:#d19439">
                    <th>Browser</th>
                    <th>CSSStyleDeclaration</th>
                    <th>CSSStyleSheet</th>
                    <th>CSSRuleList</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>IE</td>
                    <td>MSStyleCSSProperties</td>
                    <td>sheet, styleSheet</td>
                    <td>cssRules, rules</td>
                </tr>
                <tr>
                    <td>Chrome</td>
                    <td>CSSStyleDeclaration</td>
                    <td>sheet</td>
                    <td>cssRules, rules</td>
                </tr>
                <tr>
                    <td>FireFox</td>
                    <td>CSS2Properties</td>
                    <td>sheet</td>
                    <td>cssRules</td>
                </tr>
                <tr>
                    <td>Safari</td>
                    <td>CSSStyleDeclaration</td>
                    <td>sheet</td>
                    <td>cssRules, rules</td>
                </tr>
                </tbody>
            </table>
            <br>
            <p class="fragment" style="clear:left">selctorText, <span style="color:#2FCC02">style</span></p>
        </section>

        <section>
            <h2>추가, 제거</h2>
            <pre><code class="javascript">
                var styleEl = document.createElement('style');
                document.getElementsByTagName('head')[0].appendChild(styleEl);

                var sheet = styleEl.sheet || styleEl.styleSheet;
                var rules = sheet.cssRules || sheet.rules;

                sheet.insertRule( 'p{}', 0 ); // sheet.addRule( 'p', ' ' );

                var rule = rules[0];
                rule.style['color'] = 'red';

                sheet.deleteRule(0); // sheet.removeRule(0);
            </code></pre>
            <p style="clear:left">This is Test</p>
        </section>

        <section>
            <h2>결론</h2>
            <br>
            <div>
                <ul>
                    <li class="fragment">최종적으로 스타일 속성을 저장하고 제어의 대상이 되는 것은 <span style="color:#2FCC02">CSSStyleDelaration 객체</span></li>
                    <li class="fragment">모든 DOM Element에는 style 속성이 있음. ( CSSStyleDelaration )</li>
                    <li class="fragment">스타일 시트 또한 CSSRule 객체에 style 속성이 있음.</li>
                    <li class="fragment"><span style="color:#2FCC02">따라서 스타일시트 또한 얼마든지 제어가 가능.</span></li>
                    <li class="fragment">스타일시트의 CSSRuleList를 제어하게 되면..<br>
                        <ul style="font-size:20px;list-style:circle">
                            <li>런타임에 동적으로 스타일 시트를 변경할 수 있게 되고.</li>
                            <li>풍부한 프로그래밍 언어로서의 자바스크립트로 스타일 시트를 통제할 수 있음.</li>
                            <li>인라인이 아니라 스타일 시트에 지정한 스타일이 되므로</li>
                            <li>스타일시트의 성능과 하드웨어의 도움 등을 그대로 활용 가능.</li>
                        </ul>
                    </li>
                </ul>
            </div>
        </section>

        <section>
            <h1>Thank You</h1>
            <h2><a href="demo/demo1.html">DEMO</a></h2>
        </section>

    </div>

</div>

<script src="../revealjs/lib/js/head.min.js"></script>
<script src="../revealjs/js/reveal.min.js"></script>

<script>

    // Full list of configuration options available here:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        width: 1024,
        height: 768,
        controls: true,
        progress: true,
        history: true,
        center: true,

        theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/fade/none

        // Parallax scrolling
        // parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
        // parallaxBackgroundSize: '2100px 900px',

        // Optional libraries used to extend on reveal.js
        dependencies: [
            { src: '../revealjs/lib/js/classList.js', condition: function() { return !document.body.classList; } },
            { src: '../revealjs/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
            { src: '../revealjs/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
            { src: '../revealjs/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
            { src: '../revealjs/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
            { src: '../revealjs/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
    });

    function run(sId) {
        var el = document.getElementById(sId),
                sValue = el.value,
                sType = sId.replace(/\d+/g,"");

        el = document.getElementById("content"+ sId.replace(/[a-z]+/ig,""));

        if(sType == "script") {
            try {
                if(el.tagName == "IFRAME") {
                    console.log(sValue);
                    el.contentWindow.window.eval(sValue);
                } else {
                    eval(sValue);
                }
            } catch(e) {
                if(e.message.indexOf("tagName") > -1) {
                    eval(sValue);
                } else {
                    alert(e);
                }
            }
        } else if(sType == "html") {
            if(el.tagName == "IFRAME") {
                el.contentWindow.document.body.innerHTML = sValue;
            } else {
                el.innerHTML += sValue;
            }
        }
    }
</script>
</body>
</html>