
<!-- saved from url=(0041)file:///C:/Users/JunHo/Desktop/gitst.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=EUC-KR"><script src="https://gist.github.com/shallaa/167d84d377ecad94df95.js"></script><link rel="stylesheet" href="https://gist-assets.github.com/assets/embed-8bf0013c72fb64f0bb1bc1872b43e39e.css"></head><body><div id="gist21803617" class="gist">
        <div class="gist-file">
          <div class="gist-data gist-syntax">
    <div class="file-data">
      <table cellpadding="0" cellspacing="0" class="lines highlight">
        <tbody><tr>
          <td class="line-numbers">
            <span class="line-number" id="file-softengine-js-L1" rel="file-softengine-js-L1">1</span>
            <span class="line-number" id="file-softengine-js-L2" rel="file-softengine-js-L2">2</span>
            <span class="line-number" id="file-softengine-js-L3" rel="file-softengine-js-L3">3</span>
            <span class="line-number" id="file-softengine-js-L4" rel="file-softengine-js-L4">4</span>
            <span class="line-number" id="file-softengine-js-L5" rel="file-softengine-js-L5">5</span>
            <span class="line-number" id="file-softengine-js-L6" rel="file-softengine-js-L6">6</span>
            <span class="line-number" id="file-softengine-js-L7" rel="file-softengine-js-L7">7</span>
            <span class="line-number" id="file-softengine-js-L8" rel="file-softengine-js-L8">8</span>
            <span class="line-number" id="file-softengine-js-L9" rel="file-softengine-js-L9">9</span>
            <span class="line-number" id="file-softengine-js-L10" rel="file-softengine-js-L10">10</span>
            <span class="line-number" id="file-softengine-js-L11" rel="file-softengine-js-L11">11</span>
            <span class="line-number" id="file-softengine-js-L12" rel="file-softengine-js-L12">12</span>
            <span class="line-number" id="file-softengine-js-L13" rel="file-softengine-js-L13">13</span>
            <span class="line-number" id="file-softengine-js-L14" rel="file-softengine-js-L14">14</span>
            <span class="line-number" id="file-softengine-js-L15" rel="file-softengine-js-L15">15</span>
            <span class="line-number" id="file-softengine-js-L16" rel="file-softengine-js-L16">16</span>
            <span class="line-number" id="file-softengine-js-L17" rel="file-softengine-js-L17">17</span>
            <span class="line-number" id="file-softengine-js-L18" rel="file-softengine-js-L18">18</span>
            <span class="line-number" id="file-softengine-js-L19" rel="file-softengine-js-L19">19</span>
            <span class="line-number" id="file-softengine-js-L20" rel="file-softengine-js-L20">20</span>
            <span class="line-number" id="file-softengine-js-L21" rel="file-softengine-js-L21">21</span>
            <span class="line-number" id="file-softengine-js-L22" rel="file-softengine-js-L22">22</span>
            <span class="line-number" id="file-softengine-js-L23" rel="file-softengine-js-L23">23</span>
            <span class="line-number" id="file-softengine-js-L24" rel="file-softengine-js-L24">24</span>
            <span class="line-number" id="file-softengine-js-L25" rel="file-softengine-js-L25">25</span>
            <span class="line-number" id="file-softengine-js-L26" rel="file-softengine-js-L26">26</span>
            <span class="line-number" id="file-softengine-js-L27" rel="file-softengine-js-L27">27</span>
            <span class="line-number" id="file-softengine-js-L28" rel="file-softengine-js-L28">28</span>
            <span class="line-number" id="file-softengine-js-L29" rel="file-softengine-js-L29">29</span>
            <span class="line-number" id="file-softengine-js-L30" rel="file-softengine-js-L30">30</span>
            <span class="line-number" id="file-softengine-js-L31" rel="file-softengine-js-L31">31</span>
            <span class="line-number" id="file-softengine-js-L32" rel="file-softengine-js-L32">32</span>
            <span class="line-number" id="file-softengine-js-L33" rel="file-softengine-js-L33">33</span>
            <span class="line-number" id="file-softengine-js-L34" rel="file-softengine-js-L34">34</span>
            <span class="line-number" id="file-softengine-js-L35" rel="file-softengine-js-L35">35</span>
            <span class="line-number" id="file-softengine-js-L36" rel="file-softengine-js-L36">36</span>
            <span class="line-number" id="file-softengine-js-L37" rel="file-softengine-js-L37">37</span>
            <span class="line-number" id="file-softengine-js-L38" rel="file-softengine-js-L38">38</span>
            <span class="line-number" id="file-softengine-js-L39" rel="file-softengine-js-L39">39</span>
            <span class="line-number" id="file-softengine-js-L40" rel="file-softengine-js-L40">40</span>
            <span class="line-number" id="file-softengine-js-L41" rel="file-softengine-js-L41">41</span>
            <span class="line-number" id="file-softengine-js-L42" rel="file-softengine-js-L42">42</span>
            <span class="line-number" id="file-softengine-js-L43" rel="file-softengine-js-L43">43</span>
            <span class="line-number" id="file-softengine-js-L44" rel="file-softengine-js-L44">44</span>
            <span class="line-number" id="file-softengine-js-L45" rel="file-softengine-js-L45">45</span>
            <span class="line-number" id="file-softengine-js-L46" rel="file-softengine-js-L46">46</span>
            <span class="line-number" id="file-softengine-js-L47" rel="file-softengine-js-L47">47</span>
            <span class="line-number" id="file-softengine-js-L48" rel="file-softengine-js-L48">48</span>
            <span class="line-number" id="file-softengine-js-L49" rel="file-softengine-js-L49">49</span>
            <span class="line-number" id="file-softengine-js-L50" rel="file-softengine-js-L50">50</span>
            <span class="line-number" id="file-softengine-js-L51" rel="file-softengine-js-L51">51</span>
            <span class="line-number" id="file-softengine-js-L52" rel="file-softengine-js-L52">52</span>
            <span class="line-number" id="file-softengine-js-L53" rel="file-softengine-js-L53">53</span>
            <span class="line-number" id="file-softengine-js-L54" rel="file-softengine-js-L54">54</span>
            <span class="line-number" id="file-softengine-js-L55" rel="file-softengine-js-L55">55</span>
            <span class="line-number" id="file-softengine-js-L56" rel="file-softengine-js-L56">56</span>
            <span class="line-number" id="file-softengine-js-L57" rel="file-softengine-js-L57">57</span>
            <span class="line-number" id="file-softengine-js-L58" rel="file-softengine-js-L58">58</span>
            <span class="line-number" id="file-softengine-js-L59" rel="file-softengine-js-L59">59</span>
            <span class="line-number" id="file-softengine-js-L60" rel="file-softengine-js-L60">60</span>
            <span class="line-number" id="file-softengine-js-L61" rel="file-softengine-js-L61">61</span>
            <span class="line-number" id="file-softengine-js-L62" rel="file-softengine-js-L62">62</span>
            <span class="line-number" id="file-softengine-js-L63" rel="file-softengine-js-L63">63</span>
            <span class="line-number" id="file-softengine-js-L64" rel="file-softengine-js-L64">64</span>
            <span class="line-number" id="file-softengine-js-L65" rel="file-softengine-js-L65">65</span>
            <span class="line-number" id="file-softengine-js-L66" rel="file-softengine-js-L66">66</span>
            <span class="line-number" id="file-softengine-js-L67" rel="file-softengine-js-L67">67</span>
            <span class="line-number" id="file-softengine-js-L68" rel="file-softengine-js-L68">68</span>
            <span class="line-number" id="file-softengine-js-L69" rel="file-softengine-js-L69">69</span>
            <span class="line-number" id="file-softengine-js-L70" rel="file-softengine-js-L70">70</span>
            <span class="line-number" id="file-softengine-js-L71" rel="file-softengine-js-L71">71</span>
            <span class="line-number" id="file-softengine-js-L72" rel="file-softengine-js-L72">72</span>
            <span class="line-number" id="file-softengine-js-L73" rel="file-softengine-js-L73">73</span>
            <span class="line-number" id="file-softengine-js-L74" rel="file-softengine-js-L74">74</span>
            <span class="line-number" id="file-softengine-js-L75" rel="file-softengine-js-L75">75</span>
            <span class="line-number" id="file-softengine-js-L76" rel="file-softengine-js-L76">76</span>
            <span class="line-number" id="file-softengine-js-L77" rel="file-softengine-js-L77">77</span>
            <span class="line-number" id="file-softengine-js-L78" rel="file-softengine-js-L78">78</span>
            <span class="line-number" id="file-softengine-js-L79" rel="file-softengine-js-L79">79</span>
            <span class="line-number" id="file-softengine-js-L80" rel="file-softengine-js-L80">80</span>
            <span class="line-number" id="file-softengine-js-L81" rel="file-softengine-js-L81">81</span>
            <span class="line-number" id="file-softengine-js-L82" rel="file-softengine-js-L82">82</span>
            <span class="line-number" id="file-softengine-js-L83" rel="file-softengine-js-L83">83</span>
            <span class="line-number" id="file-softengine-js-L84" rel="file-softengine-js-L84">84</span>
            <span class="line-number" id="file-softengine-js-L85" rel="file-softengine-js-L85">85</span>
            <span class="line-number" id="file-softengine-js-L86" rel="file-softengine-js-L86">86</span>
            <span class="line-number" id="file-softengine-js-L87" rel="file-softengine-js-L87">87</span>
            <span class="line-number" id="file-softengine-js-L88" rel="file-softengine-js-L88">88</span>
            <span class="line-number" id="file-softengine-js-L89" rel="file-softengine-js-L89">89</span>
            <span class="line-number" id="file-softengine-js-L90" rel="file-softengine-js-L90">90</span>
            <span class="line-number" id="file-softengine-js-L91" rel="file-softengine-js-L91">91</span>
            <span class="line-number" id="file-softengine-js-L92" rel="file-softengine-js-L92">92</span>
            <span class="line-number" id="file-softengine-js-L93" rel="file-softengine-js-L93">93</span>
            <span class="line-number" id="file-softengine-js-L94" rel="file-softengine-js-L94">94</span>
            <span class="line-number" id="file-softengine-js-L95" rel="file-softengine-js-L95">95</span>
            <span class="line-number" id="file-softengine-js-L96" rel="file-softengine-js-L96">96</span>
            <span class="line-number" id="file-softengine-js-L97" rel="file-softengine-js-L97">97</span>
            <span class="line-number" id="file-softengine-js-L98" rel="file-softengine-js-L98">98</span>
            <span class="line-number" id="file-softengine-js-L99" rel="file-softengine-js-L99">99</span>
            <span class="line-number" id="file-softengine-js-L100" rel="file-softengine-js-L100">100</span>
            <span class="line-number" id="file-softengine-js-L101" rel="file-softengine-js-L101">101</span>
            <span class="line-number" id="file-softengine-js-L102" rel="file-softengine-js-L102">102</span>
            <span class="line-number" id="file-softengine-js-L103" rel="file-softengine-js-L103">103</span>
            <span class="line-number" id="file-softengine-js-L104" rel="file-softengine-js-L104">104</span>
            <span class="line-number" id="file-softengine-js-L105" rel="file-softengine-js-L105">105</span>
            <span class="line-number" id="file-softengine-js-L106" rel="file-softengine-js-L106">106</span>
            <span class="line-number" id="file-softengine-js-L107" rel="file-softengine-js-L107">107</span>
            <span class="line-number" id="file-softengine-js-L108" rel="file-softengine-js-L108">108</span>
            <span class="line-number" id="file-softengine-js-L109" rel="file-softengine-js-L109">109</span>
            <span class="line-number" id="file-softengine-js-L110" rel="file-softengine-js-L110">110</span>
            <span class="line-number" id="file-softengine-js-L111" rel="file-softengine-js-L111">111</span>
            <span class="line-number" id="file-softengine-js-L112" rel="file-softengine-js-L112">112</span>
            <span class="line-number" id="file-softengine-js-L113" rel="file-softengine-js-L113">113</span>
            <span class="line-number" id="file-softengine-js-L114" rel="file-softengine-js-L114">114</span>
            <span class="line-number" id="file-softengine-js-L115" rel="file-softengine-js-L115">115</span>
            <span class="line-number" id="file-softengine-js-L116" rel="file-softengine-js-L116">116</span>
            <span class="line-number" id="file-softengine-js-L117" rel="file-softengine-js-L117">117</span>
            <span class="line-number" id="file-softengine-js-L118" rel="file-softengine-js-L118">118</span>
            <span class="line-number" id="file-softengine-js-L119" rel="file-softengine-js-L119">119</span>
            <span class="line-number" id="file-softengine-js-L120" rel="file-softengine-js-L120">120</span>
            <span class="line-number" id="file-softengine-js-L121" rel="file-softengine-js-L121">121</span>
            <span class="line-number" id="file-softengine-js-L122" rel="file-softengine-js-L122">122</span>
            <span class="line-number" id="file-softengine-js-L123" rel="file-softengine-js-L123">123</span>
            <span class="line-number" id="file-softengine-js-L124" rel="file-softengine-js-L124">124</span>
            <span class="line-number" id="file-softengine-js-L125" rel="file-softengine-js-L125">125</span>
            <span class="line-number" id="file-softengine-js-L126" rel="file-softengine-js-L126">126</span>
            <span class="line-number" id="file-softengine-js-L127" rel="file-softengine-js-L127">127</span>
            <span class="line-number" id="file-softengine-js-L128" rel="file-softengine-js-L128">128</span>
            <span class="line-number" id="file-softengine-js-L129" rel="file-softengine-js-L129">129</span>
            <span class="line-number" id="file-softengine-js-L130" rel="file-softengine-js-L130">130</span>
            <span class="line-number" id="file-softengine-js-L131" rel="file-softengine-js-L131">131</span>
            <span class="line-number" id="file-softengine-js-L132" rel="file-softengine-js-L132">132</span>
            <span class="line-number" id="file-softengine-js-L133" rel="file-softengine-js-L133">133</span>
            <span class="line-number" id="file-softengine-js-L134" rel="file-softengine-js-L134">134</span>
            <span class="line-number" id="file-softengine-js-L135" rel="file-softengine-js-L135">135</span>
            <span class="line-number" id="file-softengine-js-L136" rel="file-softengine-js-L136">136</span>
            <span class="line-number" id="file-softengine-js-L137" rel="file-softengine-js-L137">137</span>
            <span class="line-number" id="file-softengine-js-L138" rel="file-softengine-js-L138">138</span>
            <span class="line-number" id="file-softengine-js-L139" rel="file-softengine-js-L139">139</span>
            <span class="line-number" id="file-softengine-js-L140" rel="file-softengine-js-L140">140</span>
            <span class="line-number" id="file-softengine-js-L141" rel="file-softengine-js-L141">141</span>
            <span class="line-number" id="file-softengine-js-L142" rel="file-softengine-js-L142">142</span>
            <span class="line-number" id="file-softengine-js-L143" rel="file-softengine-js-L143">143</span>
            <span class="line-number" id="file-softengine-js-L144" rel="file-softengine-js-L144">144</span>
            <span class="line-number" id="file-softengine-js-L145" rel="file-softengine-js-L145">145</span>
            <span class="line-number" id="file-softengine-js-L146" rel="file-softengine-js-L146">146</span>
            <span class="line-number" id="file-softengine-js-L147" rel="file-softengine-js-L147">147</span>
            <span class="line-number" id="file-softengine-js-L148" rel="file-softengine-js-L148">148</span>
            <span class="line-number" id="file-softengine-js-L149" rel="file-softengine-js-L149">149</span>
            <span class="line-number" id="file-softengine-js-L150" rel="file-softengine-js-L150">150</span>
            <span class="line-number" id="file-softengine-js-L151" rel="file-softengine-js-L151">151</span>
            <span class="line-number" id="file-softengine-js-L152" rel="file-softengine-js-L152">152</span>
            <span class="line-number" id="file-softengine-js-L153" rel="file-softengine-js-L153">153</span>
            <span class="line-number" id="file-softengine-js-L154" rel="file-softengine-js-L154">154</span>
            <span class="line-number" id="file-softengine-js-L155" rel="file-softengine-js-L155">155</span>
            <span class="line-number" id="file-softengine-js-L156" rel="file-softengine-js-L156">156</span>
            <span class="line-number" id="file-softengine-js-L157" rel="file-softengine-js-L157">157</span>
            <span class="line-number" id="file-softengine-js-L158" rel="file-softengine-js-L158">158</span>
            <span class="line-number" id="file-softengine-js-L159" rel="file-softengine-js-L159">159</span>
            <span class="line-number" id="file-softengine-js-L160" rel="file-softengine-js-L160">160</span>
            <span class="line-number" id="file-softengine-js-L161" rel="file-softengine-js-L161">161</span>
            <span class="line-number" id="file-softengine-js-L162" rel="file-softengine-js-L162">162</span>
            <span class="line-number" id="file-softengine-js-L163" rel="file-softengine-js-L163">163</span>
            <span class="line-number" id="file-softengine-js-L164" rel="file-softengine-js-L164">164</span>
            <span class="line-number" id="file-softengine-js-L165" rel="file-softengine-js-L165">165</span>
            <span class="line-number" id="file-softengine-js-L166" rel="file-softengine-js-L166">166</span>
            <span class="line-number" id="file-softengine-js-L167" rel="file-softengine-js-L167">167</span>
            <span class="line-number" id="file-softengine-js-L168" rel="file-softengine-js-L168">168</span>
            <span class="line-number" id="file-softengine-js-L169" rel="file-softengine-js-L169">169</span>
            <span class="line-number" id="file-softengine-js-L170" rel="file-softengine-js-L170">170</span>
            <span class="line-number" id="file-softengine-js-L171" rel="file-softengine-js-L171">171</span>
            <span class="line-number" id="file-softengine-js-L172" rel="file-softengine-js-L172">172</span>
            <span class="line-number" id="file-softengine-js-L173" rel="file-softengine-js-L173">173</span>
            <span class="line-number" id="file-softengine-js-L174" rel="file-softengine-js-L174">174</span>
            <span class="line-number" id="file-softengine-js-L175" rel="file-softengine-js-L175">175</span>
            <span class="line-number" id="file-softengine-js-L176" rel="file-softengine-js-L176">176</span>
            <span class="line-number" id="file-softengine-js-L177" rel="file-softengine-js-L177">177</span>
            <span class="line-number" id="file-softengine-js-L178" rel="file-softengine-js-L178">178</span>
            <span class="line-number" id="file-softengine-js-L179" rel="file-softengine-js-L179">179</span>
            <span class="line-number" id="file-softengine-js-L180" rel="file-softengine-js-L180">180</span>
            <span class="line-number" id="file-softengine-js-L181" rel="file-softengine-js-L181">181</span>
            <span class="line-number" id="file-softengine-js-L182" rel="file-softengine-js-L182">182</span>
            <span class="line-number" id="file-softengine-js-L183" rel="file-softengine-js-L183">183</span>
            <span class="line-number" id="file-softengine-js-L184" rel="file-softengine-js-L184">184</span>
            <span class="line-number" id="file-softengine-js-L185" rel="file-softengine-js-L185">185</span>
            <span class="line-number" id="file-softengine-js-L186" rel="file-softengine-js-L186">186</span>
            <span class="line-number" id="file-softengine-js-L187" rel="file-softengine-js-L187">187</span>
            <span class="line-number" id="file-softengine-js-L188" rel="file-softengine-js-L188">188</span>
            <span class="line-number" id="file-softengine-js-L189" rel="file-softengine-js-L189">189</span>
            <span class="line-number" id="file-softengine-js-L190" rel="file-softengine-js-L190">190</span>
            <span class="line-number" id="file-softengine-js-L191" rel="file-softengine-js-L191">191</span>
            <span class="line-number" id="file-softengine-js-L192" rel="file-softengine-js-L192">192</span>
            <span class="line-number" id="file-softengine-js-L193" rel="file-softengine-js-L193">193</span>
            <span class="line-number" id="file-softengine-js-L194" rel="file-softengine-js-L194">194</span>
            <span class="line-number" id="file-softengine-js-L195" rel="file-softengine-js-L195">195</span>
            <span class="line-number" id="file-softengine-js-L196" rel="file-softengine-js-L196">196</span>
            <span class="line-number" id="file-softengine-js-L197" rel="file-softengine-js-L197">197</span>
            <span class="line-number" id="file-softengine-js-L198" rel="file-softengine-js-L198">198</span>
            <span class="line-number" id="file-softengine-js-L199" rel="file-softengine-js-L199">199</span>
            <span class="line-number" id="file-softengine-js-L200" rel="file-softengine-js-L200">200</span>
            <span class="line-number" id="file-softengine-js-L201" rel="file-softengine-js-L201">201</span>
            <span class="line-number" id="file-softengine-js-L202" rel="file-softengine-js-L202">202</span>
            <span class="line-number" id="file-softengine-js-L203" rel="file-softengine-js-L203">203</span>
            <span class="line-number" id="file-softengine-js-L204" rel="file-softengine-js-L204">204</span>
            <span class="line-number" id="file-softengine-js-L205" rel="file-softengine-js-L205">205</span>
            <span class="line-number" id="file-softengine-js-L206" rel="file-softengine-js-L206">206</span>
            <span class="line-number" id="file-softengine-js-L207" rel="file-softengine-js-L207">207</span>
            <span class="line-number" id="file-softengine-js-L208" rel="file-softengine-js-L208">208</span>
            <span class="line-number" id="file-softengine-js-L209" rel="file-softengine-js-L209">209</span>
            <span class="line-number" id="file-softengine-js-L210" rel="file-softengine-js-L210">210</span>
            <span class="line-number" id="file-softengine-js-L211" rel="file-softengine-js-L211">211</span>
            <span class="line-number" id="file-softengine-js-L212" rel="file-softengine-js-L212">212</span>
            <span class="line-number" id="file-softengine-js-L213" rel="file-softengine-js-L213">213</span>
            <span class="line-number" id="file-softengine-js-L214" rel="file-softengine-js-L214">214</span>
            <span class="line-number" id="file-softengine-js-L215" rel="file-softengine-js-L215">215</span>
            <span class="line-number" id="file-softengine-js-L216" rel="file-softengine-js-L216">216</span>
            <span class="line-number" id="file-softengine-js-L217" rel="file-softengine-js-L217">217</span>
            <span class="line-number" id="file-softengine-js-L218" rel="file-softengine-js-L218">218</span>
            <span class="line-number" id="file-softengine-js-L219" rel="file-softengine-js-L219">219</span>
            <span class="line-number" id="file-softengine-js-L220" rel="file-softengine-js-L220">220</span>
            <span class="line-number" id="file-softengine-js-L221" rel="file-softengine-js-L221">221</span>
            <span class="line-number" id="file-softengine-js-L222" rel="file-softengine-js-L222">222</span>
            <span class="line-number" id="file-softengine-js-L223" rel="file-softengine-js-L223">223</span>
            <span class="line-number" id="file-softengine-js-L224" rel="file-softengine-js-L224">224</span>
            <span class="line-number" id="file-softengine-js-L225" rel="file-softengine-js-L225">225</span>
            <span class="line-number" id="file-softengine-js-L226" rel="file-softengine-js-L226">226</span>
            <span class="line-number" id="file-softengine-js-L227" rel="file-softengine-js-L227">227</span>
            <span class="line-number" id="file-softengine-js-L228" rel="file-softengine-js-L228">228</span>
            <span class="line-number" id="file-softengine-js-L229" rel="file-softengine-js-L229">229</span>
            <span class="line-number" id="file-softengine-js-L230" rel="file-softengine-js-L230">230</span>
            <span class="line-number" id="file-softengine-js-L231" rel="file-softengine-js-L231">231</span>
            <span class="line-number" id="file-softengine-js-L232" rel="file-softengine-js-L232">232</span>
            <span class="line-number" id="file-softengine-js-L233" rel="file-softengine-js-L233">233</span>
            <span class="line-number" id="file-softengine-js-L234" rel="file-softengine-js-L234">234</span>
            <span class="line-number" id="file-softengine-js-L235" rel="file-softengine-js-L235">235</span>
            <span class="line-number" id="file-softengine-js-L236" rel="file-softengine-js-L236">236</span>
            <span class="line-number" id="file-softengine-js-L237" rel="file-softengine-js-L237">237</span>
            <span class="line-number" id="file-softengine-js-L238" rel="file-softengine-js-L238">238</span>
            <span class="line-number" id="file-softengine-js-L239" rel="file-softengine-js-L239">239</span>
            <span class="line-number" id="file-softengine-js-L240" rel="file-softengine-js-L240">240</span>
            <span class="line-number" id="file-softengine-js-L241" rel="file-softengine-js-L241">241</span>
            <span class="line-number" id="file-softengine-js-L242" rel="file-softengine-js-L242">242</span>
            <span class="line-number" id="file-softengine-js-L243" rel="file-softengine-js-L243">243</span>
            <span class="line-number" id="file-softengine-js-L244" rel="file-softengine-js-L244">244</span>
            <span class="line-number" id="file-softengine-js-L245" rel="file-softengine-js-L245">245</span>
            <span class="line-number" id="file-softengine-js-L246" rel="file-softengine-js-L246">246</span>
            <span class="line-number" id="file-softengine-js-L247" rel="file-softengine-js-L247">247</span>
            <span class="line-number" id="file-softengine-js-L248" rel="file-softengine-js-L248">248</span>
            <span class="line-number" id="file-softengine-js-L249" rel="file-softengine-js-L249">249</span>
            <span class="line-number" id="file-softengine-js-L250" rel="file-softengine-js-L250">250</span>
            <span class="line-number" id="file-softengine-js-L251" rel="file-softengine-js-L251">251</span>
            <span class="line-number" id="file-softengine-js-L252" rel="file-softengine-js-L252">252</span>
            <span class="line-number" id="file-softengine-js-L253" rel="file-softengine-js-L253">253</span>
            <span class="line-number" id="file-softengine-js-L254" rel="file-softengine-js-L254">254</span>
            <span class="line-number" id="file-softengine-js-L255" rel="file-softengine-js-L255">255</span>
            <span class="line-number" id="file-softengine-js-L256" rel="file-softengine-js-L256">256</span>
            <span class="line-number" id="file-softengine-js-L257" rel="file-softengine-js-L257">257</span>
            <span class="line-number" id="file-softengine-js-L258" rel="file-softengine-js-L258">258</span>
            <span class="line-number" id="file-softengine-js-L259" rel="file-softengine-js-L259">259</span>
            <span class="line-number" id="file-softengine-js-L260" rel="file-softengine-js-L260">260</span>
            <span class="line-number" id="file-softengine-js-L261" rel="file-softengine-js-L261">261</span>
            <span class="line-number" id="file-softengine-js-L262" rel="file-softengine-js-L262">262</span>
            <span class="line-number" id="file-softengine-js-L263" rel="file-softengine-js-L263">263</span>
            <span class="line-number" id="file-softengine-js-L264" rel="file-softengine-js-L264">264</span>
            <span class="line-number" id="file-softengine-js-L265" rel="file-softengine-js-L265">265</span>
            <span class="line-number" id="file-softengine-js-L266" rel="file-softengine-js-L266">266</span>
            <span class="line-number" id="file-softengine-js-L267" rel="file-softengine-js-L267">267</span>
            <span class="line-number" id="file-softengine-js-L268" rel="file-softengine-js-L268">268</span>
            <span class="line-number" id="file-softengine-js-L269" rel="file-softengine-js-L269">269</span>
            <span class="line-number" id="file-softengine-js-L270" rel="file-softengine-js-L270">270</span>
            <span class="line-number" id="file-softengine-js-L271" rel="file-softengine-js-L271">271</span>
            <span class="line-number" id="file-softengine-js-L272" rel="file-softengine-js-L272">272</span>
            <span class="line-number" id="file-softengine-js-L273" rel="file-softengine-js-L273">273</span>
            <span class="line-number" id="file-softengine-js-L274" rel="file-softengine-js-L274">274</span>
            <span class="line-number" id="file-softengine-js-L275" rel="file-softengine-js-L275">275</span>
            <span class="line-number" id="file-softengine-js-L276" rel="file-softengine-js-L276">276</span>
            <span class="line-number" id="file-softengine-js-L277" rel="file-softengine-js-L277">277</span>
            <span class="line-number" id="file-softengine-js-L278" rel="file-softengine-js-L278">278</span>
            <span class="line-number" id="file-softengine-js-L279" rel="file-softengine-js-L279">279</span>
            <span class="line-number" id="file-softengine-js-L280" rel="file-softengine-js-L280">280</span>
            <span class="line-number" id="file-softengine-js-L281" rel="file-softengine-js-L281">281</span>
            <span class="line-number" id="file-softengine-js-L282" rel="file-softengine-js-L282">282</span>
            <span class="line-number" id="file-softengine-js-L283" rel="file-softengine-js-L283">283</span>
            <span class="line-number" id="file-softengine-js-L284" rel="file-softengine-js-L284">284</span>
            <span class="line-number" id="file-softengine-js-L285" rel="file-softengine-js-L285">285</span>
            <span class="line-number" id="file-softengine-js-L286" rel="file-softengine-js-L286">286</span>
            <span class="line-number" id="file-softengine-js-L287" rel="file-softengine-js-L287">287</span>
            <span class="line-number" id="file-softengine-js-L288" rel="file-softengine-js-L288">288</span>
            <span class="line-number" id="file-softengine-js-L289" rel="file-softengine-js-L289">289</span>
            <span class="line-number" id="file-softengine-js-L290" rel="file-softengine-js-L290">290</span>
            <span class="line-number" id="file-softengine-js-L291" rel="file-softengine-js-L291">291</span>
            <span class="line-number" id="file-softengine-js-L292" rel="file-softengine-js-L292">292</span>
            <span class="line-number" id="file-softengine-js-L293" rel="file-softengine-js-L293">293</span>
            <span class="line-number" id="file-softengine-js-L294" rel="file-softengine-js-L294">294</span>
            <span class="line-number" id="file-softengine-js-L295" rel="file-softengine-js-L295">295</span>
            <span class="line-number" id="file-softengine-js-L296" rel="file-softengine-js-L296">296</span>
            <span class="line-number" id="file-softengine-js-L297" rel="file-softengine-js-L297">297</span>
            <span class="line-number" id="file-softengine-js-L298" rel="file-softengine-js-L298">298</span>
            <span class="line-number" id="file-softengine-js-L299" rel="file-softengine-js-L299">299</span>
            <span class="line-number" id="file-softengine-js-L300" rel="file-softengine-js-L300">300</span>
            <span class="line-number" id="file-softengine-js-L301" rel="file-softengine-js-L301">301</span>
            <span class="line-number" id="file-softengine-js-L302" rel="file-softengine-js-L302">302</span>
            <span class="line-number" id="file-softengine-js-L303" rel="file-softengine-js-L303">303</span>
            <span class="line-number" id="file-softengine-js-L304" rel="file-softengine-js-L304">304</span>
            <span class="line-number" id="file-softengine-js-L305" rel="file-softengine-js-L305">305</span>
            <span class="line-number" id="file-softengine-js-L306" rel="file-softengine-js-L306">306</span>
            <span class="line-number" id="file-softengine-js-L307" rel="file-softengine-js-L307">307</span>
            <span class="line-number" id="file-softengine-js-L308" rel="file-softengine-js-L308">308</span>
            <span class="line-number" id="file-softengine-js-L309" rel="file-softengine-js-L309">309</span>
            <span class="line-number" id="file-softengine-js-L310" rel="file-softengine-js-L310">310</span>
            <span class="line-number" id="file-softengine-js-L311" rel="file-softengine-js-L311">311</span>
            <span class="line-number" id="file-softengine-js-L312" rel="file-softengine-js-L312">312</span>
            <span class="line-number" id="file-softengine-js-L313" rel="file-softengine-js-L313">313</span>
            <span class="line-number" id="file-softengine-js-L314" rel="file-softengine-js-L314">314</span>
            <span class="line-number" id="file-softengine-js-L315" rel="file-softengine-js-L315">315</span>
            <span class="line-number" id="file-softengine-js-L316" rel="file-softengine-js-L316">316</span>
            <span class="line-number" id="file-softengine-js-L317" rel="file-softengine-js-L317">317</span>
            <span class="line-number" id="file-softengine-js-L318" rel="file-softengine-js-L318">318</span>
            <span class="line-number" id="file-softengine-js-L319" rel="file-softengine-js-L319">319</span>
            <span class="line-number" id="file-softengine-js-L320" rel="file-softengine-js-L320">320</span>
            <span class="line-number" id="file-softengine-js-L321" rel="file-softengine-js-L321">321</span>
            <span class="line-number" id="file-softengine-js-L322" rel="file-softengine-js-L322">322</span>
            <span class="line-number" id="file-softengine-js-L323" rel="file-softengine-js-L323">323</span>
            <span class="line-number" id="file-softengine-js-L324" rel="file-softengine-js-L324">324</span>
            <span class="line-number" id="file-softengine-js-L325" rel="file-softengine-js-L325">325</span>
            <span class="line-number" id="file-softengine-js-L326" rel="file-softengine-js-L326">326</span>
            <span class="line-number" id="file-softengine-js-L327" rel="file-softengine-js-L327">327</span>
            <span class="line-number" id="file-softengine-js-L328" rel="file-softengine-js-L328">328</span>
            <span class="line-number" id="file-softengine-js-L329" rel="file-softengine-js-L329">329</span>
            <span class="line-number" id="file-softengine-js-L330" rel="file-softengine-js-L330">330</span>
            <span class="line-number" id="file-softengine-js-L331" rel="file-softengine-js-L331">331</span>
            <span class="line-number" id="file-softengine-js-L332" rel="file-softengine-js-L332">332</span>
            <span class="line-number" id="file-softengine-js-L333" rel="file-softengine-js-L333">333</span>
            <span class="line-number" id="file-softengine-js-L334" rel="file-softengine-js-L334">334</span>
            <span class="line-number" id="file-softengine-js-L335" rel="file-softengine-js-L335">335</span>
            <span class="line-number" id="file-softengine-js-L336" rel="file-softengine-js-L336">336</span>
            <span class="line-number" id="file-softengine-js-L337" rel="file-softengine-js-L337">337</span>
            <span class="line-number" id="file-softengine-js-L338" rel="file-softengine-js-L338">338</span>
            <span class="line-number" id="file-softengine-js-L339" rel="file-softengine-js-L339">339</span>
            <span class="line-number" id="file-softengine-js-L340" rel="file-softengine-js-L340">340</span>
            <span class="line-number" id="file-softengine-js-L341" rel="file-softengine-js-L341">341</span>
            <span class="line-number" id="file-softengine-js-L342" rel="file-softengine-js-L342">342</span>
            <span class="line-number" id="file-softengine-js-L343" rel="file-softengine-js-L343">343</span>
            <span class="line-number" id="file-softengine-js-L344" rel="file-softengine-js-L344">344</span>
            <span class="line-number" id="file-softengine-js-L345" rel="file-softengine-js-L345">345</span>
            <span class="line-number" id="file-softengine-js-L346" rel="file-softengine-js-L346">346</span>
            <span class="line-number" id="file-softengine-js-L347" rel="file-softengine-js-L347">347</span>
            <span class="line-number" id="file-softengine-js-L348" rel="file-softengine-js-L348">348</span>
            <span class="line-number" id="file-softengine-js-L349" rel="file-softengine-js-L349">349</span>
            <span class="line-number" id="file-softengine-js-L350" rel="file-softengine-js-L350">350</span>
            <span class="line-number" id="file-softengine-js-L351" rel="file-softengine-js-L351">351</span>
            <span class="line-number" id="file-softengine-js-L352" rel="file-softengine-js-L352">352</span>
            <span class="line-number" id="file-softengine-js-L353" rel="file-softengine-js-L353">353</span>
            <span class="line-number" id="file-softengine-js-L354" rel="file-softengine-js-L354">354</span>
            <span class="line-number" id="file-softengine-js-L355" rel="file-softengine-js-L355">355</span>
            <span class="line-number" id="file-softengine-js-L356" rel="file-softengine-js-L356">356</span>
            <span class="line-number" id="file-softengine-js-L357" rel="file-softengine-js-L357">357</span>
            <span class="line-number" id="file-softengine-js-L358" rel="file-softengine-js-L358">358</span>
            <span class="line-number" id="file-softengine-js-L359" rel="file-softengine-js-L359">359</span>
            <span class="line-number" id="file-softengine-js-L360" rel="file-softengine-js-L360">360</span>
            <span class="line-number" id="file-softengine-js-L361" rel="file-softengine-js-L361">361</span>
            <span class="line-number" id="file-softengine-js-L362" rel="file-softengine-js-L362">362</span>
            <span class="line-number" id="file-softengine-js-L363" rel="file-softengine-js-L363">363</span>
            <span class="line-number" id="file-softengine-js-L364" rel="file-softengine-js-L364">364</span>
            <span class="line-number" id="file-softengine-js-L365" rel="file-softengine-js-L365">365</span>
            <span class="line-number" id="file-softengine-js-L366" rel="file-softengine-js-L366">366</span>
            <span class="line-number" id="file-softengine-js-L367" rel="file-softengine-js-L367">367</span>
            <span class="line-number" id="file-softengine-js-L368" rel="file-softengine-js-L368">368</span>
            <span class="line-number" id="file-softengine-js-L369" rel="file-softengine-js-L369">369</span>
            <span class="line-number" id="file-softengine-js-L370" rel="file-softengine-js-L370">370</span>
            <span class="line-number" id="file-softengine-js-L371" rel="file-softengine-js-L371">371</span>
            <span class="line-number" id="file-softengine-js-L372" rel="file-softengine-js-L372">372</span>
            <span class="line-number" id="file-softengine-js-L373" rel="file-softengine-js-L373">373</span>
            <span class="line-number" id="file-softengine-js-L374" rel="file-softengine-js-L374">374</span>
            <span class="line-number" id="file-softengine-js-L375" rel="file-softengine-js-L375">375</span>
            <span class="line-number" id="file-softengine-js-L376" rel="file-softengine-js-L376">376</span>
            <span class="line-number" id="file-softengine-js-L377" rel="file-softengine-js-L377">377</span>
            <span class="line-number" id="file-softengine-js-L378" rel="file-softengine-js-L378">378</span>
            <span class="line-number" id="file-softengine-js-L379" rel="file-softengine-js-L379">379</span>
            <span class="line-number" id="file-softengine-js-L380" rel="file-softengine-js-L380">380</span>
            <span class="line-number" id="file-softengine-js-L381" rel="file-softengine-js-L381">381</span>
            <span class="line-number" id="file-softengine-js-L382" rel="file-softengine-js-L382">382</span>
            <span class="line-number" id="file-softengine-js-L383" rel="file-softengine-js-L383">383</span>
            <span class="line-number" id="file-softengine-js-L384" rel="file-softengine-js-L384">384</span>
            <span class="line-number" id="file-softengine-js-L385" rel="file-softengine-js-L385">385</span>
            <span class="line-number" id="file-softengine-js-L386" rel="file-softengine-js-L386">386</span>
            <span class="line-number" id="file-softengine-js-L387" rel="file-softengine-js-L387">387</span>
            <span class="line-number" id="file-softengine-js-L388" rel="file-softengine-js-L388">388</span>
            <span class="line-number" id="file-softengine-js-L389" rel="file-softengine-js-L389">389</span>
            <span class="line-number" id="file-softengine-js-L390" rel="file-softengine-js-L390">390</span>
            <span class="line-number" id="file-softengine-js-L391" rel="file-softengine-js-L391">391</span>
            <span class="line-number" id="file-softengine-js-L392" rel="file-softengine-js-L392">392</span>
            <span class="line-number" id="file-softengine-js-L393" rel="file-softengine-js-L393">393</span>
            <span class="line-number" id="file-softengine-js-L394" rel="file-softengine-js-L394">394</span>
            <span class="line-number" id="file-softengine-js-L395" rel="file-softengine-js-L395">395</span>
            <span class="line-number" id="file-softengine-js-L396" rel="file-softengine-js-L396">396</span>
            <span class="line-number" id="file-softengine-js-L397" rel="file-softengine-js-L397">397</span>
            <span class="line-number" id="file-softengine-js-L398" rel="file-softengine-js-L398">398</span>
            <span class="line-number" id="file-softengine-js-L399" rel="file-softengine-js-L399">399</span>
            <span class="line-number" id="file-softengine-js-L400" rel="file-softengine-js-L400">400</span>
            <span class="line-number" id="file-softengine-js-L401" rel="file-softengine-js-L401">401</span>
            <span class="line-number" id="file-softengine-js-L402" rel="file-softengine-js-L402">402</span>
            <span class="line-number" id="file-softengine-js-L403" rel="file-softengine-js-L403">403</span>
            <span class="line-number" id="file-softengine-js-L404" rel="file-softengine-js-L404">404</span>
            <span class="line-number" id="file-softengine-js-L405" rel="file-softengine-js-L405">405</span>
            <span class="line-number" id="file-softengine-js-L406" rel="file-softengine-js-L406">406</span>
            <span class="line-number" id="file-softengine-js-L407" rel="file-softengine-js-L407">407</span>
            <span class="line-number" id="file-softengine-js-L408" rel="file-softengine-js-L408">408</span>
            <span class="line-number" id="file-softengine-js-L409" rel="file-softengine-js-L409">409</span>
            <span class="line-number" id="file-softengine-js-L410" rel="file-softengine-js-L410">410</span>
            <span class="line-number" id="file-softengine-js-L411" rel="file-softengine-js-L411">411</span>
            <span class="line-number" id="file-softengine-js-L412" rel="file-softengine-js-L412">412</span>
            <span class="line-number" id="file-softengine-js-L413" rel="file-softengine-js-L413">413</span>
            <span class="line-number" id="file-softengine-js-L414" rel="file-softengine-js-L414">414</span>
            <span class="line-number" id="file-softengine-js-L415" rel="file-softengine-js-L415">415</span>
            <span class="line-number" id="file-softengine-js-L416" rel="file-softengine-js-L416">416</span>
            <span class="line-number" id="file-softengine-js-L417" rel="file-softengine-js-L417">417</span>
            <span class="line-number" id="file-softengine-js-L418" rel="file-softengine-js-L418">418</span>
            <span class="line-number" id="file-softengine-js-L419" rel="file-softengine-js-L419">419</span>
            <span class="line-number" id="file-softengine-js-L420" rel="file-softengine-js-L420">420</span>
            <span class="line-number" id="file-softengine-js-L421" rel="file-softengine-js-L421">421</span>
            <span class="line-number" id="file-softengine-js-L422" rel="file-softengine-js-L422">422</span>
            <span class="line-number" id="file-softengine-js-L423" rel="file-softengine-js-L423">423</span>
            <span class="line-number" id="file-softengine-js-L424" rel="file-softengine-js-L424">424</span>
            <span class="line-number" id="file-softengine-js-L425" rel="file-softengine-js-L425">425</span>
            <span class="line-number" id="file-softengine-js-L426" rel="file-softengine-js-L426">426</span>
            <span class="line-number" id="file-softengine-js-L427" rel="file-softengine-js-L427">427</span>
            <span class="line-number" id="file-softengine-js-L428" rel="file-softengine-js-L428">428</span>
            <span class="line-number" id="file-softengine-js-L429" rel="file-softengine-js-L429">429</span>
            <span class="line-number" id="file-softengine-js-L430" rel="file-softengine-js-L430">430</span>
            <span class="line-number" id="file-softengine-js-L431" rel="file-softengine-js-L431">431</span>
            <span class="line-number" id="file-softengine-js-L432" rel="file-softengine-js-L432">432</span>
            <span class="line-number" id="file-softengine-js-L433" rel="file-softengine-js-L433">433</span>
            <span class="line-number" id="file-softengine-js-L434" rel="file-softengine-js-L434">434</span>
            <span class="line-number" id="file-softengine-js-L435" rel="file-softengine-js-L435">435</span>
            <span class="line-number" id="file-softengine-js-L436" rel="file-softengine-js-L436">436</span>
            <span class="line-number" id="file-softengine-js-L437" rel="file-softengine-js-L437">437</span>
            <span class="line-number" id="file-softengine-js-L438" rel="file-softengine-js-L438">438</span>
            <span class="line-number" id="file-softengine-js-L439" rel="file-softengine-js-L439">439</span>
            <span class="line-number" id="file-softengine-js-L440" rel="file-softengine-js-L440">440</span>
            <span class="line-number" id="file-softengine-js-L441" rel="file-softengine-js-L441">441</span>
            <span class="line-number" id="file-softengine-js-L442" rel="file-softengine-js-L442">442</span>
            <span class="line-number" id="file-softengine-js-L443" rel="file-softengine-js-L443">443</span>
            <span class="line-number" id="file-softengine-js-L444" rel="file-softengine-js-L444">444</span>
            <span class="line-number" id="file-softengine-js-L445" rel="file-softengine-js-L445">445</span>
            <span class="line-number" id="file-softengine-js-L446" rel="file-softengine-js-L446">446</span>
            <span class="line-number" id="file-softengine-js-L447" rel="file-softengine-js-L447">447</span>
            <span class="line-number" id="file-softengine-js-L448" rel="file-softengine-js-L448">448</span>
            <span class="line-number" id="file-softengine-js-L449" rel="file-softengine-js-L449">449</span>
            <span class="line-number" id="file-softengine-js-L450" rel="file-softengine-js-L450">450</span>
            <span class="line-number" id="file-softengine-js-L451" rel="file-softengine-js-L451">451</span>
            <span class="line-number" id="file-softengine-js-L452" rel="file-softengine-js-L452">452</span>
            <span class="line-number" id="file-softengine-js-L453" rel="file-softengine-js-L453">453</span>
            <span class="line-number" id="file-softengine-js-L454" rel="file-softengine-js-L454">454</span>
            <span class="line-number" id="file-softengine-js-L455" rel="file-softengine-js-L455">455</span>
            <span class="line-number" id="file-softengine-js-L456" rel="file-softengine-js-L456">456</span>
            <span class="line-number" id="file-softengine-js-L457" rel="file-softengine-js-L457">457</span>
            <span class="line-number" id="file-softengine-js-L458" rel="file-softengine-js-L458">458</span>
            <span class="line-number" id="file-softengine-js-L459" rel="file-softengine-js-L459">459</span>
            <span class="line-number" id="file-softengine-js-L460" rel="file-softengine-js-L460">460</span>
            <span class="line-number" id="file-softengine-js-L461" rel="file-softengine-js-L461">461</span>
            <span class="line-number" id="file-softengine-js-L462" rel="file-softengine-js-L462">462</span>
            <span class="line-number" id="file-softengine-js-L463" rel="file-softengine-js-L463">463</span>
            <span class="line-number" id="file-softengine-js-L464" rel="file-softengine-js-L464">464</span>
            <span class="line-number" id="file-softengine-js-L465" rel="file-softengine-js-L465">465</span>
            <span class="line-number" id="file-softengine-js-L466" rel="file-softengine-js-L466">466</span>
            <span class="line-number" id="file-softengine-js-L467" rel="file-softengine-js-L467">467</span>
            <span class="line-number" id="file-softengine-js-L468" rel="file-softengine-js-L468">468</span>
            <span class="line-number" id="file-softengine-js-L469" rel="file-softengine-js-L469">469</span>
            <span class="line-number" id="file-softengine-js-L470" rel="file-softengine-js-L470">470</span>
            <span class="line-number" id="file-softengine-js-L471" rel="file-softengine-js-L471">471</span>
            <span class="line-number" id="file-softengine-js-L472" rel="file-softengine-js-L472">472</span>
            <span class="line-number" id="file-softengine-js-L473" rel="file-softengine-js-L473">473</span>
            <span class="line-number" id="file-softengine-js-L474" rel="file-softengine-js-L474">474</span>
            <span class="line-number" id="file-softengine-js-L475" rel="file-softengine-js-L475">475</span>
            <span class="line-number" id="file-softengine-js-L476" rel="file-softengine-js-L476">476</span>
            <span class="line-number" id="file-softengine-js-L477" rel="file-softengine-js-L477">477</span>
            <span class="line-number" id="file-softengine-js-L478" rel="file-softengine-js-L478">478</span>
            <span class="line-number" id="file-softengine-js-L479" rel="file-softengine-js-L479">479</span>
            <span class="line-number" id="file-softengine-js-L480" rel="file-softengine-js-L480">480</span>
            <span class="line-number" id="file-softengine-js-L481" rel="file-softengine-js-L481">481</span>
            <span class="line-number" id="file-softengine-js-L482" rel="file-softengine-js-L482">482</span>
            <span class="line-number" id="file-softengine-js-L483" rel="file-softengine-js-L483">483</span>
            <span class="line-number" id="file-softengine-js-L484" rel="file-softengine-js-L484">484</span>
            <span class="line-number" id="file-softengine-js-L485" rel="file-softengine-js-L485">485</span>
            <span class="line-number" id="file-softengine-js-L486" rel="file-softengine-js-L486">486</span>
            <span class="line-number" id="file-softengine-js-L487" rel="file-softengine-js-L487">487</span>
            <span class="line-number" id="file-softengine-js-L488" rel="file-softengine-js-L488">488</span>
            <span class="line-number" id="file-softengine-js-L489" rel="file-softengine-js-L489">489</span>
            <span class="line-number" id="file-softengine-js-L490" rel="file-softengine-js-L490">490</span>
            <span class="line-number" id="file-softengine-js-L491" rel="file-softengine-js-L491">491</span>
            <span class="line-number" id="file-softengine-js-L492" rel="file-softengine-js-L492">492</span>
            <span class="line-number" id="file-softengine-js-L493" rel="file-softengine-js-L493">493</span>
            <span class="line-number" id="file-softengine-js-L494" rel="file-softengine-js-L494">494</span>
            <span class="line-number" id="file-softengine-js-L495" rel="file-softengine-js-L495">495</span>
            <span class="line-number" id="file-softengine-js-L496" rel="file-softengine-js-L496">496</span>
            <span class="line-number" id="file-softengine-js-L497" rel="file-softengine-js-L497">497</span>
            <span class="line-number" id="file-softengine-js-L498" rel="file-softengine-js-L498">498</span>
            <span class="line-number" id="file-softengine-js-L499" rel="file-softengine-js-L499">499</span>
            <span class="line-number" id="file-softengine-js-L500" rel="file-softengine-js-L500">500</span>
            <span class="line-number" id="file-softengine-js-L501" rel="file-softengine-js-L501">501</span>
            <span class="line-number" id="file-softengine-js-L502" rel="file-softengine-js-L502">502</span>
            <span class="line-number" id="file-softengine-js-L503" rel="file-softengine-js-L503">503</span>
            <span class="line-number" id="file-softengine-js-L504" rel="file-softengine-js-L504">504</span>
            <span class="line-number" id="file-softengine-js-L505" rel="file-softengine-js-L505">505</span>
            <span class="line-number" id="file-softengine-js-L506" rel="file-softengine-js-L506">506</span>
            <span class="line-number" id="file-softengine-js-L507" rel="file-softengine-js-L507">507</span>
            <span class="line-number" id="file-softengine-js-L508" rel="file-softengine-js-L508">508</span>
            <span class="line-number" id="file-softengine-js-L509" rel="file-softengine-js-L509">509</span>
            <span class="line-number" id="file-softengine-js-L510" rel="file-softengine-js-L510">510</span>
            <span class="line-number" id="file-softengine-js-L511" rel="file-softengine-js-L511">511</span>
            <span class="line-number" id="file-softengine-js-L512" rel="file-softengine-js-L512">512</span>
            <span class="line-number" id="file-softengine-js-L513" rel="file-softengine-js-L513">513</span>
            <span class="line-number" id="file-softengine-js-L514" rel="file-softengine-js-L514">514</span>
            <span class="line-number" id="file-softengine-js-L515" rel="file-softengine-js-L515">515</span>
            <span class="line-number" id="file-softengine-js-L516" rel="file-softengine-js-L516">516</span>
            <span class="line-number" id="file-softengine-js-L517" rel="file-softengine-js-L517">517</span>
            <span class="line-number" id="file-softengine-js-L518" rel="file-softengine-js-L518">518</span>
            <span class="line-number" id="file-softengine-js-L519" rel="file-softengine-js-L519">519</span>
            <span class="line-number" id="file-softengine-js-L520" rel="file-softengine-js-L520">520</span>
            <span class="line-number" id="file-softengine-js-L521" rel="file-softengine-js-L521">521</span>
            <span class="line-number" id="file-softengine-js-L522" rel="file-softengine-js-L522">522</span>
            <span class="line-number" id="file-softengine-js-L523" rel="file-softengine-js-L523">523</span>
            <span class="line-number" id="file-softengine-js-L524" rel="file-softengine-js-L524">524</span>
            <span class="line-number" id="file-softengine-js-L525" rel="file-softengine-js-L525">525</span>
            <span class="line-number" id="file-softengine-js-L526" rel="file-softengine-js-L526">526</span>
            <span class="line-number" id="file-softengine-js-L527" rel="file-softengine-js-L527">527</span>
            <span class="line-number" id="file-softengine-js-L528" rel="file-softengine-js-L528">528</span>
            <span class="line-number" id="file-softengine-js-L529" rel="file-softengine-js-L529">529</span>
            <span class="line-number" id="file-softengine-js-L530" rel="file-softengine-js-L530">530</span>
            <span class="line-number" id="file-softengine-js-L531" rel="file-softengine-js-L531">531</span>
            <span class="line-number" id="file-softengine-js-L532" rel="file-softengine-js-L532">532</span>
            <span class="line-number" id="file-softengine-js-L533" rel="file-softengine-js-L533">533</span>
            <span class="line-number" id="file-softengine-js-L534" rel="file-softengine-js-L534">534</span>
            <span class="line-number" id="file-softengine-js-L535" rel="file-softengine-js-L535">535</span>
            <span class="line-number" id="file-softengine-js-L536" rel="file-softengine-js-L536">536</span>
            <span class="line-number" id="file-softengine-js-L537" rel="file-softengine-js-L537">537</span>
            <span class="line-number" id="file-softengine-js-L538" rel="file-softengine-js-L538">538</span>
            <span class="line-number" id="file-softengine-js-L539" rel="file-softengine-js-L539">539</span>
            <span class="line-number" id="file-softengine-js-L540" rel="file-softengine-js-L540">540</span>
            <span class="line-number" id="file-softengine-js-L541" rel="file-softengine-js-L541">541</span>
            <span class="line-number" id="file-softengine-js-L542" rel="file-softengine-js-L542">542</span>
            <span class="line-number" id="file-softengine-js-L543" rel="file-softengine-js-L543">543</span>
            <span class="line-number" id="file-softengine-js-L544" rel="file-softengine-js-L544">544</span>
            <span class="line-number" id="file-softengine-js-L545" rel="file-softengine-js-L545">545</span>
            <span class="line-number" id="file-softengine-js-L546" rel="file-softengine-js-L546">546</span>
            <span class="line-number" id="file-softengine-js-L547" rel="file-softengine-js-L547">547</span>
            <span class="line-number" id="file-softengine-js-L548" rel="file-softengine-js-L548">548</span>
            <span class="line-number" id="file-softengine-js-L549" rel="file-softengine-js-L549">549</span>
            <span class="line-number" id="file-softengine-js-L550" rel="file-softengine-js-L550">550</span>
            <span class="line-number" id="file-softengine-js-L551" rel="file-softengine-js-L551">551</span>
            <span class="line-number" id="file-softengine-js-L552" rel="file-softengine-js-L552">552</span>
            <span class="line-number" id="file-softengine-js-L553" rel="file-softengine-js-L553">553</span>
            <span class="line-number" id="file-softengine-js-L554" rel="file-softengine-js-L554">554</span>
            <span class="line-number" id="file-softengine-js-L555" rel="file-softengine-js-L555">555</span>
            <span class="line-number" id="file-softengine-js-L556" rel="file-softengine-js-L556">556</span>
            <span class="line-number" id="file-softengine-js-L557" rel="file-softengine-js-L557">557</span>
            <span class="line-number" id="file-softengine-js-L558" rel="file-softengine-js-L558">558</span>
            <span class="line-number" id="file-softengine-js-L559" rel="file-softengine-js-L559">559</span>
            <span class="line-number" id="file-softengine-js-L560" rel="file-softengine-js-L560">560</span>
            <span class="line-number" id="file-softengine-js-L561" rel="file-softengine-js-L561">561</span>
            <span class="line-number" id="file-softengine-js-L562" rel="file-softengine-js-L562">562</span>
            <span class="line-number" id="file-softengine-js-L563" rel="file-softengine-js-L563">563</span>
            <span class="line-number" id="file-softengine-js-L564" rel="file-softengine-js-L564">564</span>
            <span class="line-number" id="file-softengine-js-L565" rel="file-softengine-js-L565">565</span>
            <span class="line-number" id="file-softengine-js-L566" rel="file-softengine-js-L566">566</span>
            <span class="line-number" id="file-softengine-js-L567" rel="file-softengine-js-L567">567</span>
            <span class="line-number" id="file-softengine-js-L568" rel="file-softengine-js-L568">568</span>
            <span class="line-number" id="file-softengine-js-L569" rel="file-softengine-js-L569">569</span>
            <span class="line-number" id="file-softengine-js-L570" rel="file-softengine-js-L570">570</span>
            <span class="line-number" id="file-softengine-js-L571" rel="file-softengine-js-L571">571</span>
            <span class="line-number" id="file-softengine-js-L572" rel="file-softengine-js-L572">572</span>
            <span class="line-number" id="file-softengine-js-L573" rel="file-softengine-js-L573">573</span>
            <span class="line-number" id="file-softengine-js-L574" rel="file-softengine-js-L574">574</span>
            <span class="line-number" id="file-softengine-js-L575" rel="file-softengine-js-L575">575</span>
            <span class="line-number" id="file-softengine-js-L576" rel="file-softengine-js-L576">576</span>
            <span class="line-number" id="file-softengine-js-L577" rel="file-softengine-js-L577">577</span>
            <span class="line-number" id="file-softengine-js-L578" rel="file-softengine-js-L578">578</span>
            <span class="line-number" id="file-softengine-js-L579" rel="file-softengine-js-L579">579</span>
            <span class="line-number" id="file-softengine-js-L580" rel="file-softengine-js-L580">580</span>
            <span class="line-number" id="file-softengine-js-L581" rel="file-softengine-js-L581">581</span>
            <span class="line-number" id="file-softengine-js-L582" rel="file-softengine-js-L582">582</span>
            <span class="line-number" id="file-softengine-js-L583" rel="file-softengine-js-L583">583</span>
            <span class="line-number" id="file-softengine-js-L584" rel="file-softengine-js-L584">584</span>
            <span class="line-number" id="file-softengine-js-L585" rel="file-softengine-js-L585">585</span>
            <span class="line-number" id="file-softengine-js-L586" rel="file-softengine-js-L586">586</span>
            <span class="line-number" id="file-softengine-js-L587" rel="file-softengine-js-L587">587</span>
            <span class="line-number" id="file-softengine-js-L588" rel="file-softengine-js-L588">588</span>
            <span class="line-number" id="file-softengine-js-L589" rel="file-softengine-js-L589">589</span>
            <span class="line-number" id="file-softengine-js-L590" rel="file-softengine-js-L590">590</span>
            <span class="line-number" id="file-softengine-js-L591" rel="file-softengine-js-L591">591</span>
            <span class="line-number" id="file-softengine-js-L592" rel="file-softengine-js-L592">592</span>
            <span class="line-number" id="file-softengine-js-L593" rel="file-softengine-js-L593">593</span>
            <span class="line-number" id="file-softengine-js-L594" rel="file-softengine-js-L594">594</span>
            <span class="line-number" id="file-softengine-js-L595" rel="file-softengine-js-L595">595</span>
            <span class="line-number" id="file-softengine-js-L596" rel="file-softengine-js-L596">596</span>
            <span class="line-number" id="file-softengine-js-L597" rel="file-softengine-js-L597">597</span>
            <span class="line-number" id="file-softengine-js-L598" rel="file-softengine-js-L598">598</span>
            <span class="line-number" id="file-softengine-js-L599" rel="file-softengine-js-L599">599</span>
            <span class="line-number" id="file-softengine-js-L600" rel="file-softengine-js-L600">600</span>
            <span class="line-number" id="file-softengine-js-L601" rel="file-softengine-js-L601">601</span>
            <span class="line-number" id="file-softengine-js-L602" rel="file-softengine-js-L602">602</span>
            <span class="line-number" id="file-softengine-js-L603" rel="file-softengine-js-L603">603</span>
            <span class="line-number" id="file-softengine-js-L604" rel="file-softengine-js-L604">604</span>
            <span class="line-number" id="file-softengine-js-L605" rel="file-softengine-js-L605">605</span>
            <span class="line-number" id="file-softengine-js-L606" rel="file-softengine-js-L606">606</span>
            <span class="line-number" id="file-softengine-js-L607" rel="file-softengine-js-L607">607</span>
            <span class="line-number" id="file-softengine-js-L608" rel="file-softengine-js-L608">608</span>
            <span class="line-number" id="file-softengine-js-L609" rel="file-softengine-js-L609">609</span>
            <span class="line-number" id="file-softengine-js-L610" rel="file-softengine-js-L610">610</span>
            <span class="line-number" id="file-softengine-js-L611" rel="file-softengine-js-L611">611</span>
            <span class="line-number" id="file-softengine-js-L612" rel="file-softengine-js-L612">612</span>
            <span class="line-number" id="file-softengine-js-L613" rel="file-softengine-js-L613">613</span>
            <span class="line-number" id="file-softengine-js-L614" rel="file-softengine-js-L614">614</span>
            <span class="line-number" id="file-softengine-js-L615" rel="file-softengine-js-L615">615</span>
            <span class="line-number" id="file-softengine-js-L616" rel="file-softengine-js-L616">616</span>
            <span class="line-number" id="file-softengine-js-L617" rel="file-softengine-js-L617">617</span>
            <span class="line-number" id="file-softengine-js-L618" rel="file-softengine-js-L618">618</span>
            <span class="line-number" id="file-softengine-js-L619" rel="file-softengine-js-L619">619</span>
            <span class="line-number" id="file-softengine-js-L620" rel="file-softengine-js-L620">620</span>
            <span class="line-number" id="file-softengine-js-L621" rel="file-softengine-js-L621">621</span>
            <span class="line-number" id="file-softengine-js-L622" rel="file-softengine-js-L622">622</span>
            <span class="line-number" id="file-softengine-js-L623" rel="file-softengine-js-L623">623</span>
            <span class="line-number" id="file-softengine-js-L624" rel="file-softengine-js-L624">624</span>
            <span class="line-number" id="file-softengine-js-L625" rel="file-softengine-js-L625">625</span>
            <span class="line-number" id="file-softengine-js-L626" rel="file-softengine-js-L626">626</span>
            <span class="line-number" id="file-softengine-js-L627" rel="file-softengine-js-L627">627</span>
            <span class="line-number" id="file-softengine-js-L628" rel="file-softengine-js-L628">628</span>
            <span class="line-number" id="file-softengine-js-L629" rel="file-softengine-js-L629">629</span>
            <span class="line-number" id="file-softengine-js-L630" rel="file-softengine-js-L630">630</span>
            <span class="line-number" id="file-softengine-js-L631" rel="file-softengine-js-L631">631</span>
            <span class="line-number" id="file-softengine-js-L632" rel="file-softengine-js-L632">632</span>
            <span class="line-number" id="file-softengine-js-L633" rel="file-softengine-js-L633">633</span>
            <span class="line-number" id="file-softengine-js-L634" rel="file-softengine-js-L634">634</span>
            <span class="line-number" id="file-softengine-js-L635" rel="file-softengine-js-L635">635</span>
            <span class="line-number" id="file-softengine-js-L636" rel="file-softengine-js-L636">636</span>
            <span class="line-number" id="file-softengine-js-L637" rel="file-softengine-js-L637">637</span>
            <span class="line-number" id="file-softengine-js-L638" rel="file-softengine-js-L638">638</span>
            <span class="line-number" id="file-softengine-js-L639" rel="file-softengine-js-L639">639</span>
            <span class="line-number" id="file-softengine-js-L640" rel="file-softengine-js-L640">640</span>
            <span class="line-number" id="file-softengine-js-L641" rel="file-softengine-js-L641">641</span>
            <span class="line-number" id="file-softengine-js-L642" rel="file-softengine-js-L642">642</span>
            <span class="line-number" id="file-softengine-js-L643" rel="file-softengine-js-L643">643</span>
            <span class="line-number" id="file-softengine-js-L644" rel="file-softengine-js-L644">644</span>
            <span class="line-number" id="file-softengine-js-L645" rel="file-softengine-js-L645">645</span>
            <span class="line-number" id="file-softengine-js-L646" rel="file-softengine-js-L646">646</span>
            <span class="line-number" id="file-softengine-js-L647" rel="file-softengine-js-L647">647</span>
            <span class="line-number" id="file-softengine-js-L648" rel="file-softengine-js-L648">648</span>
            <span class="line-number" id="file-softengine-js-L649" rel="file-softengine-js-L649">649</span>
            <span class="line-number" id="file-softengine-js-L650" rel="file-softengine-js-L650">650</span>
            <span class="line-number" id="file-softengine-js-L651" rel="file-softengine-js-L651">651</span>
            <span class="line-number" id="file-softengine-js-L652" rel="file-softengine-js-L652">652</span>
            <span class="line-number" id="file-softengine-js-L653" rel="file-softengine-js-L653">653</span>
            <span class="line-number" id="file-softengine-js-L654" rel="file-softengine-js-L654">654</span>
            <span class="line-number" id="file-softengine-js-L655" rel="file-softengine-js-L655">655</span>
            <span class="line-number" id="file-softengine-js-L656" rel="file-softengine-js-L656">656</span>
            <span class="line-number" id="file-softengine-js-L657" rel="file-softengine-js-L657">657</span>
            <span class="line-number" id="file-softengine-js-L658" rel="file-softengine-js-L658">658</span>
            <span class="line-number" id="file-softengine-js-L659" rel="file-softengine-js-L659">659</span>
            <span class="line-number" id="file-softengine-js-L660" rel="file-softengine-js-L660">660</span>
            <span class="line-number" id="file-softengine-js-L661" rel="file-softengine-js-L661">661</span>
            <span class="line-number" id="file-softengine-js-L662" rel="file-softengine-js-L662">662</span>
            <span class="line-number" id="file-softengine-js-L663" rel="file-softengine-js-L663">663</span>
            <span class="line-number" id="file-softengine-js-L664" rel="file-softengine-js-L664">664</span>
            <span class="line-number" id="file-softengine-js-L665" rel="file-softengine-js-L665">665</span>
            <span class="line-number" id="file-softengine-js-L666" rel="file-softengine-js-L666">666</span>
            <span class="line-number" id="file-softengine-js-L667" rel="file-softengine-js-L667">667</span>
            <span class="line-number" id="file-softengine-js-L668" rel="file-softengine-js-L668">668</span>
            <span class="line-number" id="file-softengine-js-L669" rel="file-softengine-js-L669">669</span>
            <span class="line-number" id="file-softengine-js-L670" rel="file-softengine-js-L670">670</span>
            <span class="line-number" id="file-softengine-js-L671" rel="file-softengine-js-L671">671</span>
            <span class="line-number" id="file-softengine-js-L672" rel="file-softengine-js-L672">672</span>
            <span class="line-number" id="file-softengine-js-L673" rel="file-softengine-js-L673">673</span>
            <span class="line-number" id="file-softengine-js-L674" rel="file-softengine-js-L674">674</span>
            <span class="line-number" id="file-softengine-js-L675" rel="file-softengine-js-L675">675</span>
            <span class="line-number" id="file-softengine-js-L676" rel="file-softengine-js-L676">676</span>
            <span class="line-number" id="file-softengine-js-L677" rel="file-softengine-js-L677">677</span>
            <span class="line-number" id="file-softengine-js-L678" rel="file-softengine-js-L678">678</span>
            <span class="line-number" id="file-softengine-js-L679" rel="file-softengine-js-L679">679</span>
            <span class="line-number" id="file-softengine-js-L680" rel="file-softengine-js-L680">680</span>
            <span class="line-number" id="file-softengine-js-L681" rel="file-softengine-js-L681">681</span>
            <span class="line-number" id="file-softengine-js-L682" rel="file-softengine-js-L682">682</span>
            <span class="line-number" id="file-softengine-js-L683" rel="file-softengine-js-L683">683</span>
            <span class="line-number" id="file-softengine-js-L684" rel="file-softengine-js-L684">684</span>
            <span class="line-number" id="file-softengine-js-L685" rel="file-softengine-js-L685">685</span>
            <span class="line-number" id="file-softengine-js-L686" rel="file-softengine-js-L686">686</span>
            <span class="line-number" id="file-softengine-js-L687" rel="file-softengine-js-L687">687</span>
            <span class="line-number" id="file-softengine-js-L688" rel="file-softengine-js-L688">688</span>
            <span class="line-number" id="file-softengine-js-L689" rel="file-softengine-js-L689">689</span>
            <span class="line-number" id="file-softengine-js-L690" rel="file-softengine-js-L690">690</span>
            <span class="line-number" id="file-softengine-js-L691" rel="file-softengine-js-L691">691</span>
            <span class="line-number" id="file-softengine-js-L692" rel="file-softengine-js-L692">692</span>
            <span class="line-number" id="file-softengine-js-L693" rel="file-softengine-js-L693">693</span>
            <span class="line-number" id="file-softengine-js-L694" rel="file-softengine-js-L694">694</span>
            <span class="line-number" id="file-softengine-js-L695" rel="file-softengine-js-L695">695</span>
            <span class="line-number" id="file-softengine-js-L696" rel="file-softengine-js-L696">696</span>
            <span class="line-number" id="file-softengine-js-L697" rel="file-softengine-js-L697">697</span>
            <span class="line-number" id="file-softengine-js-L698" rel="file-softengine-js-L698">698</span>
            <span class="line-number" id="file-softengine-js-L699" rel="file-softengine-js-L699">699</span>
            <span class="line-number" id="file-softengine-js-L700" rel="file-softengine-js-L700">700</span>
            <span class="line-number" id="file-softengine-js-L701" rel="file-softengine-js-L701">701</span>
            <span class="line-number" id="file-softengine-js-L702" rel="file-softengine-js-L702">702</span>
            <span class="line-number" id="file-softengine-js-L703" rel="file-softengine-js-L703">703</span>
            <span class="line-number" id="file-softengine-js-L704" rel="file-softengine-js-L704">704</span>
            <span class="line-number" id="file-softengine-js-L705" rel="file-softengine-js-L705">705</span>
            <span class="line-number" id="file-softengine-js-L706" rel="file-softengine-js-L706">706</span>
            <span class="line-number" id="file-softengine-js-L707" rel="file-softengine-js-L707">707</span>
            <span class="line-number" id="file-softengine-js-L708" rel="file-softengine-js-L708">708</span>
            <span class="line-number" id="file-softengine-js-L709" rel="file-softengine-js-L709">709</span>
            <span class="line-number" id="file-softengine-js-L710" rel="file-softengine-js-L710">710</span>
            <span class="line-number" id="file-softengine-js-L711" rel="file-softengine-js-L711">711</span>
            <span class="line-number" id="file-softengine-js-L712" rel="file-softengine-js-L712">712</span>
            <span class="line-number" id="file-softengine-js-L713" rel="file-softengine-js-L713">713</span>
            <span class="line-number" id="file-softengine-js-L714" rel="file-softengine-js-L714">714</span>
            <span class="line-number" id="file-softengine-js-L715" rel="file-softengine-js-L715">715</span>
            <span class="line-number" id="file-softengine-js-L716" rel="file-softengine-js-L716">716</span>
            <span class="line-number" id="file-softengine-js-L717" rel="file-softengine-js-L717">717</span>
            <span class="line-number" id="file-softengine-js-L718" rel="file-softengine-js-L718">718</span>
            <span class="line-number" id="file-softengine-js-L719" rel="file-softengine-js-L719">719</span>
            <span class="line-number" id="file-softengine-js-L720" rel="file-softengine-js-L720">720</span>
            <span class="line-number" id="file-softengine-js-L721" rel="file-softengine-js-L721">721</span>
            <span class="line-number" id="file-softengine-js-L722" rel="file-softengine-js-L722">722</span>
            <span class="line-number" id="file-softengine-js-L723" rel="file-softengine-js-L723">723</span>
            <span class="line-number" id="file-softengine-js-L724" rel="file-softengine-js-L724">724</span>
            <span class="line-number" id="file-softengine-js-L725" rel="file-softengine-js-L725">725</span>
            <span class="line-number" id="file-softengine-js-L726" rel="file-softengine-js-L726">726</span>
            <span class="line-number" id="file-softengine-js-L727" rel="file-softengine-js-L727">727</span>
            <span class="line-number" id="file-softengine-js-L728" rel="file-softengine-js-L728">728</span>
            <span class="line-number" id="file-softengine-js-L729" rel="file-softengine-js-L729">729</span>
            <span class="line-number" id="file-softengine-js-L730" rel="file-softengine-js-L730">730</span>
            <span class="line-number" id="file-softengine-js-L731" rel="file-softengine-js-L731">731</span>
            <span class="line-number" id="file-softengine-js-L732" rel="file-softengine-js-L732">732</span>
            <span class="line-number" id="file-softengine-js-L733" rel="file-softengine-js-L733">733</span>
            <span class="line-number" id="file-softengine-js-L734" rel="file-softengine-js-L734">734</span>
            <span class="line-number" id="file-softengine-js-L735" rel="file-softengine-js-L735">735</span>
            <span class="line-number" id="file-softengine-js-L736" rel="file-softengine-js-L736">736</span>
            <span class="line-number" id="file-softengine-js-L737" rel="file-softengine-js-L737">737</span>
            <span class="line-number" id="file-softengine-js-L738" rel="file-softengine-js-L738">738</span>
            <span class="line-number" id="file-softengine-js-L739" rel="file-softengine-js-L739">739</span>
            <span class="line-number" id="file-softengine-js-L740" rel="file-softengine-js-L740">740</span>
            <span class="line-number" id="file-softengine-js-L741" rel="file-softengine-js-L741">741</span>
            <span class="line-number" id="file-softengine-js-L742" rel="file-softengine-js-L742">742</span>
            <span class="line-number" id="file-softengine-js-L743" rel="file-softengine-js-L743">743</span>
            <span class="line-number" id="file-softengine-js-L744" rel="file-softengine-js-L744">744</span>
            <span class="line-number" id="file-softengine-js-L745" rel="file-softengine-js-L745">745</span>
            <span class="line-number" id="file-softengine-js-L746" rel="file-softengine-js-L746">746</span>
            <span class="line-number" id="file-softengine-js-L747" rel="file-softengine-js-L747">747</span>
            <span class="line-number" id="file-softengine-js-L748" rel="file-softengine-js-L748">748</span>
            <span class="line-number" id="file-softengine-js-L749" rel="file-softengine-js-L749">749</span>
            <span class="line-number" id="file-softengine-js-L750" rel="file-softengine-js-L750">750</span>
            <span class="line-number" id="file-softengine-js-L751" rel="file-softengine-js-L751">751</span>
            <span class="line-number" id="file-softengine-js-L752" rel="file-softengine-js-L752">752</span>
            <span class="line-number" id="file-softengine-js-L753" rel="file-softengine-js-L753">753</span>
            <span class="line-number" id="file-softengine-js-L754" rel="file-softengine-js-L754">754</span>
            <span class="line-number" id="file-softengine-js-L755" rel="file-softengine-js-L755">755</span>
            <span class="line-number" id="file-softengine-js-L756" rel="file-softengine-js-L756">756</span>
            <span class="line-number" id="file-softengine-js-L757" rel="file-softengine-js-L757">757</span>
            <span class="line-number" id="file-softengine-js-L758" rel="file-softengine-js-L758">758</span>
            <span class="line-number" id="file-softengine-js-L759" rel="file-softengine-js-L759">759</span>
            <span class="line-number" id="file-softengine-js-L760" rel="file-softengine-js-L760">760</span>
            <span class="line-number" id="file-softengine-js-L761" rel="file-softengine-js-L761">761</span>
            <span class="line-number" id="file-softengine-js-L762" rel="file-softengine-js-L762">762</span>
            <span class="line-number" id="file-softengine-js-L763" rel="file-softengine-js-L763">763</span>
            <span class="line-number" id="file-softengine-js-L764" rel="file-softengine-js-L764">764</span>
            <span class="line-number" id="file-softengine-js-L765" rel="file-softengine-js-L765">765</span>
            <span class="line-number" id="file-softengine-js-L766" rel="file-softengine-js-L766">766</span>
            <span class="line-number" id="file-softengine-js-L767" rel="file-softengine-js-L767">767</span>
            <span class="line-number" id="file-softengine-js-L768" rel="file-softengine-js-L768">768</span>
            <span class="line-number" id="file-softengine-js-L769" rel="file-softengine-js-L769">769</span>
            <span class="line-number" id="file-softengine-js-L770" rel="file-softengine-js-L770">770</span>
            <span class="line-number" id="file-softengine-js-L771" rel="file-softengine-js-L771">771</span>
            <span class="line-number" id="file-softengine-js-L772" rel="file-softengine-js-L772">772</span>
            <span class="line-number" id="file-softengine-js-L773" rel="file-softengine-js-L773">773</span>
            <span class="line-number" id="file-softengine-js-L774" rel="file-softengine-js-L774">774</span>
            <span class="line-number" id="file-softengine-js-L775" rel="file-softengine-js-L775">775</span>
            <span class="line-number" id="file-softengine-js-L776" rel="file-softengine-js-L776">776</span>
            <span class="line-number" id="file-softengine-js-L777" rel="file-softengine-js-L777">777</span>
            <span class="line-number" id="file-softengine-js-L778" rel="file-softengine-js-L778">778</span>
            <span class="line-number" id="file-softengine-js-L779" rel="file-softengine-js-L779">779</span>
            <span class="line-number" id="file-softengine-js-L780" rel="file-softengine-js-L780">780</span>
            <span class="line-number" id="file-softengine-js-L781" rel="file-softengine-js-L781">781</span>
            <span class="line-number" id="file-softengine-js-L782" rel="file-softengine-js-L782">782</span>
            <span class="line-number" id="file-softengine-js-L783" rel="file-softengine-js-L783">783</span>
            <span class="line-number" id="file-softengine-js-L784" rel="file-softengine-js-L784">784</span>
            <span class="line-number" id="file-softengine-js-L785" rel="file-softengine-js-L785">785</span>
            <span class="line-number" id="file-softengine-js-L786" rel="file-softengine-js-L786">786</span>
            <span class="line-number" id="file-softengine-js-L787" rel="file-softengine-js-L787">787</span>
            <span class="line-number" id="file-softengine-js-L788" rel="file-softengine-js-L788">788</span>
            <span class="line-number" id="file-softengine-js-L789" rel="file-softengine-js-L789">789</span>
            <span class="line-number" id="file-softengine-js-L790" rel="file-softengine-js-L790">790</span>
            <span class="line-number" id="file-softengine-js-L791" rel="file-softengine-js-L791">791</span>
            <span class="line-number" id="file-softengine-js-L792" rel="file-softengine-js-L792">792</span>
            <span class="line-number" id="file-softengine-js-L793" rel="file-softengine-js-L793">793</span>
            <span class="line-number" id="file-softengine-js-L794" rel="file-softengine-js-L794">794</span>
            <span class="line-number" id="file-softengine-js-L795" rel="file-softengine-js-L795">795</span>
            <span class="line-number" id="file-softengine-js-L796" rel="file-softengine-js-L796">796</span>
            <span class="line-number" id="file-softengine-js-L797" rel="file-softengine-js-L797">797</span>
            <span class="line-number" id="file-softengine-js-L798" rel="file-softengine-js-L798">798</span>
            <span class="line-number" id="file-softengine-js-L799" rel="file-softengine-js-L799">799</span>
            <span class="line-number" id="file-softengine-js-L800" rel="file-softengine-js-L800">800</span>
            <span class="line-number" id="file-softengine-js-L801" rel="file-softengine-js-L801">801</span>
            <span class="line-number" id="file-softengine-js-L802" rel="file-softengine-js-L802">802</span>
            <span class="line-number" id="file-softengine-js-L803" rel="file-softengine-js-L803">803</span>
            <span class="line-number" id="file-softengine-js-L804" rel="file-softengine-js-L804">804</span>
            <span class="line-number" id="file-softengine-js-L805" rel="file-softengine-js-L805">805</span>
            <span class="line-number" id="file-softengine-js-L806" rel="file-softengine-js-L806">806</span>
            <span class="line-number" id="file-softengine-js-L807" rel="file-softengine-js-L807">807</span>
            <span class="line-number" id="file-softengine-js-L808" rel="file-softengine-js-L808">808</span>
            <span class="line-number" id="file-softengine-js-L809" rel="file-softengine-js-L809">809</span>
            <span class="line-number" id="file-softengine-js-L810" rel="file-softengine-js-L810">810</span>
            <span class="line-number" id="file-softengine-js-L811" rel="file-softengine-js-L811">811</span>
            <span class="line-number" id="file-softengine-js-L812" rel="file-softengine-js-L812">812</span>
            <span class="line-number" id="file-softengine-js-L813" rel="file-softengine-js-L813">813</span>
            <span class="line-number" id="file-softengine-js-L814" rel="file-softengine-js-L814">814</span>
            <span class="line-number" id="file-softengine-js-L815" rel="file-softengine-js-L815">815</span>
            <span class="line-number" id="file-softengine-js-L816" rel="file-softengine-js-L816">816</span>
            <span class="line-number" id="file-softengine-js-L817" rel="file-softengine-js-L817">817</span>
            <span class="line-number" id="file-softengine-js-L818" rel="file-softengine-js-L818">818</span>
            <span class="line-number" id="file-softengine-js-L819" rel="file-softengine-js-L819">819</span>
            <span class="line-number" id="file-softengine-js-L820" rel="file-softengine-js-L820">820</span>
            <span class="line-number" id="file-softengine-js-L821" rel="file-softengine-js-L821">821</span>
            <span class="line-number" id="file-softengine-js-L822" rel="file-softengine-js-L822">822</span>
            <span class="line-number" id="file-softengine-js-L823" rel="file-softengine-js-L823">823</span>
            <span class="line-number" id="file-softengine-js-L824" rel="file-softengine-js-L824">824</span>
            <span class="line-number" id="file-softengine-js-L825" rel="file-softengine-js-L825">825</span>
            <span class="line-number" id="file-softengine-js-L826" rel="file-softengine-js-L826">826</span>
            <span class="line-number" id="file-softengine-js-L827" rel="file-softengine-js-L827">827</span>
            <span class="line-number" id="file-softengine-js-L828" rel="file-softengine-js-L828">828</span>
            <span class="line-number" id="file-softengine-js-L829" rel="file-softengine-js-L829">829</span>
            <span class="line-number" id="file-softengine-js-L830" rel="file-softengine-js-L830">830</span>
            <span class="line-number" id="file-softengine-js-L831" rel="file-softengine-js-L831">831</span>
            <span class="line-number" id="file-softengine-js-L832" rel="file-softengine-js-L832">832</span>
            <span class="line-number" id="file-softengine-js-L833" rel="file-softengine-js-L833">833</span>
            <span class="line-number" id="file-softengine-js-L834" rel="file-softengine-js-L834">834</span>
            <span class="line-number" id="file-softengine-js-L835" rel="file-softengine-js-L835">835</span>
            <span class="line-number" id="file-softengine-js-L836" rel="file-softengine-js-L836">836</span>
            <span class="line-number" id="file-softengine-js-L837" rel="file-softengine-js-L837">837</span>
            <span class="line-number" id="file-softengine-js-L838" rel="file-softengine-js-L838">838</span>
            <span class="line-number" id="file-softengine-js-L839" rel="file-softengine-js-L839">839</span>
            <span class="line-number" id="file-softengine-js-L840" rel="file-softengine-js-L840">840</span>
            <span class="line-number" id="file-softengine-js-L841" rel="file-softengine-js-L841">841</span>
            <span class="line-number" id="file-softengine-js-L842" rel="file-softengine-js-L842">842</span>
            <span class="line-number" id="file-softengine-js-L843" rel="file-softengine-js-L843">843</span>
            <span class="line-number" id="file-softengine-js-L844" rel="file-softengine-js-L844">844</span>
            <span class="line-number" id="file-softengine-js-L845" rel="file-softengine-js-L845">845</span>
            <span class="line-number" id="file-softengine-js-L846" rel="file-softengine-js-L846">846</span>
            <span class="line-number" id="file-softengine-js-L847" rel="file-softengine-js-L847">847</span>
            <span class="line-number" id="file-softengine-js-L848" rel="file-softengine-js-L848">848</span>
            <span class="line-number" id="file-softengine-js-L849" rel="file-softengine-js-L849">849</span>
            <span class="line-number" id="file-softengine-js-L850" rel="file-softengine-js-L850">850</span>
            <span class="line-number" id="file-softengine-js-L851" rel="file-softengine-js-L851">851</span>
            <span class="line-number" id="file-softengine-js-L852" rel="file-softengine-js-L852">852</span>
            <span class="line-number" id="file-softengine-js-L853" rel="file-softengine-js-L853">853</span>
            <span class="line-number" id="file-softengine-js-L854" rel="file-softengine-js-L854">854</span>
            <span class="line-number" id="file-softengine-js-L855" rel="file-softengine-js-L855">855</span>
            <span class="line-number" id="file-softengine-js-L856" rel="file-softengine-js-L856">856</span>
            <span class="line-number" id="file-softengine-js-L857" rel="file-softengine-js-L857">857</span>
            <span class="line-number" id="file-softengine-js-L858" rel="file-softengine-js-L858">858</span>
            <span class="line-number" id="file-softengine-js-L859" rel="file-softengine-js-L859">859</span>
            <span class="line-number" id="file-softengine-js-L860" rel="file-softengine-js-L860">860</span>
            <span class="line-number" id="file-softengine-js-L861" rel="file-softengine-js-L861">861</span>
            <span class="line-number" id="file-softengine-js-L862" rel="file-softengine-js-L862">862</span>
            <span class="line-number" id="file-softengine-js-L863" rel="file-softengine-js-L863">863</span>
            <span class="line-number" id="file-softengine-js-L864" rel="file-softengine-js-L864">864</span>
            <span class="line-number" id="file-softengine-js-L865" rel="file-softengine-js-L865">865</span>
            <span class="line-number" id="file-softengine-js-L866" rel="file-softengine-js-L866">866</span>
            <span class="line-number" id="file-softengine-js-L867" rel="file-softengine-js-L867">867</span>
            <span class="line-number" id="file-softengine-js-L868" rel="file-softengine-js-L868">868</span>
            <span class="line-number" id="file-softengine-js-L869" rel="file-softengine-js-L869">869</span>
            <span class="line-number" id="file-softengine-js-L870" rel="file-softengine-js-L870">870</span>
            <span class="line-number" id="file-softengine-js-L871" rel="file-softengine-js-L871">871</span>
            <span class="line-number" id="file-softengine-js-L872" rel="file-softengine-js-L872">872</span>
            <span class="line-number" id="file-softengine-js-L873" rel="file-softengine-js-L873">873</span>
            <span class="line-number" id="file-softengine-js-L874" rel="file-softengine-js-L874">874</span>
            <span class="line-number" id="file-softengine-js-L875" rel="file-softengine-js-L875">875</span>
            <span class="line-number" id="file-softengine-js-L876" rel="file-softengine-js-L876">876</span>
            <span class="line-number" id="file-softengine-js-L877" rel="file-softengine-js-L877">877</span>
            <span class="line-number" id="file-softengine-js-L878" rel="file-softengine-js-L878">878</span>
            <span class="line-number" id="file-softengine-js-L879" rel="file-softengine-js-L879">879</span>
            <span class="line-number" id="file-softengine-js-L880" rel="file-softengine-js-L880">880</span>
            <span class="line-number" id="file-softengine-js-L881" rel="file-softengine-js-L881">881</span>
            <span class="line-number" id="file-softengine-js-L882" rel="file-softengine-js-L882">882</span>
            <span class="line-number" id="file-softengine-js-L883" rel="file-softengine-js-L883">883</span>
            <span class="line-number" id="file-softengine-js-L884" rel="file-softengine-js-L884">884</span>
            <span class="line-number" id="file-softengine-js-L885" rel="file-softengine-js-L885">885</span>
            <span class="line-number" id="file-softengine-js-L886" rel="file-softengine-js-L886">886</span>
            <span class="line-number" id="file-softengine-js-L887" rel="file-softengine-js-L887">887</span>
            <span class="line-number" id="file-softengine-js-L888" rel="file-softengine-js-L888">888</span>
            <span class="line-number" id="file-softengine-js-L889" rel="file-softengine-js-L889">889</span>
            <span class="line-number" id="file-softengine-js-L890" rel="file-softengine-js-L890">890</span>
            <span class="line-number" id="file-softengine-js-L891" rel="file-softengine-js-L891">891</span>
            <span class="line-number" id="file-softengine-js-L892" rel="file-softengine-js-L892">892</span>
            <span class="line-number" id="file-softengine-js-L893" rel="file-softengine-js-L893">893</span>
            <span class="line-number" id="file-softengine-js-L894" rel="file-softengine-js-L894">894</span>
            <span class="line-number" id="file-softengine-js-L895" rel="file-softengine-js-L895">895</span>
            <span class="line-number" id="file-softengine-js-L896" rel="file-softengine-js-L896">896</span>
            <span class="line-number" id="file-softengine-js-L897" rel="file-softengine-js-L897">897</span>
            <span class="line-number" id="file-softengine-js-L898" rel="file-softengine-js-L898">898</span>
            <span class="line-number" id="file-softengine-js-L899" rel="file-softengine-js-L899">899</span>
            <span class="line-number" id="file-softengine-js-L900" rel="file-softengine-js-L900">900</span>
            <span class="line-number" id="file-softengine-js-L901" rel="file-softengine-js-L901">901</span>
            <span class="line-number" id="file-softengine-js-L902" rel="file-softengine-js-L902">902</span>
            <span class="line-number" id="file-softengine-js-L903" rel="file-softengine-js-L903">903</span>
            <span class="line-number" id="file-softengine-js-L904" rel="file-softengine-js-L904">904</span>
            <span class="line-number" id="file-softengine-js-L905" rel="file-softengine-js-L905">905</span>
            <span class="line-number" id="file-softengine-js-L906" rel="file-softengine-js-L906">906</span>
            <span class="line-number" id="file-softengine-js-L907" rel="file-softengine-js-L907">907</span>
            <span class="line-number" id="file-softengine-js-L908" rel="file-softengine-js-L908">908</span>
            <span class="line-number" id="file-softengine-js-L909" rel="file-softengine-js-L909">909</span>
            <span class="line-number" id="file-softengine-js-L910" rel="file-softengine-js-L910">910</span>
            <span class="line-number" id="file-softengine-js-L911" rel="file-softengine-js-L911">911</span>
            <span class="line-number" id="file-softengine-js-L912" rel="file-softengine-js-L912">912</span>
            <span class="line-number" id="file-softengine-js-L913" rel="file-softengine-js-L913">913</span>
            <span class="line-number" id="file-softengine-js-L914" rel="file-softengine-js-L914">914</span>
            <span class="line-number" id="file-softengine-js-L915" rel="file-softengine-js-L915">915</span>
            <span class="line-number" id="file-softengine-js-L916" rel="file-softengine-js-L916">916</span>
            <span class="line-number" id="file-softengine-js-L917" rel="file-softengine-js-L917">917</span>
            <span class="line-number" id="file-softengine-js-L918" rel="file-softengine-js-L918">918</span>
            <span class="line-number" id="file-softengine-js-L919" rel="file-softengine-js-L919">919</span>
            <span class="line-number" id="file-softengine-js-L920" rel="file-softengine-js-L920">920</span>
            <span class="line-number" id="file-softengine-js-L921" rel="file-softengine-js-L921">921</span>
            <span class="line-number" id="file-softengine-js-L922" rel="file-softengine-js-L922">922</span>
            <span class="line-number" id="file-softengine-js-L923" rel="file-softengine-js-L923">923</span>
            <span class="line-number" id="file-softengine-js-L924" rel="file-softengine-js-L924">924</span>
            <span class="line-number" id="file-softengine-js-L925" rel="file-softengine-js-L925">925</span>
          </td>
          <td class="line-data">
            <pre class="line-pre"><div class="line" id="file-softengine-js-LC1"><span class="pl-s3">window</span>[<span class="pl-s1"><span class="pl-pds">'</span>requestAnimationFrame<span class="pl-pds">'</span></span>] <span class="pl-k">=</span> (<span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC2">    <span class="pl-k">return</span> <span class="pl-s3">window</span>[<span class="pl-s1"><span class="pl-pds">'</span>requestAnimationFrame<span class="pl-pds">'</span></span>] <span class="pl-k">||</span> <span class="pl-s3">window</span>[<span class="pl-s1"><span class="pl-pds">'</span>webkitRequestAnimationFrame<span class="pl-pds">'</span></span>] <span class="pl-k">||</span> <span class="pl-s3">window</span>[<span class="pl-s1"><span class="pl-pds">'</span>mozRequestAnimationFrame<span class="pl-pds">'</span></span>] <span class="pl-k">||</span> <span class="pl-st">function</span> (<span class="pl-vpf">callback</span>) {
</div><div class="line" id="file-softengine-js-LC3">        <span class="pl-s3">window</span>.<span class="pl-s3">setTimeout</span>(callback, <span class="pl-c1">1000</span> / <span class="pl-c1">60</span>);
</div><div class="line" id="file-softengine-js-LC4">    };
</div><div class="line" id="file-softengine-js-LC5">})();
</div><div class="line" id="file-softengine-js-LC6">&nbsp;
</div><div class="line" id="file-softengine-js-LC7"><span class="pl-s">var</span> SoftEngine;
</div><div class="line" id="file-softengine-js-LC8">(<span class="pl-st">function</span> (<span class="pl-vpf">SoftEngine</span>) {
</div><div class="line" id="file-softengine-js-LC9">    <span class="pl-s">var</span> Color4 <span class="pl-k">=</span> (<span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC10">        <span class="pl-st">function</span> <span class="pl-en">Color4</span>(<span class="pl-vpf">initialR</span>, <span class="pl-vpf">initialG</span>, <span class="pl-vpf">initialB</span>, <span class="pl-vpf">initialA</span>) {
</div><div class="line" id="file-softengine-js-LC11">            <span class="pl-v">this</span>.r <span class="pl-k">=</span> initialR;
</div><div class="line" id="file-softengine-js-LC12">            <span class="pl-v">this</span>.g <span class="pl-k">=</span> initialG;
</div><div class="line" id="file-softengine-js-LC13">            <span class="pl-v">this</span>.b <span class="pl-k">=</span> initialB;
</div><div class="line" id="file-softengine-js-LC14">            <span class="pl-v">this</span>.a <span class="pl-k">=</span> initialA;
</div><div class="line" id="file-softengine-js-LC15">        }
</div><div class="line" id="file-softengine-js-LC16">        <span class="pl-s3">Color4</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">toString</span> <span class="pl-k">=</span> <span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC17">            <span class="pl-k">return</span> <span class="pl-s1"><span class="pl-pds">'</span>{R: <span class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-v">this</span>.r <span class="pl-k">+</span> <span class="pl-s1"><span class="pl-pds">'</span> G:<span class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-v">this</span>.g <span class="pl-k">+</span> <span class="pl-s1"><span class="pl-pds">'</span> B:<span class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-v">this</span>.b <span class="pl-k">+</span> <span class="pl-s1"><span class="pl-pds">'</span> A:<span class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-v">this</span>.a <span class="pl-k">+</span> <span class="pl-s1"><span class="pl-pds">'</span>}<span class="pl-pds">'</span></span>;
</div><div class="line" id="file-softengine-js-LC18">        };
</div><div class="line" id="file-softengine-js-LC19">        <span class="pl-k">return</span> Color4;
</div><div class="line" id="file-softengine-js-LC20">    })();
</div><div class="line" id="file-softengine-js-LC21">    SoftEngine.Color4 <span class="pl-k">=</span> Color4;
</div><div class="line" id="file-softengine-js-LC22">&nbsp;
</div><div class="line" id="file-softengine-js-LC23">    <span class="pl-s">var</span> Vector2 <span class="pl-k">=</span> (<span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC24">        <span class="pl-st">function</span> <span class="pl-en">Vector2</span>(<span class="pl-vpf">initialX</span>, <span class="pl-vpf">initialY</span>) {
</div><div class="line" id="file-softengine-js-LC25">            <span class="pl-v">this</span>.<span class="pl-sc">x</span> <span class="pl-k">=</span> initialX;
</div><div class="line" id="file-softengine-js-LC26">            <span class="pl-v">this</span>.<span class="pl-sc">y</span> <span class="pl-k">=</span> initialY;
</div><div class="line" id="file-softengine-js-LC27">        }
</div><div class="line" id="file-softengine-js-LC28">        <span class="pl-s3">Vector2</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">toString</span> <span class="pl-k">=</span> <span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC29">            <span class="pl-k">return</span> <span class="pl-s1"><span class="pl-pds">'</span>{X: <span class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-v">this</span>.<span class="pl-sc">x</span> <span class="pl-k">+</span> <span class="pl-s1"><span class="pl-pds">'</span> Y:<span class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-v">this</span>.<span class="pl-sc">y</span> <span class="pl-k">+</span> <span class="pl-s1"><span class="pl-pds">'</span>}<span class="pl-pds">'</span></span>;
</div><div class="line" id="file-softengine-js-LC30">        };
</div><div class="line" id="file-softengine-js-LC31">        <span class="pl-s3">Vector2</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">add</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">vector</span>) {
</div><div class="line" id="file-softengine-js-LC32">            <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Vector2</span>(<span class="pl-v">this</span>.<span class="pl-sc">x</span> <span class="pl-k">+</span> vector.<span class="pl-sc">x</span>, <span class="pl-v">this</span>.<span class="pl-sc">y</span> <span class="pl-k">+</span> vector.<span class="pl-sc">y</span>);
</div><div class="line" id="file-softengine-js-LC33">        };
</div><div class="line" id="file-softengine-js-LC34">        <span class="pl-s3">Vector2</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">subtract</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">vector</span>) {
</div><div class="line" id="file-softengine-js-LC35">            <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Vector2</span>(<span class="pl-v">this</span>.<span class="pl-sc">x</span> <span class="pl-k">-</span> vector.<span class="pl-sc">x</span>, <span class="pl-v">this</span>.<span class="pl-sc">y</span> <span class="pl-k">-</span> vector.<span class="pl-sc">y</span>);
</div><div class="line" id="file-softengine-js-LC36">        };
</div><div class="line" id="file-softengine-js-LC37">        <span class="pl-s3">Vector2</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">negate</span> <span class="pl-k">=</span> <span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC38">            <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Vector2</span>(<span class="pl-k">-</span><span class="pl-v">this</span>.<span class="pl-sc">x</span>, <span class="pl-k">-</span><span class="pl-v">this</span>.<span class="pl-sc">y</span>);
</div><div class="line" id="file-softengine-js-LC39">        };
</div><div class="line" id="file-softengine-js-LC40">        <span class="pl-s3">Vector2</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">scale</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">scale</span>) {
</div><div class="line" id="file-softengine-js-LC41">            <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Vector2</span>(<span class="pl-v">this</span>.<span class="pl-sc">x</span> <span class="pl-k">*</span> scale, <span class="pl-v">this</span>.<span class="pl-sc">y</span> <span class="pl-k">*</span> scale);
</div><div class="line" id="file-softengine-js-LC42">        };
</div><div class="line" id="file-softengine-js-LC43">        <span class="pl-s3">Vector2</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">equals</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">vector</span>) {
</div><div class="line" id="file-softengine-js-LC44">            <span class="pl-k">return</span> <span class="pl-v">this</span>.<span class="pl-sc">x</span> <span class="pl-k">===</span> vector.<span class="pl-sc">x</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-v">this</span>.<span class="pl-sc">y</span> <span class="pl-k">===</span> vector.<span class="pl-sc">y</span>;
</div><div class="line" id="file-softengine-js-LC45">        };
</div><div class="line" id="file-softengine-js-LC46">        <span class="pl-s3">Vector2</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">length</span> <span class="pl-k">=</span> <span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC47">            <span class="pl-k">return</span> <span class="pl-s3">Math</span>.<span class="pl-s3">sqrt</span>(<span class="pl-v">this</span>.lengthSquared());
</div><div class="line" id="file-softengine-js-LC48">        };
</div><div class="line" id="file-softengine-js-LC49">        <span class="pl-s3">Vector2</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">lengthSquared</span> <span class="pl-k">=</span> <span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC50">            <span class="pl-k">return</span> <span class="pl-v">this</span>.<span class="pl-sc">x</span> <span class="pl-k">*</span> <span class="pl-v">this</span>.<span class="pl-sc">x</span> <span class="pl-k">+</span> <span class="pl-v">this</span>.<span class="pl-sc">y</span> <span class="pl-k">*</span> <span class="pl-v">this</span>.<span class="pl-sc">y</span>;
</div><div class="line" id="file-softengine-js-LC51">        };
</div><div class="line" id="file-softengine-js-LC52">        <span class="pl-s3">Vector2</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">normalize</span> <span class="pl-k">=</span> <span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC53">            <span class="pl-s">var</span> len <span class="pl-k">=</span> <span class="pl-v">this</span>.<span class="pl-sc">length</span>();
</div><div class="line" id="file-softengine-js-LC54">            <span class="pl-k">if</span> (len <span class="pl-k">===</span> <span class="pl-c1">0</span>) {
</div><div class="line" id="file-softengine-js-LC55">                <span class="pl-k">return</span>;
</div><div class="line" id="file-softengine-js-LC56">            }
</div><div class="line" id="file-softengine-js-LC57">            <span class="pl-s">var</span> num <span class="pl-k">=</span> <span class="pl-c1">1.0</span> / len;
</div><div class="line" id="file-softengine-js-LC58">            <span class="pl-v">this</span>.<span class="pl-sc">x</span> <span class="pl-k">*=</span> num;
</div><div class="line" id="file-softengine-js-LC59">            <span class="pl-v">this</span>.<span class="pl-sc">y</span> <span class="pl-k">*=</span> num;
</div><div class="line" id="file-softengine-js-LC60">        };
</div><div class="line" id="file-softengine-js-LC61">        <span class="pl-s3">Vector2</span>.<span class="pl-en">Zero</span> <span class="pl-k">=</span> <span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC62">            <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Vector2</span>(<span class="pl-c1">0</span>, <span class="pl-c1">0</span>);
</div><div class="line" id="file-softengine-js-LC63">        };
</div><div class="line" id="file-softengine-js-LC64">        <span class="pl-s3">Vector2</span>.<span class="pl-en">Copy</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">vector</span>) {
</div><div class="line" id="file-softengine-js-LC65">            <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Vector2</span>(vector.<span class="pl-sc">x</span>, vector.<span class="pl-sc">y</span>);
</div><div class="line" id="file-softengine-js-LC66">        };
</div><div class="line" id="file-softengine-js-LC67">        <span class="pl-s3">Vector2</span>.<span class="pl-en">Normalize</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">vector</span>) {
</div><div class="line" id="file-softengine-js-LC68">            <span class="pl-s">var</span> newVector <span class="pl-k">=</span> Vector2.Copy(vector);
</div><div class="line" id="file-softengine-js-LC69">            newVector.normalize();
</div><div class="line" id="file-softengine-js-LC70">            <span class="pl-k">return</span> newVector;
</div><div class="line" id="file-softengine-js-LC71">        };
</div><div class="line" id="file-softengine-js-LC72">        <span class="pl-s3">Vector2</span>.<span class="pl-en">Minimize</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">left</span>, <span class="pl-vpf">right</span>) {
</div><div class="line" id="file-softengine-js-LC73">            <span class="pl-s">var</span> x <span class="pl-k">=</span> <span class="pl-s3">Math</span>.<span class="pl-s3">min</span>(left.<span class="pl-sc">x</span>, right.<span class="pl-sc">x</span>);
</div><div class="line" id="file-softengine-js-LC74">            <span class="pl-s">var</span> y <span class="pl-k">=</span> <span class="pl-s3">Math</span>.<span class="pl-s3">min</span>(left.<span class="pl-sc">y</span>, right.<span class="pl-sc">y</span>);
</div><div class="line" id="file-softengine-js-LC75">            <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Vector2</span>(x, y);
</div><div class="line" id="file-softengine-js-LC76">        };
</div><div class="line" id="file-softengine-js-LC77">        <span class="pl-s3">Vector2</span>.<span class="pl-en">Maximize</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">left</span>, <span class="pl-vpf">right</span>) {
</div><div class="line" id="file-softengine-js-LC78">            <span class="pl-s">var</span> x <span class="pl-k">=</span> <span class="pl-s3">Math</span>.<span class="pl-s3">max</span>(left.<span class="pl-sc">x</span>, right.<span class="pl-sc">x</span>);
</div><div class="line" id="file-softengine-js-LC79">            <span class="pl-s">var</span> y <span class="pl-k">=</span> <span class="pl-s3">Math</span>.<span class="pl-s3">max</span>(left.<span class="pl-sc">y</span>, right.<span class="pl-sc">y</span>);
</div><div class="line" id="file-softengine-js-LC80">            <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Vector2</span>(x, y);
</div><div class="line" id="file-softengine-js-LC81">        };
</div><div class="line" id="file-softengine-js-LC82">        <span class="pl-s3">Vector2</span>.<span class="pl-en">Transform</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">vector</span>, <span class="pl-vpf">transformation</span>) {
</div><div class="line" id="file-softengine-js-LC83">            <span class="pl-s">var</span> x <span class="pl-k">=</span> (vector.<span class="pl-sc">x</span> <span class="pl-k">*</span> transformation.m[<span class="pl-c1">0</span>]) <span class="pl-k">+</span> (vector.<span class="pl-sc">y</span> <span class="pl-k">*</span> transformation.m[<span class="pl-c1">4</span>]);
</div><div class="line" id="file-softengine-js-LC84">            <span class="pl-s">var</span> y <span class="pl-k">=</span> (vector.<span class="pl-sc">x</span> <span class="pl-k">*</span> transformation.m[<span class="pl-c1">1</span>]) <span class="pl-k">+</span> (vector.<span class="pl-sc">y</span> <span class="pl-k">*</span> transformation.m[<span class="pl-c1">5</span>]);
</div><div class="line" id="file-softengine-js-LC85">            <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Vector2</span>(x, y);
</div><div class="line" id="file-softengine-js-LC86">        };
</div><div class="line" id="file-softengine-js-LC87">        <span class="pl-s3">Vector2</span>.<span class="pl-en">Distance</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">vector1</span>, <span class="pl-vpf">vector2</span>) {
</div><div class="line" id="file-softengine-js-LC88">            <span class="pl-k">return</span> <span class="pl-s3">Math</span>.<span class="pl-s3">sqrt</span>(Vector2.DistanceSquared(vector1, vector2));
</div><div class="line" id="file-softengine-js-LC89">        };
</div><div class="line" id="file-softengine-js-LC90">        <span class="pl-s3">Vector2</span>.<span class="pl-en">DistanceSquared</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">vector1</span>, <span class="pl-vpf">vector2</span>) {
</div><div class="line" id="file-softengine-js-LC91">            <span class="pl-s">var</span> x <span class="pl-k">=</span> vector1.<span class="pl-sc">x</span> <span class="pl-k">-</span> vector2.<span class="pl-sc">x</span>;
</div><div class="line" id="file-softengine-js-LC92">            <span class="pl-s">var</span> y <span class="pl-k">=</span> vector1.<span class="pl-sc">y</span> <span class="pl-k">-</span> vector2.<span class="pl-sc">y</span>;
</div><div class="line" id="file-softengine-js-LC93">            <span class="pl-k">return</span> (x <span class="pl-k">*</span> x) <span class="pl-k">+</span> (y <span class="pl-k">*</span> y);
</div><div class="line" id="file-softengine-js-LC94">        };
</div><div class="line" id="file-softengine-js-LC95">        <span class="pl-k">return</span> Vector2;
</div><div class="line" id="file-softengine-js-LC96">    })();
</div><div class="line" id="file-softengine-js-LC97">    SoftEngine.Vector2 <span class="pl-k">=</span> Vector2;
</div><div class="line" id="file-softengine-js-LC98">&nbsp;
</div><div class="line" id="file-softengine-js-LC99">    <span class="pl-s">var</span> Vector3 <span class="pl-k">=</span> (<span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC100">        <span class="pl-st">function</span> <span class="pl-en">Vector3</span>(<span class="pl-vpf">initialX</span>, <span class="pl-vpf">initialY</span>, <span class="pl-vpf">initialZ</span>) {
</div><div class="line" id="file-softengine-js-LC101">            <span class="pl-v">this</span>.<span class="pl-sc">x</span> <span class="pl-k">=</span> initialX;
</div><div class="line" id="file-softengine-js-LC102">            <span class="pl-v">this</span>.<span class="pl-sc">y</span> <span class="pl-k">=</span> initialY;
</div><div class="line" id="file-softengine-js-LC103">            <span class="pl-v">this</span>.z <span class="pl-k">=</span> initialZ;
</div><div class="line" id="file-softengine-js-LC104">        }
</div><div class="line" id="file-softengine-js-LC105">        <span class="pl-s3">Vector3</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">toString</span> <span class="pl-k">=</span> <span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC106">            <span class="pl-k">return</span> <span class="pl-s1"><span class="pl-pds">'</span>{X: <span class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-v">this</span>.<span class="pl-sc">x</span> <span class="pl-k">+</span> <span class="pl-s1"><span class="pl-pds">'</span> Y:<span class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-v">this</span>.<span class="pl-sc">y</span> <span class="pl-k">+</span> <span class="pl-s1"><span class="pl-pds">'</span> Z:<span class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-v">this</span>.z <span class="pl-k">+</span> <span class="pl-s1"><span class="pl-pds">'</span>}<span class="pl-pds">'</span></span>;
</div><div class="line" id="file-softengine-js-LC107">        };
</div><div class="line" id="file-softengine-js-LC108">        <span class="pl-s3">Vector3</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">add</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">vector</span>) {
</div><div class="line" id="file-softengine-js-LC109">            <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Vector3</span>(<span class="pl-v">this</span>.<span class="pl-sc">x</span> <span class="pl-k">+</span> vector.<span class="pl-sc">x</span>, <span class="pl-v">this</span>.<span class="pl-sc">y</span> <span class="pl-k">+</span> vector.<span class="pl-sc">y</span>, <span class="pl-v">this</span>.z <span class="pl-k">+</span> vector.z);
</div><div class="line" id="file-softengine-js-LC110">        };
</div><div class="line" id="file-softengine-js-LC111">        <span class="pl-s3">Vector3</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">subtract</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">vector</span>) {
</div><div class="line" id="file-softengine-js-LC112">            <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Vector3</span>(<span class="pl-v">this</span>.<span class="pl-sc">x</span> <span class="pl-k">-</span> vector.<span class="pl-sc">x</span>, <span class="pl-v">this</span>.<span class="pl-sc">y</span> <span class="pl-k">-</span> vector.<span class="pl-sc">y</span>, <span class="pl-v">this</span>.z <span class="pl-k">-</span> vector.z);
</div><div class="line" id="file-softengine-js-LC113">        };
</div><div class="line" id="file-softengine-js-LC114">        <span class="pl-s3">Vector3</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">negate</span> <span class="pl-k">=</span> <span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC115">            <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Vector3</span>(<span class="pl-k">-</span><span class="pl-v">this</span>.<span class="pl-sc">x</span>, <span class="pl-k">-</span><span class="pl-v">this</span>.<span class="pl-sc">y</span>, <span class="pl-k">-</span><span class="pl-v">this</span>.z);
</div><div class="line" id="file-softengine-js-LC116">        };
</div><div class="line" id="file-softengine-js-LC117">        <span class="pl-s3">Vector3</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">scale</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">scale</span>) {
</div><div class="line" id="file-softengine-js-LC118">            <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Vector3</span>(<span class="pl-v">this</span>.<span class="pl-sc">x</span> <span class="pl-k">*</span> scale, <span class="pl-v">this</span>.<span class="pl-sc">y</span> <span class="pl-k">*</span> scale, <span class="pl-v">this</span>.z <span class="pl-k">*</span> scale);
</div><div class="line" id="file-softengine-js-LC119">        };
</div><div class="line" id="file-softengine-js-LC120">        <span class="pl-s3">Vector3</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">equals</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">vector</span>) {
</div><div class="line" id="file-softengine-js-LC121">            <span class="pl-k">return</span> <span class="pl-v">this</span>.<span class="pl-sc">x</span> <span class="pl-k">===</span> vector.<span class="pl-sc">x</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-v">this</span>.<span class="pl-sc">y</span> <span class="pl-k">===</span> vector.<span class="pl-sc">y</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-v">this</span>.z <span class="pl-k">===</span> vector.z;
</div><div class="line" id="file-softengine-js-LC122">        };
</div><div class="line" id="file-softengine-js-LC123">        <span class="pl-s3">Vector3</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">multiply</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">vector</span>) {
</div><div class="line" id="file-softengine-js-LC124">            <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Vector3</span>(<span class="pl-v">this</span>.<span class="pl-sc">x</span> <span class="pl-k">*</span> vector.<span class="pl-sc">x</span>, <span class="pl-v">this</span>.<span class="pl-sc">y</span> <span class="pl-k">*</span> vector.<span class="pl-sc">y</span>, <span class="pl-v">this</span>.z <span class="pl-k">*</span> vector.z);
</div><div class="line" id="file-softengine-js-LC125">        };
</div><div class="line" id="file-softengine-js-LC126">        <span class="pl-s3">Vector3</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">divide</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">vector</span>) {
</div><div class="line" id="file-softengine-js-LC127">            <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Vector3</span>(<span class="pl-v">this</span>.<span class="pl-sc">x</span> / vector.<span class="pl-sc">x</span>, <span class="pl-v">this</span>.<span class="pl-sc">y</span> / vector.<span class="pl-sc">y</span>, <span class="pl-v">this</span>.z / vector.z);
</div><div class="line" id="file-softengine-js-LC128">        };
</div><div class="line" id="file-softengine-js-LC129">        <span class="pl-s3">Vector3</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">length</span> <span class="pl-k">=</span> <span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC130">            <span class="pl-k">return</span> <span class="pl-s3">Math</span>.<span class="pl-s3">sqrt</span>(<span class="pl-v">this</span>.lengthSquared());
</div><div class="line" id="file-softengine-js-LC131">        };
</div><div class="line" id="file-softengine-js-LC132">        <span class="pl-s3">Vector3</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">lengthSquared</span> <span class="pl-k">=</span> <span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC133">            <span class="pl-k">return</span> <span class="pl-v">this</span>.<span class="pl-sc">x</span> <span class="pl-k">*</span> <span class="pl-v">this</span>.<span class="pl-sc">x</span> <span class="pl-k">+</span> <span class="pl-v">this</span>.<span class="pl-sc">y</span> <span class="pl-k">*</span> <span class="pl-v">this</span>.<span class="pl-sc">y</span> <span class="pl-k">+</span> <span class="pl-v">this</span>.z <span class="pl-k">*</span> <span class="pl-v">this</span>.z;
</div><div class="line" id="file-softengine-js-LC134">        };
</div><div class="line" id="file-softengine-js-LC135">        <span class="pl-s3">Vector3</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">normalize</span> <span class="pl-k">=</span> <span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC136">            <span class="pl-s">var</span> len <span class="pl-k">=</span> <span class="pl-v">this</span>.<span class="pl-sc">length</span>();
</div><div class="line" id="file-softengine-js-LC137">            <span class="pl-k">if</span> (len <span class="pl-k">===</span> <span class="pl-c1">0</span>) {
</div><div class="line" id="file-softengine-js-LC138">                <span class="pl-k">return</span>;
</div><div class="line" id="file-softengine-js-LC139">            }
</div><div class="line" id="file-softengine-js-LC140">            <span class="pl-s">var</span> num <span class="pl-k">=</span> <span class="pl-c1">1.0</span> / len;
</div><div class="line" id="file-softengine-js-LC141">            <span class="pl-v">this</span>.<span class="pl-sc">x</span> <span class="pl-k">*=</span> num;
</div><div class="line" id="file-softengine-js-LC142">            <span class="pl-v">this</span>.<span class="pl-sc">y</span> <span class="pl-k">*=</span> num;
</div><div class="line" id="file-softengine-js-LC143">            <span class="pl-v">this</span>.z <span class="pl-k">*=</span> num;
</div><div class="line" id="file-softengine-js-LC144">        };
</div><div class="line" id="file-softengine-js-LC145">&nbsp;
</div><div class="line" id="file-softengine-js-LC146">        <span class="pl-s3">Vector3</span>.<span class="pl-en">FromArray</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">array</span>, <span class="pl-vpf">offset</span>) {
</div><div class="line" id="file-softengine-js-LC147">            <span class="pl-k">if</span> (<span class="pl-k">typeof</span> offset <span class="pl-k">===</span> <span class="pl-s1"><span class="pl-pds">"</span>undefined<span class="pl-pds">"</span></span>) { offset <span class="pl-k">=</span> <span class="pl-c1">0</span>; }
</div><div class="line" id="file-softengine-js-LC148">            <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Vector3</span>(array[offset], array[offset <span class="pl-k">+</span> <span class="pl-c1">1</span>], array[offset <span class="pl-k">+</span> <span class="pl-c1">2</span>]);
</div><div class="line" id="file-softengine-js-LC149">        };
</div><div class="line" id="file-softengine-js-LC150">        <span class="pl-s3">Vector3</span>.<span class="pl-en">Zero</span> <span class="pl-k">=</span> <span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC151">            <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Vector3</span>(<span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>);
</div><div class="line" id="file-softengine-js-LC152">        };
</div><div class="line" id="file-softengine-js-LC153">        <span class="pl-s3">Vector3</span>.<span class="pl-en">Up</span> <span class="pl-k">=</span> <span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC154">            <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Vector3</span>(<span class="pl-c1">0</span>, <span class="pl-c1">1</span>, <span class="pl-c1">0</span>);
</div><div class="line" id="file-softengine-js-LC155">        };
</div><div class="line" id="file-softengine-js-LC156">        <span class="pl-s3">Vector3</span>.<span class="pl-en">Copy</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">vector</span>) {
</div><div class="line" id="file-softengine-js-LC157">            <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Vector3</span>(vector.<span class="pl-sc">x</span>, vector.<span class="pl-sc">y</span>, vector.z);
</div><div class="line" id="file-softengine-js-LC158">        };
</div><div class="line" id="file-softengine-js-LC159">        <span class="pl-s3">Vector3</span>.<span class="pl-en">TransformCoordinates</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">vector</span>, <span class="pl-vpf">transformation</span>) {
</div><div class="line" id="file-softengine-js-LC160">            <span class="pl-s">var</span> x <span class="pl-k">=</span> (vector.<span class="pl-sc">x</span> <span class="pl-k">*</span> transformation.m[<span class="pl-c1">0</span>]) <span class="pl-k">+</span> (vector.<span class="pl-sc">y</span> <span class="pl-k">*</span> transformation.m[<span class="pl-c1">4</span>]) <span class="pl-k">+</span> (vector.z <span class="pl-k">*</span> transformation.m[<span class="pl-c1">8</span>]) <span class="pl-k">+</span> transformation.m[<span class="pl-c1">12</span>];
</div><div class="line" id="file-softengine-js-LC161">            <span class="pl-s">var</span> y <span class="pl-k">=</span> (vector.<span class="pl-sc">x</span> <span class="pl-k">*</span> transformation.m[<span class="pl-c1">1</span>]) <span class="pl-k">+</span> (vector.<span class="pl-sc">y</span> <span class="pl-k">*</span> transformation.m[<span class="pl-c1">5</span>]) <span class="pl-k">+</span> (vector.z <span class="pl-k">*</span> transformation.m[<span class="pl-c1">9</span>]) <span class="pl-k">+</span> transformation.m[<span class="pl-c1">13</span>];
</div><div class="line" id="file-softengine-js-LC162">            <span class="pl-s">var</span> z <span class="pl-k">=</span> (vector.<span class="pl-sc">x</span> <span class="pl-k">*</span> transformation.m[<span class="pl-c1">2</span>]) <span class="pl-k">+</span> (vector.<span class="pl-sc">y</span> <span class="pl-k">*</span> transformation.m[<span class="pl-c1">6</span>]) <span class="pl-k">+</span> (vector.z <span class="pl-k">*</span> transformation.m[<span class="pl-c1">10</span>]) <span class="pl-k">+</span> transformation.m[<span class="pl-c1">14</span>];
</div><div class="line" id="file-softengine-js-LC163">            <span class="pl-s">var</span> w <span class="pl-k">=</span> (vector.<span class="pl-sc">x</span> <span class="pl-k">*</span> transformation.m[<span class="pl-c1">3</span>]) <span class="pl-k">+</span> (vector.<span class="pl-sc">y</span> <span class="pl-k">*</span> transformation.m[<span class="pl-c1">7</span>]) <span class="pl-k">+</span> (vector.z <span class="pl-k">*</span> transformation.m[<span class="pl-c1">11</span>]) <span class="pl-k">+</span> transformation.m[<span class="pl-c1">15</span>];
</div><div class="line" id="file-softengine-js-LC164">            <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Vector3</span>(x / w, y / w, z / w);
</div><div class="line" id="file-softengine-js-LC165">        };
</div><div class="line" id="file-softengine-js-LC166">        <span class="pl-s3">Vector3</span>.<span class="pl-en">TransformNormal</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">vector</span>, <span class="pl-vpf">transformation</span>) {
</div><div class="line" id="file-softengine-js-LC167">            <span class="pl-s">var</span> x <span class="pl-k">=</span> (vector.<span class="pl-sc">x</span> <span class="pl-k">*</span> transformation.m[<span class="pl-c1">0</span>]) <span class="pl-k">+</span> (vector.<span class="pl-sc">y</span> <span class="pl-k">*</span> transformation.m[<span class="pl-c1">4</span>]) <span class="pl-k">+</span> (vector.z <span class="pl-k">*</span> transformation.m[<span class="pl-c1">8</span>]);
</div><div class="line" id="file-softengine-js-LC168">            <span class="pl-s">var</span> y <span class="pl-k">=</span> (vector.<span class="pl-sc">x</span> <span class="pl-k">*</span> transformation.m[<span class="pl-c1">1</span>]) <span class="pl-k">+</span> (vector.<span class="pl-sc">y</span> <span class="pl-k">*</span> transformation.m[<span class="pl-c1">5</span>]) <span class="pl-k">+</span> (vector.z <span class="pl-k">*</span> transformation.m[<span class="pl-c1">9</span>]);
</div><div class="line" id="file-softengine-js-LC169">            <span class="pl-s">var</span> z <span class="pl-k">=</span> (vector.<span class="pl-sc">x</span> <span class="pl-k">*</span> transformation.m[<span class="pl-c1">2</span>]) <span class="pl-k">+</span> (vector.<span class="pl-sc">y</span> <span class="pl-k">*</span> transformation.m[<span class="pl-c1">6</span>]) <span class="pl-k">+</span> (vector.z <span class="pl-k">*</span> transformation.m[<span class="pl-c1">10</span>]);
</div><div class="line" id="file-softengine-js-LC170">            <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Vector3</span>(x, y, z);
</div><div class="line" id="file-softengine-js-LC171">        };
</div><div class="line" id="file-softengine-js-LC172">        <span class="pl-s3">Vector3</span>.<span class="pl-en">Dot</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">left</span>, <span class="pl-vpf">right</span>) {
</div><div class="line" id="file-softengine-js-LC173">            <span class="pl-k">return</span> left.<span class="pl-sc">x</span> <span class="pl-k">*</span> right.<span class="pl-sc">x</span> <span class="pl-k">+</span> left.<span class="pl-sc">y</span> <span class="pl-k">*</span> right.<span class="pl-sc">y</span> <span class="pl-k">+</span> left.z <span class="pl-k">*</span> right.z;
</div><div class="line" id="file-softengine-js-LC174">        };
</div><div class="line" id="file-softengine-js-LC175">        <span class="pl-s3">Vector3</span>.<span class="pl-en">Cross</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">left</span>, <span class="pl-vpf">right</span>) {
</div><div class="line" id="file-softengine-js-LC176">            <span class="pl-s">var</span> x <span class="pl-k">=</span> left.<span class="pl-sc">y</span> <span class="pl-k">*</span> right.z <span class="pl-k">-</span> left.z <span class="pl-k">*</span> right.<span class="pl-sc">y</span>;
</div><div class="line" id="file-softengine-js-LC177">            <span class="pl-s">var</span> y <span class="pl-k">=</span> left.z <span class="pl-k">*</span> right.<span class="pl-sc">x</span> <span class="pl-k">-</span> left.<span class="pl-sc">x</span> <span class="pl-k">*</span> right.z;
</div><div class="line" id="file-softengine-js-LC178">            <span class="pl-s">var</span> z <span class="pl-k">=</span> left.<span class="pl-sc">x</span> <span class="pl-k">*</span> right.<span class="pl-sc">y</span> <span class="pl-k">-</span> left.<span class="pl-sc">y</span> <span class="pl-k">*</span> right.<span class="pl-sc">x</span>;
</div><div class="line" id="file-softengine-js-LC179">            <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Vector3</span>(x, y, z);
</div><div class="line" id="file-softengine-js-LC180">        };
</div><div class="line" id="file-softengine-js-LC181">        <span class="pl-s3">Vector3</span>.<span class="pl-en">Normalize</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">vector</span>) {
</div><div class="line" id="file-softengine-js-LC182">            <span class="pl-s">var</span> newVector <span class="pl-k">=</span> Vector3.Copy(vector);
</div><div class="line" id="file-softengine-js-LC183">            newVector.normalize();
</div><div class="line" id="file-softengine-js-LC184">            <span class="pl-k">return</span> newVector;
</div><div class="line" id="file-softengine-js-LC185">        };
</div><div class="line" id="file-softengine-js-LC186">        <span class="pl-s3">Vector3</span>.<span class="pl-en">Distance</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">vector1</span>, <span class="pl-vpf">vector2</span>) {
</div><div class="line" id="file-softengine-js-LC187">            <span class="pl-k">return</span> <span class="pl-s3">Math</span>.<span class="pl-s3">sqrt</span>(Vector3.DistanceSquared(vector1, vector2));
</div><div class="line" id="file-softengine-js-LC188">        };
</div><div class="line" id="file-softengine-js-LC189">        <span class="pl-s3">Vector3</span>.<span class="pl-en">DistanceSquared</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">vector1</span>, <span class="pl-vpf">vector2</span>) {
</div><div class="line" id="file-softengine-js-LC190">            <span class="pl-s">var</span> x <span class="pl-k">=</span> vector1.<span class="pl-sc">x</span> <span class="pl-k">-</span> vector2.<span class="pl-sc">x</span>;
</div><div class="line" id="file-softengine-js-LC191">            <span class="pl-s">var</span> y <span class="pl-k">=</span> vector1.<span class="pl-sc">y</span> <span class="pl-k">-</span> vector2.<span class="pl-sc">y</span>;
</div><div class="line" id="file-softengine-js-LC192">            <span class="pl-s">var</span> z <span class="pl-k">=</span> vector1.z <span class="pl-k">-</span> vector2.z;
</div><div class="line" id="file-softengine-js-LC193">            <span class="pl-k">return</span> (x <span class="pl-k">*</span> x) <span class="pl-k">+</span> (y <span class="pl-k">*</span> y) <span class="pl-k">+</span> (z <span class="pl-k">*</span> z);
</div><div class="line" id="file-softengine-js-LC194">        };
</div><div class="line" id="file-softengine-js-LC195">        <span class="pl-k">return</span> Vector3;
</div><div class="line" id="file-softengine-js-LC196">    })();
</div><div class="line" id="file-softengine-js-LC197">    SoftEngine.Vector3 <span class="pl-k">=</span> Vector3;
</div><div class="line" id="file-softengine-js-LC198">&nbsp;
</div><div class="line" id="file-softengine-js-LC199">    <span class="pl-s">var</span> Matrix <span class="pl-k">=</span> (<span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC200">        <span class="pl-st">function</span> <span class="pl-en">Matrix</span>() {
</div><div class="line" id="file-softengine-js-LC201">            <span class="pl-v">this</span>.m <span class="pl-k">=</span> [];
</div><div class="line" id="file-softengine-js-LC202">        }
</div><div class="line" id="file-softengine-js-LC203">        <span class="pl-s3">Matrix</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">isIdentity</span> <span class="pl-k">=</span> <span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC204">            <span class="pl-k">return</span> <span class="pl-v">this</span>.equals(Matrix.Identity());
</div><div class="line" id="file-softengine-js-LC205">        };
</div><div class="line" id="file-softengine-js-LC206">        <span class="pl-s3">Matrix</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">determinant</span> <span class="pl-k">=</span> <span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC207">            <span class="pl-s">var</span> temp1 <span class="pl-k">=</span> (<span class="pl-v">this</span>.m[<span class="pl-c1">10</span>] <span class="pl-k">*</span> <span class="pl-v">this</span>.m[<span class="pl-c1">15</span>]) <span class="pl-k">-</span> (<span class="pl-v">this</span>.m[<span class="pl-c1">11</span>] <span class="pl-k">*</span> <span class="pl-v">this</span>.m[<span class="pl-c1">14</span>]);
</div><div class="line" id="file-softengine-js-LC208">            <span class="pl-s">var</span> temp2 <span class="pl-k">=</span> (<span class="pl-v">this</span>.m[<span class="pl-c1">9</span>] <span class="pl-k">*</span> <span class="pl-v">this</span>.m[<span class="pl-c1">15</span>]) <span class="pl-k">-</span> (<span class="pl-v">this</span>.m[<span class="pl-c1">11</span>] <span class="pl-k">*</span> <span class="pl-v">this</span>.m[<span class="pl-c1">13</span>]);
</div><div class="line" id="file-softengine-js-LC209">            <span class="pl-s">var</span> temp3 <span class="pl-k">=</span> (<span class="pl-v">this</span>.m[<span class="pl-c1">9</span>] <span class="pl-k">*</span> <span class="pl-v">this</span>.m[<span class="pl-c1">14</span>]) <span class="pl-k">-</span> (<span class="pl-v">this</span>.m[<span class="pl-c1">10</span>] <span class="pl-k">*</span> <span class="pl-v">this</span>.m[<span class="pl-c1">13</span>]);
</div><div class="line" id="file-softengine-js-LC210">            <span class="pl-s">var</span> temp4 <span class="pl-k">=</span> (<span class="pl-v">this</span>.m[<span class="pl-c1">8</span>] <span class="pl-k">*</span> <span class="pl-v">this</span>.m[<span class="pl-c1">15</span>]) <span class="pl-k">-</span> (<span class="pl-v">this</span>.m[<span class="pl-c1">11</span>] <span class="pl-k">*</span> <span class="pl-v">this</span>.m[<span class="pl-c1">12</span>]);
</div><div class="line" id="file-softengine-js-LC211">            <span class="pl-s">var</span> temp5 <span class="pl-k">=</span> (<span class="pl-v">this</span>.m[<span class="pl-c1">8</span>] <span class="pl-k">*</span> <span class="pl-v">this</span>.m[<span class="pl-c1">14</span>]) <span class="pl-k">-</span> (<span class="pl-v">this</span>.m[<span class="pl-c1">10</span>] <span class="pl-k">*</span> <span class="pl-v">this</span>.m[<span class="pl-c1">12</span>]);
</div><div class="line" id="file-softengine-js-LC212">            <span class="pl-s">var</span> temp6 <span class="pl-k">=</span> (<span class="pl-v">this</span>.m[<span class="pl-c1">8</span>] <span class="pl-k">*</span> <span class="pl-v">this</span>.m[<span class="pl-c1">13</span>]) <span class="pl-k">-</span> (<span class="pl-v">this</span>.m[<span class="pl-c1">9</span>] <span class="pl-k">*</span> <span class="pl-v">this</span>.m[<span class="pl-c1">12</span>]);
</div><div class="line" id="file-softengine-js-LC213">            <span class="pl-k">return</span> ((((<span class="pl-v">this</span>.m[<span class="pl-c1">0</span>] <span class="pl-k">*</span> (((<span class="pl-v">this</span>.m[<span class="pl-c1">5</span>] <span class="pl-k">*</span> temp1) <span class="pl-k">-</span> (<span class="pl-v">this</span>.m[<span class="pl-c1">6</span>] <span class="pl-k">*</span> temp2)) <span class="pl-k">+</span> (<span class="pl-v">this</span>.m[<span class="pl-c1">7</span>] <span class="pl-k">*</span> temp3))) <span class="pl-k">-</span> (<span class="pl-v">this</span>.m[<span class="pl-c1">1</span>] <span class="pl-k">*</span> (((<span class="pl-v">this</span>.m[<span class="pl-c1">4</span>] <span class="pl-k">*</span> temp1) <span class="pl-k">-</span> (<span class="pl-v">this</span>.m[<span class="pl-c1">6</span>] <span class="pl-k">*</span> temp4)) <span class="pl-k">+</span> (<span class="pl-v">this</span>.m[<span class="pl-c1">7</span>] <span class="pl-k">*</span> temp5)))) <span class="pl-k">+</span> (<span class="pl-v">this</span>.m[<span class="pl-c1">2</span>] <span class="pl-k">*</span> (((<span class="pl-v">this</span>.m[<span class="pl-c1">4</span>] <span class="pl-k">*</span> temp2) <span class="pl-k">-</span> (<span class="pl-v">this</span>.m[<span class="pl-c1">5</span>] <span class="pl-k">*</span> temp4)) <span class="pl-k">+</span> (<span class="pl-v">this</span>.m[<span class="pl-c1">7</span>] <span class="pl-k">*</span> temp6)))) <span class="pl-k">-</span> (<span class="pl-v">this</span>.m[<span class="pl-c1">3</span>] <span class="pl-k">*</span> (((<span class="pl-v">this</span>.m[<span class="pl-c1">4</span>] <span class="pl-k">*</span> temp3) <span class="pl-k">-</span> (<span class="pl-v">this</span>.m[<span class="pl-c1">5</span>] <span class="pl-k">*</span> temp5)) <span class="pl-k">+</span> (<span class="pl-v">this</span>.m[<span class="pl-c1">6</span>] <span class="pl-k">*</span> temp6))));
</div><div class="line" id="file-softengine-js-LC214">        };
</div><div class="line" id="file-softengine-js-LC215">        <span class="pl-s3">Matrix</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">toArray</span> <span class="pl-k">=</span> <span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC216">            <span class="pl-k">return</span> <span class="pl-v">this</span>.m;
</div><div class="line" id="file-softengine-js-LC217">        };
</div><div class="line" id="file-softengine-js-LC218">        <span class="pl-s3">Matrix</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">invert</span> <span class="pl-k">=</span> <span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC219">            <span class="pl-s">var</span> l1 <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">0</span>];
</div><div class="line" id="file-softengine-js-LC220">            <span class="pl-s">var</span> l2 <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">1</span>];
</div><div class="line" id="file-softengine-js-LC221">            <span class="pl-s">var</span> l3 <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">2</span>];
</div><div class="line" id="file-softengine-js-LC222">            <span class="pl-s">var</span> l4 <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">3</span>];
</div><div class="line" id="file-softengine-js-LC223">            <span class="pl-s">var</span> l5 <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">4</span>];
</div><div class="line" id="file-softengine-js-LC224">            <span class="pl-s">var</span> l6 <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">5</span>];
</div><div class="line" id="file-softengine-js-LC225">            <span class="pl-s">var</span> l7 <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">6</span>];
</div><div class="line" id="file-softengine-js-LC226">            <span class="pl-s">var</span> l8 <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">7</span>];
</div><div class="line" id="file-softengine-js-LC227">            <span class="pl-s">var</span> l9 <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">8</span>];
</div><div class="line" id="file-softengine-js-LC228">            <span class="pl-s">var</span> l10 <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">9</span>];
</div><div class="line" id="file-softengine-js-LC229">            <span class="pl-s">var</span> l11 <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">10</span>];
</div><div class="line" id="file-softengine-js-LC230">            <span class="pl-s">var</span> l12 <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">11</span>];
</div><div class="line" id="file-softengine-js-LC231">            <span class="pl-s">var</span> l13 <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">12</span>];
</div><div class="line" id="file-softengine-js-LC232">            <span class="pl-s">var</span> l14 <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">13</span>];
</div><div class="line" id="file-softengine-js-LC233">            <span class="pl-s">var</span> l15 <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">14</span>];
</div><div class="line" id="file-softengine-js-LC234">            <span class="pl-s">var</span> l16 <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">15</span>];
</div><div class="line" id="file-softengine-js-LC235">            <span class="pl-s">var</span> l17 <span class="pl-k">=</span> (l11 <span class="pl-k">*</span> l16) <span class="pl-k">-</span> (l12 <span class="pl-k">*</span> l15);
</div><div class="line" id="file-softengine-js-LC236">            <span class="pl-s">var</span> l18 <span class="pl-k">=</span> (l10 <span class="pl-k">*</span> l16) <span class="pl-k">-</span> (l12 <span class="pl-k">*</span> l14);
</div><div class="line" id="file-softengine-js-LC237">            <span class="pl-s">var</span> l19 <span class="pl-k">=</span> (l10 <span class="pl-k">*</span> l15) <span class="pl-k">-</span> (l11 <span class="pl-k">*</span> l14);
</div><div class="line" id="file-softengine-js-LC238">            <span class="pl-s">var</span> l20 <span class="pl-k">=</span> (l9 <span class="pl-k">*</span> l16) <span class="pl-k">-</span> (l12 <span class="pl-k">*</span> l13);
</div><div class="line" id="file-softengine-js-LC239">            <span class="pl-s">var</span> l21 <span class="pl-k">=</span> (l9 <span class="pl-k">*</span> l15) <span class="pl-k">-</span> (l11 <span class="pl-k">*</span> l13);
</div><div class="line" id="file-softengine-js-LC240">            <span class="pl-s">var</span> l22 <span class="pl-k">=</span> (l9 <span class="pl-k">*</span> l14) <span class="pl-k">-</span> (l10 <span class="pl-k">*</span> l13);
</div><div class="line" id="file-softengine-js-LC241">            <span class="pl-s">var</span> l23 <span class="pl-k">=</span> ((l6 <span class="pl-k">*</span> l17) <span class="pl-k">-</span> (l7 <span class="pl-k">*</span> l18)) <span class="pl-k">+</span> (l8 <span class="pl-k">*</span> l19);
</div><div class="line" id="file-softengine-js-LC242">            <span class="pl-s">var</span> l24 <span class="pl-k">=</span> <span class="pl-k">-</span>(((l5 <span class="pl-k">*</span> l17) <span class="pl-k">-</span> (l7 <span class="pl-k">*</span> l20)) <span class="pl-k">+</span> (l8 <span class="pl-k">*</span> l21));
</div><div class="line" id="file-softengine-js-LC243">            <span class="pl-s">var</span> l25 <span class="pl-k">=</span> ((l5 <span class="pl-k">*</span> l18) <span class="pl-k">-</span> (l6 <span class="pl-k">*</span> l20)) <span class="pl-k">+</span> (l8 <span class="pl-k">*</span> l22);
</div><div class="line" id="file-softengine-js-LC244">            <span class="pl-s">var</span> l26 <span class="pl-k">=</span> <span class="pl-k">-</span>(((l5 <span class="pl-k">*</span> l19) <span class="pl-k">-</span> (l6 <span class="pl-k">*</span> l21)) <span class="pl-k">+</span> (l7 <span class="pl-k">*</span> l22));
</div><div class="line" id="file-softengine-js-LC245">            <span class="pl-s">var</span> l27 <span class="pl-k">=</span> <span class="pl-c1">1.0</span> / ((((l1 <span class="pl-k">*</span> l23) <span class="pl-k">+</span> (l2 <span class="pl-k">*</span> l24)) <span class="pl-k">+</span> (l3 <span class="pl-k">*</span> l25)) <span class="pl-k">+</span> (l4 <span class="pl-k">*</span> l26));
</div><div class="line" id="file-softengine-js-LC246">            <span class="pl-s">var</span> l28 <span class="pl-k">=</span> (l7 <span class="pl-k">*</span> l16) <span class="pl-k">-</span> (l8 <span class="pl-k">*</span> l15);
</div><div class="line" id="file-softengine-js-LC247">            <span class="pl-s">var</span> l29 <span class="pl-k">=</span> (l6 <span class="pl-k">*</span> l16) <span class="pl-k">-</span> (l8 <span class="pl-k">*</span> l14);
</div><div class="line" id="file-softengine-js-LC248">            <span class="pl-s">var</span> l30 <span class="pl-k">=</span> (l6 <span class="pl-k">*</span> l15) <span class="pl-k">-</span> (l7 <span class="pl-k">*</span> l14);
</div><div class="line" id="file-softengine-js-LC249">            <span class="pl-s">var</span> l31 <span class="pl-k">=</span> (l5 <span class="pl-k">*</span> l16) <span class="pl-k">-</span> (l8 <span class="pl-k">*</span> l13);
</div><div class="line" id="file-softengine-js-LC250">            <span class="pl-s">var</span> l32 <span class="pl-k">=</span> (l5 <span class="pl-k">*</span> l15) <span class="pl-k">-</span> (l7 <span class="pl-k">*</span> l13);
</div><div class="line" id="file-softengine-js-LC251">            <span class="pl-s">var</span> l33 <span class="pl-k">=</span> (l5 <span class="pl-k">*</span> l14) <span class="pl-k">-</span> (l6 <span class="pl-k">*</span> l13);
</div><div class="line" id="file-softengine-js-LC252">            <span class="pl-s">var</span> l34 <span class="pl-k">=</span> (l7 <span class="pl-k">*</span> l12) <span class="pl-k">-</span> (l8 <span class="pl-k">*</span> l11);
</div><div class="line" id="file-softengine-js-LC253">            <span class="pl-s">var</span> l35 <span class="pl-k">=</span> (l6 <span class="pl-k">*</span> l12) <span class="pl-k">-</span> (l8 <span class="pl-k">*</span> l10);
</div><div class="line" id="file-softengine-js-LC254">            <span class="pl-s">var</span> l36 <span class="pl-k">=</span> (l6 <span class="pl-k">*</span> l11) <span class="pl-k">-</span> (l7 <span class="pl-k">*</span> l10);
</div><div class="line" id="file-softengine-js-LC255">            <span class="pl-s">var</span> l37 <span class="pl-k">=</span> (l5 <span class="pl-k">*</span> l12) <span class="pl-k">-</span> (l8 <span class="pl-k">*</span> l9);
</div><div class="line" id="file-softengine-js-LC256">            <span class="pl-s">var</span> l38 <span class="pl-k">=</span> (l5 <span class="pl-k">*</span> l11) <span class="pl-k">-</span> (l7 <span class="pl-k">*</span> l9);
</div><div class="line" id="file-softengine-js-LC257">            <span class="pl-s">var</span> l39 <span class="pl-k">=</span> (l5 <span class="pl-k">*</span> l10) <span class="pl-k">-</span> (l6 <span class="pl-k">*</span> l9);
</div><div class="line" id="file-softengine-js-LC258">            <span class="pl-v">this</span>.m[<span class="pl-c1">0</span>] <span class="pl-k">=</span> l23 <span class="pl-k">*</span> l27;
</div><div class="line" id="file-softengine-js-LC259">            <span class="pl-v">this</span>.m[<span class="pl-c1">4</span>] <span class="pl-k">=</span> l24 <span class="pl-k">*</span> l27;
</div><div class="line" id="file-softengine-js-LC260">            <span class="pl-v">this</span>.m[<span class="pl-c1">8</span>] <span class="pl-k">=</span> l25 <span class="pl-k">*</span> l27;
</div><div class="line" id="file-softengine-js-LC261">            <span class="pl-v">this</span>.m[<span class="pl-c1">12</span>] <span class="pl-k">=</span> l26 <span class="pl-k">*</span> l27;
</div><div class="line" id="file-softengine-js-LC262">            <span class="pl-v">this</span>.m[<span class="pl-c1">1</span>] <span class="pl-k">=</span> <span class="pl-k">-</span>(((l2 <span class="pl-k">*</span> l17) <span class="pl-k">-</span> (l3 <span class="pl-k">*</span> l18)) <span class="pl-k">+</span> (l4 <span class="pl-k">*</span> l19)) <span class="pl-k">*</span> l27;
</div><div class="line" id="file-softengine-js-LC263">            <span class="pl-v">this</span>.m[<span class="pl-c1">5</span>] <span class="pl-k">=</span> (((l1 <span class="pl-k">*</span> l17) <span class="pl-k">-</span> (l3 <span class="pl-k">*</span> l20)) <span class="pl-k">+</span> (l4 <span class="pl-k">*</span> l21)) <span class="pl-k">*</span> l27;
</div><div class="line" id="file-softengine-js-LC264">            <span class="pl-v">this</span>.m[<span class="pl-c1">9</span>] <span class="pl-k">=</span> <span class="pl-k">-</span>(((l1 <span class="pl-k">*</span> l18) <span class="pl-k">-</span> (l2 <span class="pl-k">*</span> l20)) <span class="pl-k">+</span> (l4 <span class="pl-k">*</span> l22)) <span class="pl-k">*</span> l27;
</div><div class="line" id="file-softengine-js-LC265">            <span class="pl-v">this</span>.m[<span class="pl-c1">13</span>] <span class="pl-k">=</span> (((l1 <span class="pl-k">*</span> l19) <span class="pl-k">-</span> (l2 <span class="pl-k">*</span> l21)) <span class="pl-k">+</span> (l3 <span class="pl-k">*</span> l22)) <span class="pl-k">*</span> l27;
</div><div class="line" id="file-softengine-js-LC266">            <span class="pl-v">this</span>.m[<span class="pl-c1">2</span>] <span class="pl-k">=</span> (((l2 <span class="pl-k">*</span> l28) <span class="pl-k">-</span> (l3 <span class="pl-k">*</span> l29)) <span class="pl-k">+</span> (l4 <span class="pl-k">*</span> l30)) <span class="pl-k">*</span> l27;
</div><div class="line" id="file-softengine-js-LC267">            <span class="pl-v">this</span>.m[<span class="pl-c1">6</span>] <span class="pl-k">=</span> <span class="pl-k">-</span>(((l1 <span class="pl-k">*</span> l28) <span class="pl-k">-</span> (l3 <span class="pl-k">*</span> l31)) <span class="pl-k">+</span> (l4 <span class="pl-k">*</span> l32)) <span class="pl-k">*</span> l27;
</div><div class="line" id="file-softengine-js-LC268">            <span class="pl-v">this</span>.m[<span class="pl-c1">10</span>] <span class="pl-k">=</span> (((l1 <span class="pl-k">*</span> l29) <span class="pl-k">-</span> (l2 <span class="pl-k">*</span> l31)) <span class="pl-k">+</span> (l4 <span class="pl-k">*</span> l33)) <span class="pl-k">*</span> l27;
</div><div class="line" id="file-softengine-js-LC269">            <span class="pl-v">this</span>.m[<span class="pl-c1">14</span>] <span class="pl-k">=</span> <span class="pl-k">-</span>(((l1 <span class="pl-k">*</span> l30) <span class="pl-k">-</span> (l2 <span class="pl-k">*</span> l32)) <span class="pl-k">+</span> (l3 <span class="pl-k">*</span> l33)) <span class="pl-k">*</span> l27;
</div><div class="line" id="file-softengine-js-LC270">            <span class="pl-v">this</span>.m[<span class="pl-c1">3</span>] <span class="pl-k">=</span> <span class="pl-k">-</span>(((l2 <span class="pl-k">*</span> l34) <span class="pl-k">-</span> (l3 <span class="pl-k">*</span> l35)) <span class="pl-k">+</span> (l4 <span class="pl-k">*</span> l36)) <span class="pl-k">*</span> l27;
</div><div class="line" id="file-softengine-js-LC271">            <span class="pl-v">this</span>.m[<span class="pl-c1">7</span>] <span class="pl-k">=</span> (((l1 <span class="pl-k">*</span> l34) <span class="pl-k">-</span> (l3 <span class="pl-k">*</span> l37)) <span class="pl-k">+</span> (l4 <span class="pl-k">*</span> l38)) <span class="pl-k">*</span> l27;
</div><div class="line" id="file-softengine-js-LC272">            <span class="pl-v">this</span>.m[<span class="pl-c1">11</span>] <span class="pl-k">=</span> <span class="pl-k">-</span>(((l1 <span class="pl-k">*</span> l35) <span class="pl-k">-</span> (l2 <span class="pl-k">*</span> l37)) <span class="pl-k">+</span> (l4 <span class="pl-k">*</span> l39)) <span class="pl-k">*</span> l27;
</div><div class="line" id="file-softengine-js-LC273">            <span class="pl-v">this</span>.m[<span class="pl-c1">15</span>] <span class="pl-k">=</span> (((l1 <span class="pl-k">*</span> l36) <span class="pl-k">-</span> (l2 <span class="pl-k">*</span> l38)) <span class="pl-k">+</span> (l3 <span class="pl-k">*</span> l39)) <span class="pl-k">*</span> l27;
</div><div class="line" id="file-softengine-js-LC274">        };
</div><div class="line" id="file-softengine-js-LC275">        <span class="pl-s3">Matrix</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">multiply</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">matrix</span>) {
</div><div class="line" id="file-softengine-js-LC276">            <span class="pl-s">var</span> result <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Matrix</span>();
</div><div class="line" id="file-softengine-js-LC277">            result.m[<span class="pl-c1">0</span>] <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">0</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">0</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">1</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">4</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">2</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">8</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">3</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">12</span>];
</div><div class="line" id="file-softengine-js-LC278">            result.m[<span class="pl-c1">1</span>] <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">0</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">1</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">1</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">5</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">2</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">9</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">3</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">13</span>];
</div><div class="line" id="file-softengine-js-LC279">            result.m[<span class="pl-c1">2</span>] <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">0</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">2</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">1</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">6</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">2</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">10</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">3</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">14</span>];
</div><div class="line" id="file-softengine-js-LC280">            result.m[<span class="pl-c1">3</span>] <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">0</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">3</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">1</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">7</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">2</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">11</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">3</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">15</span>];
</div><div class="line" id="file-softengine-js-LC281">            result.m[<span class="pl-c1">4</span>] <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">4</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">0</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">5</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">4</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">6</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">8</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">7</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">12</span>];
</div><div class="line" id="file-softengine-js-LC282">            result.m[<span class="pl-c1">5</span>] <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">4</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">1</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">5</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">5</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">6</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">9</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">7</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">13</span>];
</div><div class="line" id="file-softengine-js-LC283">            result.m[<span class="pl-c1">6</span>] <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">4</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">2</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">5</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">6</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">6</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">10</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">7</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">14</span>];
</div><div class="line" id="file-softengine-js-LC284">            result.m[<span class="pl-c1">7</span>] <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">4</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">3</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">5</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">7</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">6</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">11</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">7</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">15</span>];
</div><div class="line" id="file-softengine-js-LC285">            result.m[<span class="pl-c1">8</span>] <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">8</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">0</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">9</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">4</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">10</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">8</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">11</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">12</span>];
</div><div class="line" id="file-softengine-js-LC286">            result.m[<span class="pl-c1">9</span>] <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">8</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">1</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">9</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">5</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">10</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">9</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">11</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">13</span>];
</div><div class="line" id="file-softengine-js-LC287">            result.m[<span class="pl-c1">10</span>] <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">8</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">2</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">9</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">6</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">10</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">10</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">11</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">14</span>];
</div><div class="line" id="file-softengine-js-LC288">            result.m[<span class="pl-c1">11</span>] <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">8</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">3</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">9</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">7</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">10</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">11</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">11</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">15</span>];
</div><div class="line" id="file-softengine-js-LC289">            result.m[<span class="pl-c1">12</span>] <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">12</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">0</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">13</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">4</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">14</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">8</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">15</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">12</span>];
</div><div class="line" id="file-softengine-js-LC290">            result.m[<span class="pl-c1">13</span>] <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">12</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">1</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">13</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">5</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">14</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">9</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">15</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">13</span>];
</div><div class="line" id="file-softengine-js-LC291">            result.m[<span class="pl-c1">14</span>] <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">12</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">2</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">13</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">6</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">14</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">10</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">15</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">14</span>];
</div><div class="line" id="file-softengine-js-LC292">            result.m[<span class="pl-c1">15</span>] <span class="pl-k">=</span> <span class="pl-v">this</span>.m[<span class="pl-c1">12</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">3</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">13</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">7</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">14</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">11</span>] <span class="pl-k">+</span> <span class="pl-v">this</span>.m[<span class="pl-c1">15</span>] <span class="pl-k">*</span> matrix.m[<span class="pl-c1">15</span>];
</div><div class="line" id="file-softengine-js-LC293">            <span class="pl-k">return</span> result;
</div><div class="line" id="file-softengine-js-LC294">        };
</div><div class="line" id="file-softengine-js-LC295">        <span class="pl-s3">Matrix</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">equals</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">value</span>) {
</div><div class="line" id="file-softengine-js-LC296">            <span class="pl-k">return</span> <span class="pl-v">this</span>.m[<span class="pl-c1">0</span>] <span class="pl-k">===</span> value.m[<span class="pl-c1">0</span>] <span class="pl-k">&amp;&amp;</span> <span class="pl-v">this</span>.m[<span class="pl-c1">1</span>] <span class="pl-k">===</span> value.m[<span class="pl-c1">1</span>] <span class="pl-k">&amp;&amp;</span> <span class="pl-v">this</span>.m[<span class="pl-c1">2</span>] <span class="pl-k">===</span> value.m[<span class="pl-c1">2</span>] <span class="pl-k">&amp;&amp;</span> <span class="pl-v">this</span>.m[<span class="pl-c1">3</span>] <span class="pl-k">===</span> value.m[<span class="pl-c1">3</span>] <span class="pl-k">&amp;&amp;</span> <span class="pl-v">this</span>.m[<span class="pl-c1">4</span>] <span class="pl-k">===</span> value.m[<span class="pl-c1">4</span>] <span class="pl-k">&amp;&amp;</span> <span class="pl-v">this</span>.m[<span class="pl-c1">5</span>] <span class="pl-k">===</span> value.m[<span class="pl-c1">5</span>] <span class="pl-k">&amp;&amp;</span> <span class="pl-v">this</span>.m[<span class="pl-c1">6</span>] <span class="pl-k">===</span> value.m[<span class="pl-c1">6</span>] <span class="pl-k">&amp;&amp;</span> <span class="pl-v">this</span>.m[<span class="pl-c1">7</span>] <span class="pl-k">===</span> value.m[<span class="pl-c1">7</span>] <span class="pl-k">&amp;&amp;</span> <span class="pl-v">this</span>.m[<span class="pl-c1">8</span>] <span class="pl-k">===</span> value.m[<span class="pl-c1">8</span>] <span class="pl-k">&amp;&amp;</span> <span class="pl-v">this</span>.m[<span class="pl-c1">9</span>] <span class="pl-k">===</span> value.m[<span class="pl-c1">9</span>] <span class="pl-k">&amp;&amp;</span> <span class="pl-v">this</span>.m[<span class="pl-c1">10</span>] <span class="pl-k">===</span> value.m[<span class="pl-c1">10</span>] <span class="pl-k">&amp;&amp;</span> <span class="pl-v">this</span>.m[<span class="pl-c1">11</span>] <span class="pl-k">===</span> value.m[<span class="pl-c1">11</span>] <span class="pl-k">&amp;&amp;</span> <span class="pl-v">this</span>.m[<span class="pl-c1">12</span>] <span class="pl-k">===</span> value.m[<span class="pl-c1">12</span>] <span class="pl-k">&amp;&amp;</span> <span class="pl-v">this</span>.m[<span class="pl-c1">13</span>] <span class="pl-k">===</span> value.m[<span class="pl-c1">13</span>] <span class="pl-k">&amp;&amp;</span> <span class="pl-v">this</span>.m[<span class="pl-c1">14</span>] <span class="pl-k">===</span> value.m[<span class="pl-c1">14</span>] <span class="pl-k">&amp;&amp;</span> <span class="pl-v">this</span>.m[<span class="pl-c1">15</span>] <span class="pl-k">===</span> value.m[<span class="pl-c1">15</span>];
</div><div class="line" id="file-softengine-js-LC297">        };
</div><div class="line" id="file-softengine-js-LC298">        <span class="pl-s3">Matrix</span>.<span class="pl-en">FromValues</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">initialM11</span>, <span class="pl-vpf">initialM12</span>, <span class="pl-vpf">initialM13</span>, <span class="pl-vpf">initialM14</span>, <span class="pl-vpf">initialM21</span>, <span class="pl-vpf">initialM22</span>, <span class="pl-vpf">initialM23</span>, <span class="pl-vpf">initialM24</span>, <span class="pl-vpf">initialM31</span>, <span class="pl-vpf">initialM32</span>, <span class="pl-vpf">initialM33</span>, <span class="pl-vpf">initialM34</span>, <span class="pl-vpf">initialM41</span>, <span class="pl-vpf">initialM42</span>, <span class="pl-vpf">initialM43</span>, <span class="pl-vpf">initialM44</span>) {
</div><div class="line" id="file-softengine-js-LC299">            <span class="pl-s">var</span> result <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Matrix</span>();
</div><div class="line" id="file-softengine-js-LC300">            result.m[<span class="pl-c1">0</span>] <span class="pl-k">=</span> initialM11;
</div><div class="line" id="file-softengine-js-LC301">            result.m[<span class="pl-c1">1</span>] <span class="pl-k">=</span> initialM12;
</div><div class="line" id="file-softengine-js-LC302">            result.m[<span class="pl-c1">2</span>] <span class="pl-k">=</span> initialM13;
</div><div class="line" id="file-softengine-js-LC303">            result.m[<span class="pl-c1">3</span>] <span class="pl-k">=</span> initialM14;
</div><div class="line" id="file-softengine-js-LC304">            result.m[<span class="pl-c1">4</span>] <span class="pl-k">=</span> initialM21;
</div><div class="line" id="file-softengine-js-LC305">            result.m[<span class="pl-c1">5</span>] <span class="pl-k">=</span> initialM22;
</div><div class="line" id="file-softengine-js-LC306">            result.m[<span class="pl-c1">6</span>] <span class="pl-k">=</span> initialM23;
</div><div class="line" id="file-softengine-js-LC307">            result.m[<span class="pl-c1">7</span>] <span class="pl-k">=</span> initialM24;
</div><div class="line" id="file-softengine-js-LC308">            result.m[<span class="pl-c1">8</span>] <span class="pl-k">=</span> initialM31;
</div><div class="line" id="file-softengine-js-LC309">            result.m[<span class="pl-c1">9</span>] <span class="pl-k">=</span> initialM32;
</div><div class="line" id="file-softengine-js-LC310">            result.m[<span class="pl-c1">10</span>] <span class="pl-k">=</span> initialM33;
</div><div class="line" id="file-softengine-js-LC311">            result.m[<span class="pl-c1">11</span>] <span class="pl-k">=</span> initialM34;
</div><div class="line" id="file-softengine-js-LC312">            result.m[<span class="pl-c1">12</span>] <span class="pl-k">=</span> initialM41;
</div><div class="line" id="file-softengine-js-LC313">            result.m[<span class="pl-c1">13</span>] <span class="pl-k">=</span> initialM42;
</div><div class="line" id="file-softengine-js-LC314">            result.m[<span class="pl-c1">14</span>] <span class="pl-k">=</span> initialM43;
</div><div class="line" id="file-softengine-js-LC315">            result.m[<span class="pl-c1">15</span>] <span class="pl-k">=</span> initialM44;
</div><div class="line" id="file-softengine-js-LC316">            <span class="pl-k">return</span> result;
</div><div class="line" id="file-softengine-js-LC317">        };
</div><div class="line" id="file-softengine-js-LC318">        <span class="pl-s3">Matrix</span>.<span class="pl-en">Identity</span> <span class="pl-k">=</span> <span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC319">            <span class="pl-k">return</span> Matrix.FromValues(<span class="pl-c1">1.0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">1.0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">1.0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">1.0</span>);
</div><div class="line" id="file-softengine-js-LC320">        };
</div><div class="line" id="file-softengine-js-LC321">        <span class="pl-s3">Matrix</span>.<span class="pl-en">Zero</span> <span class="pl-k">=</span> <span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC322">            <span class="pl-k">return</span> Matrix.FromValues(<span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>);
</div><div class="line" id="file-softengine-js-LC323">        };
</div><div class="line" id="file-softengine-js-LC324">        <span class="pl-s3">Matrix</span>.<span class="pl-en">Copy</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">matrix</span>) {
</div><div class="line" id="file-softengine-js-LC325">            <span class="pl-k">return</span> Matrix.FromValues(matrix.m[<span class="pl-c1">0</span>], matrix.m[<span class="pl-c1">1</span>], matrix.m[<span class="pl-c1">2</span>], matrix.m[<span class="pl-c1">3</span>], matrix.m[<span class="pl-c1">4</span>], matrix.m[<span class="pl-c1">5</span>], matrix.m[<span class="pl-c1">6</span>], matrix.m[<span class="pl-c1">7</span>], matrix.m[<span class="pl-c1">8</span>], matrix.m[<span class="pl-c1">9</span>], matrix.m[<span class="pl-c1">10</span>], matrix.m[<span class="pl-c1">11</span>], matrix.m[<span class="pl-c1">12</span>], matrix.m[<span class="pl-c1">13</span>], matrix.m[<span class="pl-c1">14</span>], matrix.m[<span class="pl-c1">15</span>]);
</div><div class="line" id="file-softengine-js-LC326">        };
</div><div class="line" id="file-softengine-js-LC327">        <span class="pl-s3">Matrix</span>.<span class="pl-en">RotationX</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">angle</span>) {
</div><div class="line" id="file-softengine-js-LC328">            <span class="pl-s">var</span> result <span class="pl-k">=</span> Matrix.Zero();
</div><div class="line" id="file-softengine-js-LC329">            <span class="pl-s">var</span> s <span class="pl-k">=</span> <span class="pl-s3">Math</span>.<span class="pl-s3">sin</span>(angle);
</div><div class="line" id="file-softengine-js-LC330">            <span class="pl-s">var</span> c <span class="pl-k">=</span> <span class="pl-s3">Math</span>.<span class="pl-s3">cos</span>(angle);
</div><div class="line" id="file-softengine-js-LC331">            result.m[<span class="pl-c1">0</span>] <span class="pl-k">=</span> <span class="pl-c1">1.0</span>;
</div><div class="line" id="file-softengine-js-LC332">            result.m[<span class="pl-c1">15</span>] <span class="pl-k">=</span> <span class="pl-c1">1.0</span>;
</div><div class="line" id="file-softengine-js-LC333">            result.m[<span class="pl-c1">5</span>] <span class="pl-k">=</span> c;
</div><div class="line" id="file-softengine-js-LC334">            result.m[<span class="pl-c1">10</span>] <span class="pl-k">=</span> c;
</div><div class="line" id="file-softengine-js-LC335">            result.m[<span class="pl-c1">9</span>] <span class="pl-k">=</span> <span class="pl-k">-</span>s;
</div><div class="line" id="file-softengine-js-LC336">            result.m[<span class="pl-c1">6</span>] <span class="pl-k">=</span> s;
</div><div class="line" id="file-softengine-js-LC337">            <span class="pl-k">return</span> result;
</div><div class="line" id="file-softengine-js-LC338">        };
</div><div class="line" id="file-softengine-js-LC339">        <span class="pl-s3">Matrix</span>.<span class="pl-en">RotationY</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">angle</span>) {
</div><div class="line" id="file-softengine-js-LC340">            <span class="pl-s">var</span> result <span class="pl-k">=</span> Matrix.Zero();
</div><div class="line" id="file-softengine-js-LC341">            <span class="pl-s">var</span> s <span class="pl-k">=</span> <span class="pl-s3">Math</span>.<span class="pl-s3">sin</span>(angle);
</div><div class="line" id="file-softengine-js-LC342">            <span class="pl-s">var</span> c <span class="pl-k">=</span> <span class="pl-s3">Math</span>.<span class="pl-s3">cos</span>(angle);
</div><div class="line" id="file-softengine-js-LC343">            result.m[<span class="pl-c1">5</span>] <span class="pl-k">=</span> <span class="pl-c1">1.0</span>;
</div><div class="line" id="file-softengine-js-LC344">            result.m[<span class="pl-c1">15</span>] <span class="pl-k">=</span> <span class="pl-c1">1.0</span>;
</div><div class="line" id="file-softengine-js-LC345">            result.m[<span class="pl-c1">0</span>] <span class="pl-k">=</span> c;
</div><div class="line" id="file-softengine-js-LC346">            result.m[<span class="pl-c1">2</span>] <span class="pl-k">=</span> <span class="pl-k">-</span>s;
</div><div class="line" id="file-softengine-js-LC347">            result.m[<span class="pl-c1">8</span>] <span class="pl-k">=</span> s;
</div><div class="line" id="file-softengine-js-LC348">            result.m[<span class="pl-c1">10</span>] <span class="pl-k">=</span> c;
</div><div class="line" id="file-softengine-js-LC349">            <span class="pl-k">return</span> result;
</div><div class="line" id="file-softengine-js-LC350">        };
</div><div class="line" id="file-softengine-js-LC351">        <span class="pl-s3">Matrix</span>.<span class="pl-en">RotationZ</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">angle</span>) {
</div><div class="line" id="file-softengine-js-LC352">            <span class="pl-s">var</span> result <span class="pl-k">=</span> Matrix.Zero();
</div><div class="line" id="file-softengine-js-LC353">            <span class="pl-s">var</span> s <span class="pl-k">=</span> <span class="pl-s3">Math</span>.<span class="pl-s3">sin</span>(angle);
</div><div class="line" id="file-softengine-js-LC354">            <span class="pl-s">var</span> c <span class="pl-k">=</span> <span class="pl-s3">Math</span>.<span class="pl-s3">cos</span>(angle);
</div><div class="line" id="file-softengine-js-LC355">            result.m[<span class="pl-c1">10</span>] <span class="pl-k">=</span> <span class="pl-c1">1.0</span>;
</div><div class="line" id="file-softengine-js-LC356">            result.m[<span class="pl-c1">15</span>] <span class="pl-k">=</span> <span class="pl-c1">1.0</span>;
</div><div class="line" id="file-softengine-js-LC357">            result.m[<span class="pl-c1">0</span>] <span class="pl-k">=</span> c;
</div><div class="line" id="file-softengine-js-LC358">            result.m[<span class="pl-c1">1</span>] <span class="pl-k">=</span> s;
</div><div class="line" id="file-softengine-js-LC359">            result.m[<span class="pl-c1">4</span>] <span class="pl-k">=</span> <span class="pl-k">-</span>s;
</div><div class="line" id="file-softengine-js-LC360">            result.m[<span class="pl-c1">5</span>] <span class="pl-k">=</span> c;
</div><div class="line" id="file-softengine-js-LC361">            <span class="pl-k">return</span> result;
</div><div class="line" id="file-softengine-js-LC362">        };
</div><div class="line" id="file-softengine-js-LC363">        <span class="pl-s3">Matrix</span>.<span class="pl-en">RotationAxis</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">axis</span>, <span class="pl-vpf">angle</span>) {
</div><div class="line" id="file-softengine-js-LC364">            <span class="pl-s">var</span> s <span class="pl-k">=</span> <span class="pl-s3">Math</span>.<span class="pl-s3">sin</span>(<span class="pl-k">-</span>angle);
</div><div class="line" id="file-softengine-js-LC365">            <span class="pl-s">var</span> c <span class="pl-k">=</span> <span class="pl-s3">Math</span>.<span class="pl-s3">cos</span>(<span class="pl-k">-</span>angle);
</div><div class="line" id="file-softengine-js-LC366">            <span class="pl-s">var</span> c1 <span class="pl-k">=</span> <span class="pl-c1">1</span> <span class="pl-k">-</span> c;
</div><div class="line" id="file-softengine-js-LC367">            axis.normalize();
</div><div class="line" id="file-softengine-js-LC368">            <span class="pl-s">var</span> result <span class="pl-k">=</span> Matrix.Zero();
</div><div class="line" id="file-softengine-js-LC369">            result.m[<span class="pl-c1">0</span>] <span class="pl-k">=</span> (axis.<span class="pl-sc">x</span> <span class="pl-k">*</span> axis.<span class="pl-sc">x</span>) <span class="pl-k">*</span> c1 <span class="pl-k">+</span> c;
</div><div class="line" id="file-softengine-js-LC370">            result.m[<span class="pl-c1">1</span>] <span class="pl-k">=</span> (axis.<span class="pl-sc">x</span> <span class="pl-k">*</span> axis.<span class="pl-sc">y</span>) <span class="pl-k">*</span> c1 <span class="pl-k">-</span> (axis.z <span class="pl-k">*</span> s);
</div><div class="line" id="file-softengine-js-LC371">            result.m[<span class="pl-c1">2</span>] <span class="pl-k">=</span> (axis.<span class="pl-sc">x</span> <span class="pl-k">*</span> axis.z) <span class="pl-k">*</span> c1 <span class="pl-k">+</span> (axis.<span class="pl-sc">y</span> <span class="pl-k">*</span> s);
</div><div class="line" id="file-softengine-js-LC372">            result.m[<span class="pl-c1">3</span>] <span class="pl-k">=</span> <span class="pl-c1">0.0</span>;
</div><div class="line" id="file-softengine-js-LC373">            result.m[<span class="pl-c1">4</span>] <span class="pl-k">=</span> (axis.<span class="pl-sc">y</span> <span class="pl-k">*</span> axis.<span class="pl-sc">x</span>) <span class="pl-k">*</span> c1 <span class="pl-k">+</span> (axis.z <span class="pl-k">*</span> s);
</div><div class="line" id="file-softengine-js-LC374">            result.m[<span class="pl-c1">5</span>] <span class="pl-k">=</span> (axis.<span class="pl-sc">y</span> <span class="pl-k">*</span> axis.<span class="pl-sc">y</span>) <span class="pl-k">*</span> c1 <span class="pl-k">+</span> c;
</div><div class="line" id="file-softengine-js-LC375">            result.m[<span class="pl-c1">6</span>] <span class="pl-k">=</span> (axis.<span class="pl-sc">y</span> <span class="pl-k">*</span> axis.z) <span class="pl-k">*</span> c1 <span class="pl-k">-</span> (axis.<span class="pl-sc">x</span> <span class="pl-k">*</span> s);
</div><div class="line" id="file-softengine-js-LC376">            result.m[<span class="pl-c1">7</span>] <span class="pl-k">=</span> <span class="pl-c1">0.0</span>;
</div><div class="line" id="file-softengine-js-LC377">            result.m[<span class="pl-c1">8</span>] <span class="pl-k">=</span> (axis.z <span class="pl-k">*</span> axis.<span class="pl-sc">x</span>) <span class="pl-k">*</span> c1 <span class="pl-k">-</span> (axis.<span class="pl-sc">y</span> <span class="pl-k">*</span> s);
</div><div class="line" id="file-softengine-js-LC378">            result.m[<span class="pl-c1">9</span>] <span class="pl-k">=</span> (axis.z <span class="pl-k">*</span> axis.<span class="pl-sc">y</span>) <span class="pl-k">*</span> c1 <span class="pl-k">+</span> (axis.<span class="pl-sc">x</span> <span class="pl-k">*</span> s);
</div><div class="line" id="file-softengine-js-LC379">            result.m[<span class="pl-c1">10</span>] <span class="pl-k">=</span> (axis.z <span class="pl-k">*</span> axis.z) <span class="pl-k">*</span> c1 <span class="pl-k">+</span> c;
</div><div class="line" id="file-softengine-js-LC380">            result.m[<span class="pl-c1">11</span>] <span class="pl-k">=</span> <span class="pl-c1">0.0</span>;
</div><div class="line" id="file-softengine-js-LC381">            result.m[<span class="pl-c1">15</span>] <span class="pl-k">=</span> <span class="pl-c1">1.0</span>;
</div><div class="line" id="file-softengine-js-LC382">            <span class="pl-k">return</span> result;
</div><div class="line" id="file-softengine-js-LC383">        };
</div><div class="line" id="file-softengine-js-LC384">        <span class="pl-s3">Matrix</span>.<span class="pl-en">RotationYawPitchRoll</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">yaw</span>, <span class="pl-vpf">pitch</span>, <span class="pl-vpf">roll</span>) {
</div><div class="line" id="file-softengine-js-LC385">            <span class="pl-k">return</span> Matrix.RotationZ(roll).multiply(Matrix.RotationX(pitch)).multiply(Matrix.RotationY(yaw));
</div><div class="line" id="file-softengine-js-LC386">        };
</div><div class="line" id="file-softengine-js-LC387">        <span class="pl-s3">Matrix</span>.<span class="pl-en">Scaling</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">x</span>, <span class="pl-vpf">y</span>, <span class="pl-vpf">z</span>) {
</div><div class="line" id="file-softengine-js-LC388">            <span class="pl-s">var</span> result <span class="pl-k">=</span> Matrix.Zero();
</div><div class="line" id="file-softengine-js-LC389">            result.m[<span class="pl-c1">0</span>] <span class="pl-k">=</span> x;
</div><div class="line" id="file-softengine-js-LC390">            result.m[<span class="pl-c1">5</span>] <span class="pl-k">=</span> y;
</div><div class="line" id="file-softengine-js-LC391">            result.m[<span class="pl-c1">10</span>] <span class="pl-k">=</span> z;
</div><div class="line" id="file-softengine-js-LC392">            result.m[<span class="pl-c1">15</span>] <span class="pl-k">=</span> <span class="pl-c1">1.0</span>;
</div><div class="line" id="file-softengine-js-LC393">            <span class="pl-k">return</span> result;
</div><div class="line" id="file-softengine-js-LC394">        };
</div><div class="line" id="file-softengine-js-LC395">        <span class="pl-s3">Matrix</span>.<span class="pl-en">Translation</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">x</span>, <span class="pl-vpf">y</span>, <span class="pl-vpf">z</span>) {
</div><div class="line" id="file-softengine-js-LC396">            <span class="pl-s">var</span> result <span class="pl-k">=</span> Matrix.Identity();
</div><div class="line" id="file-softengine-js-LC397">            result.m[<span class="pl-c1">12</span>] <span class="pl-k">=</span> x;
</div><div class="line" id="file-softengine-js-LC398">            result.m[<span class="pl-c1">13</span>] <span class="pl-k">=</span> y;
</div><div class="line" id="file-softengine-js-LC399">            result.m[<span class="pl-c1">14</span>] <span class="pl-k">=</span> z;
</div><div class="line" id="file-softengine-js-LC400">            <span class="pl-k">return</span> result;
</div><div class="line" id="file-softengine-js-LC401">        };
</div><div class="line" id="file-softengine-js-LC402">        <span class="pl-s3">Matrix</span>.<span class="pl-en">LookAtLH</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">eye</span>, <span class="pl-vpf">target</span>, <span class="pl-vpf">up</span>) {
</div><div class="line" id="file-softengine-js-LC403">            <span class="pl-s">var</span> zAxis <span class="pl-k">=</span> target.subtract(eye);
</div><div class="line" id="file-softengine-js-LC404">            zAxis.normalize();
</div><div class="line" id="file-softengine-js-LC405">            <span class="pl-s">var</span> xAxis <span class="pl-k">=</span> Vector3.Cross(up, zAxis);
</div><div class="line" id="file-softengine-js-LC406">            xAxis.normalize();
</div><div class="line" id="file-softengine-js-LC407">            <span class="pl-s">var</span> yAxis <span class="pl-k">=</span> Vector3.Cross(zAxis, xAxis);
</div><div class="line" id="file-softengine-js-LC408">            yAxis.normalize();
</div><div class="line" id="file-softengine-js-LC409">            <span class="pl-s">var</span> ex <span class="pl-k">=</span> <span class="pl-k">-</span>Vector3.Dot(xAxis, eye);
</div><div class="line" id="file-softengine-js-LC410">            <span class="pl-s">var</span> ey <span class="pl-k">=</span> <span class="pl-k">-</span>Vector3.Dot(yAxis, eye);
</div><div class="line" id="file-softengine-js-LC411">            <span class="pl-s">var</span> ez <span class="pl-k">=</span> <span class="pl-k">-</span>Vector3.Dot(zAxis, eye);
</div><div class="line" id="file-softengine-js-LC412">            <span class="pl-k">return</span> Matrix.FromValues(xAxis.<span class="pl-sc">x</span>, yAxis.<span class="pl-sc">x</span>, zAxis.<span class="pl-sc">x</span>, <span class="pl-c1">0</span>, xAxis.<span class="pl-sc">y</span>, yAxis.<span class="pl-sc">y</span>, zAxis.<span class="pl-sc">y</span>, <span class="pl-c1">0</span>, xAxis.z, yAxis.z, zAxis.z, <span class="pl-c1">0</span>, ex, ey, ez, <span class="pl-c1">1</span>);
</div><div class="line" id="file-softengine-js-LC413">        };
</div><div class="line" id="file-softengine-js-LC414">        <span class="pl-s3">Matrix</span>.<span class="pl-en">PerspectiveLH</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">width</span>, <span class="pl-vpf">height</span>, <span class="pl-vpf">znear</span>, <span class="pl-vpf">zfar</span>) {
</div><div class="line" id="file-softengine-js-LC415">            <span class="pl-s">var</span> matrix <span class="pl-k">=</span> Matrix.Zero();
</div><div class="line" id="file-softengine-js-LC416">            matrix.m[<span class="pl-c1">0</span>] <span class="pl-k">=</span> (<span class="pl-c1">2.0</span> <span class="pl-k">*</span> znear) / width;
</div><div class="line" id="file-softengine-js-LC417">            matrix.m[<span class="pl-c1">1</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">2</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">3</span>] <span class="pl-k">=</span> <span class="pl-c1">0.0</span>;
</div><div class="line" id="file-softengine-js-LC418">            matrix.m[<span class="pl-c1">5</span>] <span class="pl-k">=</span> (<span class="pl-c1">2.0</span> <span class="pl-k">*</span> znear) / height;
</div><div class="line" id="file-softengine-js-LC419">            matrix.m[<span class="pl-c1">4</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">6</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">7</span>] <span class="pl-k">=</span> <span class="pl-c1">0.0</span>;
</div><div class="line" id="file-softengine-js-LC420">            matrix.m[<span class="pl-c1">10</span>] <span class="pl-k">=</span> <span class="pl-k">-</span>zfar / (znear <span class="pl-k">-</span> zfar);
</div><div class="line" id="file-softengine-js-LC421">            matrix.m[<span class="pl-c1">8</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">9</span>] <span class="pl-k">=</span> <span class="pl-c1">0.0</span>;
</div><div class="line" id="file-softengine-js-LC422">            matrix.m[<span class="pl-c1">11</span>] <span class="pl-k">=</span> <span class="pl-c1">1.0</span>;
</div><div class="line" id="file-softengine-js-LC423">            matrix.m[<span class="pl-c1">12</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">13</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">15</span>] <span class="pl-k">=</span> <span class="pl-c1">0.0</span>;
</div><div class="line" id="file-softengine-js-LC424">            matrix.m[<span class="pl-c1">14</span>] <span class="pl-k">=</span> (znear <span class="pl-k">*</span> zfar) / (znear <span class="pl-k">-</span> zfar);
</div><div class="line" id="file-softengine-js-LC425">            <span class="pl-k">return</span> matrix;
</div><div class="line" id="file-softengine-js-LC426">        };
</div><div class="line" id="file-softengine-js-LC427">        <span class="pl-s3">Matrix</span>.<span class="pl-en">PerspectiveFovLH</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">fov</span>, <span class="pl-vpf">aspect</span>, <span class="pl-vpf">znear</span>, <span class="pl-vpf">zfar</span>) {
</div><div class="line" id="file-softengine-js-LC428">            <span class="pl-s">var</span> matrix <span class="pl-k">=</span> Matrix.Zero();
</div><div class="line" id="file-softengine-js-LC429">            <span class="pl-s">var</span> tan <span class="pl-k">=</span> <span class="pl-c1">1.0</span> / (<span class="pl-s3">Math</span>.<span class="pl-s3">tan</span>(fov <span class="pl-k">*</span> <span class="pl-c1">0.5</span>));
</div><div class="line" id="file-softengine-js-LC430">            matrix.m[<span class="pl-c1">0</span>] <span class="pl-k">=</span> tan / aspect;
</div><div class="line" id="file-softengine-js-LC431">            matrix.m[<span class="pl-c1">1</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">2</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">3</span>] <span class="pl-k">=</span> <span class="pl-c1">0.0</span>;
</div><div class="line" id="file-softengine-js-LC432">            matrix.m[<span class="pl-c1">5</span>] <span class="pl-k">=</span> tan;
</div><div class="line" id="file-softengine-js-LC433">            matrix.m[<span class="pl-c1">4</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">6</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">7</span>] <span class="pl-k">=</span> <span class="pl-c1">0.0</span>;
</div><div class="line" id="file-softengine-js-LC434">            matrix.m[<span class="pl-c1">8</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">9</span>] <span class="pl-k">=</span> <span class="pl-c1">0.0</span>;
</div><div class="line" id="file-softengine-js-LC435">            matrix.m[<span class="pl-c1">10</span>] <span class="pl-k">=</span> <span class="pl-k">-</span>zfar / (znear <span class="pl-k">-</span> zfar);
</div><div class="line" id="file-softengine-js-LC436">            matrix.m[<span class="pl-c1">11</span>] <span class="pl-k">=</span> <span class="pl-c1">1.0</span>;
</div><div class="line" id="file-softengine-js-LC437">            matrix.m[<span class="pl-c1">12</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">13</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">15</span>] <span class="pl-k">=</span> <span class="pl-c1">0.0</span>;
</div><div class="line" id="file-softengine-js-LC438">            matrix.m[<span class="pl-c1">14</span>] <span class="pl-k">=</span> (znear <span class="pl-k">*</span> zfar) / (znear <span class="pl-k">-</span> zfar);
</div><div class="line" id="file-softengine-js-LC439">            <span class="pl-k">return</span> matrix;
</div><div class="line" id="file-softengine-js-LC440">        };
</div><div class="line" id="file-softengine-js-LC441">        <span class="pl-s3">Matrix</span>.<span class="pl-en">Transpose</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">matrix</span>) {
</div><div class="line" id="file-softengine-js-LC442">            <span class="pl-s">var</span> result <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Matrix</span>();
</div><div class="line" id="file-softengine-js-LC443">            result.m[<span class="pl-c1">0</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">0</span>];
</div><div class="line" id="file-softengine-js-LC444">            result.m[<span class="pl-c1">1</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">4</span>];
</div><div class="line" id="file-softengine-js-LC445">            result.m[<span class="pl-c1">2</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">8</span>];
</div><div class="line" id="file-softengine-js-LC446">            result.m[<span class="pl-c1">3</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">12</span>];
</div><div class="line" id="file-softengine-js-LC447">            result.m[<span class="pl-c1">4</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">1</span>];
</div><div class="line" id="file-softengine-js-LC448">            result.m[<span class="pl-c1">5</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">5</span>];
</div><div class="line" id="file-softengine-js-LC449">            result.m[<span class="pl-c1">6</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">9</span>];
</div><div class="line" id="file-softengine-js-LC450">            result.m[<span class="pl-c1">7</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">13</span>];
</div><div class="line" id="file-softengine-js-LC451">            result.m[<span class="pl-c1">8</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">2</span>];
</div><div class="line" id="file-softengine-js-LC452">            result.m[<span class="pl-c1">9</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">6</span>];
</div><div class="line" id="file-softengine-js-LC453">            result.m[<span class="pl-c1">10</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">10</span>];
</div><div class="line" id="file-softengine-js-LC454">            result.m[<span class="pl-c1">11</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">14</span>];
</div><div class="line" id="file-softengine-js-LC455">            result.m[<span class="pl-c1">12</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">3</span>];
</div><div class="line" id="file-softengine-js-LC456">            result.m[<span class="pl-c1">13</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">7</span>];
</div><div class="line" id="file-softengine-js-LC457">            result.m[<span class="pl-c1">14</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">11</span>];
</div><div class="line" id="file-softengine-js-LC458">            result.m[<span class="pl-c1">15</span>] <span class="pl-k">=</span> matrix.m[<span class="pl-c1">15</span>];
</div><div class="line" id="file-softengine-js-LC459">            <span class="pl-k">return</span> result;
</div><div class="line" id="file-softengine-js-LC460">        };
</div><div class="line" id="file-softengine-js-LC461">        <span class="pl-k">return</span> Matrix;
</div><div class="line" id="file-softengine-js-LC462">    })();
</div><div class="line" id="file-softengine-js-LC463">    SoftEngine.Matrix <span class="pl-k">=</span> Matrix;
</div><div class="line" id="file-softengine-js-LC464">&nbsp;
</div><div class="line" id="file-softengine-js-LC465">    <span class="pl-s">var</span> Camera <span class="pl-k">=</span> (<span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC466">        <span class="pl-st">function</span> <span class="pl-en">Camera</span>() {
</div><div class="line" id="file-softengine-js-LC467">            <span class="pl-v">this</span>.Position <span class="pl-k">=</span> Vector3.Zero();
</div><div class="line" id="file-softengine-js-LC468">            <span class="pl-v">this</span>.Target <span class="pl-k">=</span> Vector3.Zero();
</div><div class="line" id="file-softengine-js-LC469">        }
</div><div class="line" id="file-softengine-js-LC470">        <span class="pl-k">return</span> Camera;
</div><div class="line" id="file-softengine-js-LC471">    })();
</div><div class="line" id="file-softengine-js-LC472">    SoftEngine.Camera <span class="pl-k">=</span> Camera;
</div><div class="line" id="file-softengine-js-LC473">&nbsp;
</div><div class="line" id="file-softengine-js-LC474">    <span class="pl-s">var</span> Mesh <span class="pl-k">=</span> (<span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC475">        <span class="pl-st">function</span> <span class="pl-en">Mesh</span>(<span class="pl-vpf">name</span>, <span class="pl-vpf">verticesCount</span>, <span class="pl-vpf">facesCount</span>) {
</div><div class="line" id="file-softengine-js-LC476">            <span class="pl-v">this</span>.<span class="pl-sc">name</span> <span class="pl-k">=</span> name;
</div><div class="line" id="file-softengine-js-LC477">            <span class="pl-v">this</span>.Vertices <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Array</span>(verticesCount);
</div><div class="line" id="file-softengine-js-LC478">            <span class="pl-v">this</span>.Faces <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Array</span>(facesCount);
</div><div class="line" id="file-softengine-js-LC479">            <span class="pl-v">this</span>.Rotation <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Vector3</span>(<span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>);
</div><div class="line" id="file-softengine-js-LC480">            <span class="pl-v">this</span>.Position <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Vector3</span>(<span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>);
</div><div class="line" id="file-softengine-js-LC481">        }
</div><div class="line" id="file-softengine-js-LC482">        <span class="pl-s3">Mesh</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">computeFacesNormals</span> <span class="pl-k">=</span> <span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC483">            <span class="pl-k">for</span> (<span class="pl-s">var</span> indexFaces <span class="pl-k">=</span> <span class="pl-c1">0</span>; indexFaces <span class="pl-k">&lt;</span> <span class="pl-v">this</span>.Faces.<span class="pl-sc">length</span>; indexFaces<span class="pl-k">++</span>) {
</div><div class="line" id="file-softengine-js-LC484">                <span class="pl-s">var</span> currentFace <span class="pl-k">=</span> <span class="pl-v">this</span>.Faces[indexFaces];
</div><div class="line" id="file-softengine-js-LC485">&nbsp;
</div><div class="line" id="file-softengine-js-LC486">                <span class="pl-s">var</span> vertexA <span class="pl-k">=</span> <span class="pl-v">this</span>.Vertices[currentFace.A];
</div><div class="line" id="file-softengine-js-LC487">                <span class="pl-s">var</span> vertexB <span class="pl-k">=</span> <span class="pl-v">this</span>.Vertices[currentFace.B];
</div><div class="line" id="file-softengine-js-LC488">                <span class="pl-s">var</span> vertexC <span class="pl-k">=</span> <span class="pl-v">this</span>.Vertices[currentFace.C];
</div><div class="line" id="file-softengine-js-LC489">&nbsp;
</div><div class="line" id="file-softengine-js-LC490">                <span class="pl-v">this</span>.Faces[indexFaces].Normal <span class="pl-k">=</span> (vertexA.Normal.<span class="pl-s3">add</span>(vertexB.Normal.<span class="pl-s3">add</span>(vertexC.Normal))).scale(<span class="pl-c1">1</span> / <span class="pl-c1">3</span>);
</div><div class="line" id="file-softengine-js-LC491">                <span class="pl-v">this</span>.Faces[indexFaces].Normal.normalize();
</div><div class="line" id="file-softengine-js-LC492">            }
</div><div class="line" id="file-softengine-js-LC493">        };
</div><div class="line" id="file-softengine-js-LC494">        <span class="pl-k">return</span> Mesh;
</div><div class="line" id="file-softengine-js-LC495">    })();
</div><div class="line" id="file-softengine-js-LC496">    SoftEngine.Mesh <span class="pl-k">=</span> Mesh;
</div><div class="line" id="file-softengine-js-LC497">&nbsp;
</div><div class="line" id="file-softengine-js-LC498">    <span class="pl-s">var</span> Texture <span class="pl-k">=</span> (<span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC499">        <span class="pl-st">function</span> <span class="pl-en">Texture</span>(<span class="pl-vpf">filename</span>, <span class="pl-vpf">width</span>, <span class="pl-vpf">height</span>) {
</div><div class="line" id="file-softengine-js-LC500">            <span class="pl-v">this</span>.<span class="pl-sc">width</span> <span class="pl-k">=</span> width;
</div><div class="line" id="file-softengine-js-LC501">            <span class="pl-v">this</span>.<span class="pl-sc">height</span> <span class="pl-k">=</span> height;
</div><div class="line" id="file-softengine-js-LC502">            <span class="pl-v">this</span>.<span class="pl-s3">load</span>(filename);
</div><div class="line" id="file-softengine-js-LC503">        }
</div><div class="line" id="file-softengine-js-LC504">        <span class="pl-s3">Texture</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">load</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">filename</span>) {
</div><div class="line" id="file-softengine-js-LC505">            <span class="pl-s">var</span> _this <span class="pl-k">=</span> <span class="pl-v">this</span>;
</div><div class="line" id="file-softengine-js-LC506">            <span class="pl-s">var</span> imageTexture <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Image</span>();
</div><div class="line" id="file-softengine-js-LC507">            imageTexture.<span class="pl-sc">height</span> <span class="pl-k">=</span> <span class="pl-v">this</span>.<span class="pl-sc">height</span>;
</div><div class="line" id="file-softengine-js-LC508">            imageTexture.<span class="pl-sc">width</span> <span class="pl-k">=</span> <span class="pl-v">this</span>.<span class="pl-sc">width</span>;
</div><div class="line" id="file-softengine-js-LC509">            <span class="pl-s3">imageTexture</span>.<span class="pl-en">onload</span> <span class="pl-k">=</span> <span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC510">                <span class="pl-s">var</span> internalCanvas <span class="pl-k">=</span> <span class="pl-s3">document</span>.<span class="pl-s3">createElement</span>(<span class="pl-s1"><span class="pl-pds">"</span>canvas<span class="pl-pds">"</span></span>);
</div><div class="line" id="file-softengine-js-LC511">                internalCanvas.<span class="pl-sc">width</span> <span class="pl-k">=</span> _this.<span class="pl-sc">width</span>;
</div><div class="line" id="file-softengine-js-LC512">                internalCanvas.<span class="pl-sc">height</span> <span class="pl-k">=</span> _this.<span class="pl-sc">height</span>;
</div><div class="line" id="file-softengine-js-LC513">                <span class="pl-s">var</span> internalContext <span class="pl-k">=</span> internalCanvas.getContext(<span class="pl-s1"><span class="pl-pds">"</span>2d<span class="pl-pds">"</span></span>);
</div><div class="line" id="file-softengine-js-LC514">                internalContext.drawImage(imageTexture, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>);
</div><div class="line" id="file-softengine-js-LC515">                _this.internalBuffer <span class="pl-k">=</span> internalContext.getImageData(<span class="pl-c1">0</span>, <span class="pl-c1">0</span>, _this.<span class="pl-sc">width</span>, _this.<span class="pl-sc">height</span>);
</div><div class="line" id="file-softengine-js-LC516">            };
</div><div class="line" id="file-softengine-js-LC517">            imageTexture.<span class="pl-sc">src</span> <span class="pl-k">=</span> filename;
</div><div class="line" id="file-softengine-js-LC518">        };
</div><div class="line" id="file-softengine-js-LC519">&nbsp;
</div><div class="line" id="file-softengine-js-LC520">        <span class="pl-s3">Texture</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">map</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">tu</span>, <span class="pl-vpf">tv</span>) {
</div><div class="line" id="file-softengine-js-LC521">            <span class="pl-k">if</span> (<span class="pl-v">this</span>.internalBuffer) {
</div><div class="line" id="file-softengine-js-LC522">                <span class="pl-s">var</span> u <span class="pl-k">=</span> <span class="pl-s3">Math</span>.<span class="pl-s3">floor</span>(<span class="pl-s3">Math</span>.<span class="pl-s3">abs</span>(((tu <span class="pl-k">*</span> <span class="pl-v">this</span>.<span class="pl-sc">width</span>) <span class="pl-k">%</span> <span class="pl-v">this</span>.<span class="pl-sc">width</span>)));
</div><div class="line" id="file-softengine-js-LC523">                <span class="pl-s">var</span> v <span class="pl-k">=</span> <span class="pl-s3">Math</span>.<span class="pl-s3">floor</span>(<span class="pl-s3">Math</span>.<span class="pl-s3">abs</span>(((tv <span class="pl-k">*</span> <span class="pl-v">this</span>.<span class="pl-sc">height</span>) <span class="pl-k">%</span> <span class="pl-v">this</span>.<span class="pl-sc">height</span>)));
</div><div class="line" id="file-softengine-js-LC524">&nbsp;
</div><div class="line" id="file-softengine-js-LC525">                <span class="pl-s">var</span> pos <span class="pl-k">=</span> (u <span class="pl-k">+</span> v <span class="pl-k">*</span> <span class="pl-v">this</span>.<span class="pl-sc">width</span>) <span class="pl-k">*</span> <span class="pl-c1">4</span>;
</div><div class="line" id="file-softengine-js-LC526">&nbsp;
</div><div class="line" id="file-softengine-js-LC527">                <span class="pl-s">var</span> r <span class="pl-k">=</span> <span class="pl-v">this</span>.internalBuffer.<span class="pl-sc">data</span>[pos];
</div><div class="line" id="file-softengine-js-LC528">                <span class="pl-s">var</span> g <span class="pl-k">=</span> <span class="pl-v">this</span>.internalBuffer.<span class="pl-sc">data</span>[pos <span class="pl-k">+</span> <span class="pl-c1">1</span>];
</div><div class="line" id="file-softengine-js-LC529">                <span class="pl-s">var</span> b <span class="pl-k">=</span> <span class="pl-v">this</span>.internalBuffer.<span class="pl-sc">data</span>[pos <span class="pl-k">+</span> <span class="pl-c1">2</span>];
</div><div class="line" id="file-softengine-js-LC530">                <span class="pl-s">var</span> a <span class="pl-k">=</span> <span class="pl-v">this</span>.internalBuffer.<span class="pl-sc">data</span>[pos <span class="pl-k">+</span> <span class="pl-c1">3</span>];
</div><div class="line" id="file-softengine-js-LC531">&nbsp;
</div><div class="line" id="file-softengine-js-LC532">                <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Color4</span>(r / <span class="pl-c1">255.0</span>, g / <span class="pl-c1">255.0</span>, b / <span class="pl-c1">255.0</span>, a / <span class="pl-c1">255.0</span>);
</div><div class="line" id="file-softengine-js-LC533">            } <span class="pl-k">else</span> {
</div><div class="line" id="file-softengine-js-LC534">                <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Color4</span>(<span class="pl-c1">1</span>, <span class="pl-c1">1</span>, <span class="pl-c1">1</span>, <span class="pl-c1">1</span>);
</div><div class="line" id="file-softengine-js-LC535">            }
</div><div class="line" id="file-softengine-js-LC536">        };
</div><div class="line" id="file-softengine-js-LC537">        <span class="pl-k">return</span> Texture;
</div><div class="line" id="file-softengine-js-LC538">    })();
</div><div class="line" id="file-softengine-js-LC539">    SoftEngine.Texture <span class="pl-k">=</span> Texture;
</div><div class="line" id="file-softengine-js-LC540">&nbsp;
</div><div class="line" id="file-softengine-js-LC541">    <span class="pl-s">var</span> Device <span class="pl-k">=</span> (<span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC542">        <span class="pl-st">function</span> <span class="pl-en">Device</span>(<span class="pl-vpf">canvas</span>) {
</div><div class="line" id="file-softengine-js-LC543">            <span class="pl-v">this</span>.workingCanvas <span class="pl-k">=</span> canvas;
</div><div class="line" id="file-softengine-js-LC544">            <span class="pl-v">this</span>.workingWidth <span class="pl-k">=</span> canvas.<span class="pl-sc">width</span>;
</div><div class="line" id="file-softengine-js-LC545">            <span class="pl-v">this</span>.workingHeight <span class="pl-k">=</span> canvas.<span class="pl-sc">height</span>;
</div><div class="line" id="file-softengine-js-LC546">            <span class="pl-v">this</span>.workingContext <span class="pl-k">=</span> <span class="pl-v">this</span>.workingCanvas.getContext(<span class="pl-s1"><span class="pl-pds">'</span>2d<span class="pl-pds">'</span></span>);
</div><div class="line" id="file-softengine-js-LC547">            <span class="pl-v">this</span>.depthbuffer <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Array</span>(<span class="pl-v">this</span>.workingWidth <span class="pl-k">*</span> <span class="pl-v">this</span>.workingHeight);
</div><div class="line" id="file-softengine-js-LC548">        }
</div><div class="line" id="file-softengine-js-LC549">        <span class="pl-s3">Device</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">clear</span> <span class="pl-k">=</span> <span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC550">            <span class="pl-v">this</span>.workingContext.clearRect(<span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-v">this</span>.workingWidth, <span class="pl-v">this</span>.workingHeight);
</div><div class="line" id="file-softengine-js-LC551">            <span class="pl-v">this</span>.backbuffer <span class="pl-k">=</span> <span class="pl-v">this</span>.workingContext.getImageData(<span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-v">this</span>.workingWidth, <span class="pl-v">this</span>.workingHeight);
</div><div class="line" id="file-softengine-js-LC552">&nbsp;
</div><div class="line" id="file-softengine-js-LC553">            <span class="pl-k">for</span> (<span class="pl-s">var</span> i <span class="pl-k">=</span> <span class="pl-c1">0</span>; i <span class="pl-k">&lt;</span> <span class="pl-v">this</span>.depthbuffer.<span class="pl-sc">length</span>; i<span class="pl-k">++</span>) {
</div><div class="line" id="file-softengine-js-LC554">                <span class="pl-v">this</span>.depthbuffer[i] <span class="pl-k">=</span> <span class="pl-c1">10000000</span>;
</div><div class="line" id="file-softengine-js-LC555">            }
</div><div class="line" id="file-softengine-js-LC556">        };
</div><div class="line" id="file-softengine-js-LC557">&nbsp;
</div><div class="line" id="file-softengine-js-LC558">        <span class="pl-s3">Device</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">putPixel</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">x</span>, <span class="pl-vpf">y</span>, <span class="pl-vpf">z</span>, <span class="pl-vpf">color</span>) {
</div><div class="line" id="file-softengine-js-LC559">            <span class="pl-v">this</span>.backbufferdata <span class="pl-k">=</span> <span class="pl-v">this</span>.backbuffer.<span class="pl-sc">data</span>;
</div><div class="line" id="file-softengine-js-LC560">            <span class="pl-s">var</span> index <span class="pl-k">=</span> <span class="pl-s3">Math</span>.<span class="pl-s3">floor</span>(x) <span class="pl-k">+</span> <span class="pl-s3">Math</span>.<span class="pl-s3">floor</span>(y) <span class="pl-k">*</span> <span class="pl-v">this</span>.workingWidth;
</div><div class="line" id="file-softengine-js-LC561">            <span class="pl-s">var</span> index4 <span class="pl-k">=</span> index <span class="pl-k">*</span> <span class="pl-c1">4</span>;
</div><div class="line" id="file-softengine-js-LC562">&nbsp;
</div><div class="line" id="file-softengine-js-LC563">            <span class="pl-k">if</span> (<span class="pl-v">this</span>.depthbuffer[index] <span class="pl-k">&lt;</span> z) {
</div><div class="line" id="file-softengine-js-LC564">                <span class="pl-k">return</span>;
</div><div class="line" id="file-softengine-js-LC565">            }
</div><div class="line" id="file-softengine-js-LC566">&nbsp;
</div><div class="line" id="file-softengine-js-LC567">            <span class="pl-v">this</span>.depthbuffer[index] <span class="pl-k">=</span> z;
</div><div class="line" id="file-softengine-js-LC568">&nbsp;
</div><div class="line" id="file-softengine-js-LC569">            <span class="pl-v">this</span>.backbufferdata[index4] <span class="pl-k">=</span> color.r <span class="pl-k">*</span> <span class="pl-c1">255</span>;
</div><div class="line" id="file-softengine-js-LC570">            <span class="pl-v">this</span>.backbufferdata[index4 <span class="pl-k">+</span> <span class="pl-c1">1</span>] <span class="pl-k">=</span> color.g <span class="pl-k">*</span> <span class="pl-c1">255</span>;
</div><div class="line" id="file-softengine-js-LC571">            <span class="pl-v">this</span>.backbufferdata[index4 <span class="pl-k">+</span> <span class="pl-c1">2</span>] <span class="pl-k">=</span> color.b <span class="pl-k">*</span> <span class="pl-c1">255</span>;
</div><div class="line" id="file-softengine-js-LC572">            <span class="pl-v">this</span>.backbufferdata[index4 <span class="pl-k">+</span> <span class="pl-c1">3</span>] <span class="pl-k">=</span> color.a <span class="pl-k">*</span> <span class="pl-c1">255</span>;
</div><div class="line" id="file-softengine-js-LC573">        };
</div><div class="line" id="file-softengine-js-LC574">&nbsp;
</div><div class="line" id="file-softengine-js-LC575">        <span class="pl-s3">Device</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">drawPoint</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">point</span>, <span class="pl-vpf">color</span>) {
</div><div class="line" id="file-softengine-js-LC576">            <span class="pl-k">if</span> (point.<span class="pl-sc">x</span> <span class="pl-k">&gt;=</span> <span class="pl-c1">0</span> <span class="pl-k">&amp;&amp;</span> point.<span class="pl-sc">y</span> <span class="pl-k">&gt;=</span> <span class="pl-c1">0</span> <span class="pl-k">&amp;&amp;</span> point.<span class="pl-sc">x</span> <span class="pl-k">&lt;</span> <span class="pl-v">this</span>.workingWidth <span class="pl-k">&amp;&amp;</span> point.<span class="pl-sc">y</span> <span class="pl-k">&lt;</span> <span class="pl-v">this</span>.workingHeight) {
</div><div class="line" id="file-softengine-js-LC577">                <span class="pl-v">this</span>.putPixel(point.<span class="pl-sc">x</span>, point.<span class="pl-sc">y</span>, point.z, color);
</div><div class="line" id="file-softengine-js-LC578">            }
</div><div class="line" id="file-softengine-js-LC579">        };
</div><div class="line" id="file-softengine-js-LC580">&nbsp;
</div><div class="line" id="file-softengine-js-LC581">        <span class="pl-s3">Device</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">present</span> <span class="pl-k">=</span> <span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC582">            <span class="pl-v">this</span>.workingContext.putImageData(<span class="pl-v">this</span>.backbuffer, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>);
</div><div class="line" id="file-softengine-js-LC583">        };
</div><div class="line" id="file-softengine-js-LC584">&nbsp;
</div><div class="line" id="file-softengine-js-LC585">        <span class="pl-s3">Device</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">clamp</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">value</span>, <span class="pl-vpf">min</span>, <span class="pl-vpf">max</span>) {
</div><div class="line" id="file-softengine-js-LC586">            <span class="pl-k">if</span> (<span class="pl-k">typeof</span> min <span class="pl-k">===</span> <span class="pl-s1"><span class="pl-pds">"</span>undefined<span class="pl-pds">"</span></span>) { min <span class="pl-k">=</span> <span class="pl-c1">0</span>; }
</div><div class="line" id="file-softengine-js-LC587">            <span class="pl-k">if</span> (<span class="pl-k">typeof</span> max <span class="pl-k">===</span> <span class="pl-s1"><span class="pl-pds">"</span>undefined<span class="pl-pds">"</span></span>) { max <span class="pl-k">=</span> <span class="pl-c1">1</span>; }
</div><div class="line" id="file-softengine-js-LC588">            <span class="pl-k">return</span> <span class="pl-s3">Math</span>.<span class="pl-s3">max</span>(min, <span class="pl-s3">Math</span>.<span class="pl-s3">min</span>(value, max));
</div><div class="line" id="file-softengine-js-LC589">        };
</div><div class="line" id="file-softengine-js-LC590">&nbsp;
</div><div class="line" id="file-softengine-js-LC591">        <span class="pl-s3">Device</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">interpolate</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">min</span>, <span class="pl-vpf">max</span>, <span class="pl-vpf">gradient</span>) {
</div><div class="line" id="file-softengine-js-LC592">            <span class="pl-k">return</span> min <span class="pl-k">+</span> (max <span class="pl-k">-</span> min) <span class="pl-k">*</span> <span class="pl-v">this</span>.clamp(gradient);
</div><div class="line" id="file-softengine-js-LC593">        };
</div><div class="line" id="file-softengine-js-LC594">&nbsp;
</div><div class="line" id="file-softengine-js-LC595">        <span class="pl-s3">Device</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">project</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">vertex</span>, <span class="pl-vpf">transMat</span>, <span class="pl-vpf">world</span>) {
</div><div class="line" id="file-softengine-js-LC596">            <span class="pl-s">var</span> point2d <span class="pl-k">=</span> Vector3.TransformCoordinates(vertex.Coordinates, transMat);
</div><div class="line" id="file-softengine-js-LC597">            <span class="pl-s">var</span> point3DWorld <span class="pl-k">=</span> Vector3.TransformCoordinates(vertex.Coordinates, world);
</div><div class="line" id="file-softengine-js-LC598">            <span class="pl-s">var</span> normal3DWorld <span class="pl-k">=</span> Vector3.TransformCoordinates(vertex.Normal, world);
</div><div class="line" id="file-softengine-js-LC599">&nbsp;
</div><div class="line" id="file-softengine-js-LC600">            <span class="pl-s">var</span> x <span class="pl-k">=</span> point2d.<span class="pl-sc">x</span> <span class="pl-k">*</span> <span class="pl-v">this</span>.workingWidth <span class="pl-k">+</span> <span class="pl-v">this</span>.workingWidth / <span class="pl-c1">2.0</span>;
</div><div class="line" id="file-softengine-js-LC601">            <span class="pl-s">var</span> y <span class="pl-k">=</span> <span class="pl-k">-</span>point2d.<span class="pl-sc">y</span> <span class="pl-k">*</span> <span class="pl-v">this</span>.workingHeight <span class="pl-k">+</span> <span class="pl-v">this</span>.workingHeight / <span class="pl-c1">2.0</span>;
</div><div class="line" id="file-softengine-js-LC602">&nbsp;
</div><div class="line" id="file-softengine-js-LC603">            <span class="pl-k">return</span> {
</div><div class="line" id="file-softengine-js-LC604">                Coordinates<span class="pl-k">:</span> <span class="pl-k">new</span> <span class="pl-en">Vector3</span>(x, y, point2d.z),
</div><div class="line" id="file-softengine-js-LC605">                Normal<span class="pl-k">:</span> normal3DWorld,
</div><div class="line" id="file-softengine-js-LC606">                WorldCoordinates<span class="pl-k">:</span> point3DWorld,
</div><div class="line" id="file-softengine-js-LC607">                TextureCoordinates<span class="pl-k">:</span> vertex.TextureCoordinates
</div><div class="line" id="file-softengine-js-LC608">            };
</div><div class="line" id="file-softengine-js-LC609">        };
</div><div class="line" id="file-softengine-js-LC610">&nbsp;
</div><div class="line" id="file-softengine-js-LC611">        <span class="pl-s3">Device</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">computeNDotL</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">vertex</span>, <span class="pl-vpf">normal</span>, <span class="pl-vpf">lightPosition</span>) {
</div><div class="line" id="file-softengine-js-LC612">            <span class="pl-s">var</span> lightDirection <span class="pl-k">=</span> lightPosition.subtract(vertex);
</div><div class="line" id="file-softengine-js-LC613">            normal.normalize();
</div><div class="line" id="file-softengine-js-LC614">            lightDirection.normalize();
</div><div class="line" id="file-softengine-js-LC615">            <span class="pl-k">return</span> <span class="pl-s3">Math</span>.<span class="pl-s3">max</span>(<span class="pl-c1">0</span>, Vector3.Dot(normal, lightDirection));
</div><div class="line" id="file-softengine-js-LC616">        };
</div><div class="line" id="file-softengine-js-LC617">&nbsp;
</div><div class="line" id="file-softengine-js-LC618">        <span class="pl-s3">Device</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">processScanLine</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">data</span>, <span class="pl-vpf">va</span>, <span class="pl-vpf">vb</span>, <span class="pl-vpf">vc</span>, <span class="pl-vpf">vd</span>, <span class="pl-vpf">color</span>, <span class="pl-vpf">texture</span>) {
</div><div class="line" id="file-softengine-js-LC619">            <span class="pl-s">var</span> pa <span class="pl-k">=</span> va.Coordinates;
</div><div class="line" id="file-softengine-js-LC620">            <span class="pl-s">var</span> pb <span class="pl-k">=</span> vb.Coordinates;
</div><div class="line" id="file-softengine-js-LC621">            <span class="pl-s">var</span> pc <span class="pl-k">=</span> vc.Coordinates;
</div><div class="line" id="file-softengine-js-LC622">            <span class="pl-s">var</span> pd <span class="pl-k">=</span> vd.Coordinates;
</div><div class="line" id="file-softengine-js-LC623">&nbsp;
</div><div class="line" id="file-softengine-js-LC624">            <span class="pl-s">var</span> gradient1 <span class="pl-k">=</span> pa.<span class="pl-sc">y</span> <span class="pl-k">!=</span> pb.<span class="pl-sc">y</span> <span class="pl-k">?</span> (data.currentY <span class="pl-k">-</span> pa.<span class="pl-sc">y</span>) / (pb.<span class="pl-sc">y</span> <span class="pl-k">-</span> pa.<span class="pl-sc">y</span>) <span class="pl-k">:</span> <span class="pl-c1">1</span>;
</div><div class="line" id="file-softengine-js-LC625">            <span class="pl-s">var</span> gradient2 <span class="pl-k">=</span> pc.<span class="pl-sc">y</span> <span class="pl-k">!=</span> pd.<span class="pl-sc">y</span> <span class="pl-k">?</span> (data.currentY <span class="pl-k">-</span> pc.<span class="pl-sc">y</span>) / (pd.<span class="pl-sc">y</span> <span class="pl-k">-</span> pc.<span class="pl-sc">y</span>) <span class="pl-k">:</span> <span class="pl-c1">1</span>;
</div><div class="line" id="file-softengine-js-LC626">&nbsp;
</div><div class="line" id="file-softengine-js-LC627">            <span class="pl-s">var</span> sx <span class="pl-k">=</span> <span class="pl-s3">Math</span>.<span class="pl-s3">floor</span>(<span class="pl-v">this</span>.interpolate(pa.<span class="pl-sc">x</span>, pb.<span class="pl-sc">x</span>, gradient1));
</div><div class="line" id="file-softengine-js-LC628">            <span class="pl-s">var</span> ex <span class="pl-k">=</span> <span class="pl-s3">Math</span>.<span class="pl-s3">floor</span>(<span class="pl-v">this</span>.interpolate(pc.<span class="pl-sc">x</span>, pd.<span class="pl-sc">x</span>, gradient2));
</div><div class="line" id="file-softengine-js-LC629">&nbsp;
</div><div class="line" id="file-softengine-js-LC630">            <span class="pl-s">var</span> z1 <span class="pl-k">=</span> <span class="pl-v">this</span>.interpolate(pa.z, pb.z, gradient1);
</div><div class="line" id="file-softengine-js-LC631">            <span class="pl-s">var</span> z2 <span class="pl-k">=</span> <span class="pl-v">this</span>.interpolate(pc.z, pd.z, gradient2);
</div><div class="line" id="file-softengine-js-LC632">&nbsp;
</div><div class="line" id="file-softengine-js-LC633">            <span class="pl-s">var</span> snl <span class="pl-k">=</span> <span class="pl-v">this</span>.interpolate(data.ndotla, data.ndotlb, gradient1);
</div><div class="line" id="file-softengine-js-LC634">            <span class="pl-s">var</span> enl <span class="pl-k">=</span> <span class="pl-v">this</span>.interpolate(data.ndotlc, data.ndotld, gradient2);
</div><div class="line" id="file-softengine-js-LC635">&nbsp;
</div><div class="line" id="file-softengine-js-LC636">            <span class="pl-s">var</span> su <span class="pl-k">=</span> <span class="pl-v">this</span>.interpolate(data.ua, data.ub, gradient1);
</div><div class="line" id="file-softengine-js-LC637">            <span class="pl-s">var</span> eu <span class="pl-k">=</span> <span class="pl-v">this</span>.interpolate(data.uc, data.ud, gradient2);
</div><div class="line" id="file-softengine-js-LC638">            <span class="pl-s">var</span> sv <span class="pl-k">=</span> <span class="pl-v">this</span>.interpolate(data.va, data.vb, gradient1);
</div><div class="line" id="file-softengine-js-LC639">            <span class="pl-s">var</span> ev <span class="pl-k">=</span> <span class="pl-v">this</span>.interpolate(data.vc, data.vd, gradient2);
</div><div class="line" id="file-softengine-js-LC640">&nbsp;
</div><div class="line" id="file-softengine-js-LC641">            <span class="pl-k">for</span> (<span class="pl-s">var</span> x <span class="pl-k">=</span> sx; x <span class="pl-k">&lt;</span> ex; x<span class="pl-k">++</span>) {
</div><div class="line" id="file-softengine-js-LC642">                <span class="pl-s">var</span> gradient <span class="pl-k">=</span> (x <span class="pl-k">-</span> sx) / (ex <span class="pl-k">-</span> sx);
</div><div class="line" id="file-softengine-js-LC643">&nbsp;
</div><div class="line" id="file-softengine-js-LC644">                <span class="pl-s">var</span> z <span class="pl-k">=</span> <span class="pl-v">this</span>.interpolate(z1, z2, gradient);
</div><div class="line" id="file-softengine-js-LC645">                <span class="pl-s">var</span> ndotl <span class="pl-k">=</span> <span class="pl-v">this</span>.interpolate(snl, enl, gradient);
</div><div class="line" id="file-softengine-js-LC646">                <span class="pl-s">var</span> u <span class="pl-k">=</span> <span class="pl-v">this</span>.interpolate(su, eu, gradient);
</div><div class="line" id="file-softengine-js-LC647">                <span class="pl-s">var</span> v <span class="pl-k">=</span> <span class="pl-v">this</span>.interpolate(sv, ev, gradient);
</div><div class="line" id="file-softengine-js-LC648">&nbsp;
</div><div class="line" id="file-softengine-js-LC649">                <span class="pl-s">var</span> textureColor;
</div><div class="line" id="file-softengine-js-LC650">&nbsp;
</div><div class="line" id="file-softengine-js-LC651">                <span class="pl-k">if</span> (texture) {
</div><div class="line" id="file-softengine-js-LC652">                    textureColor <span class="pl-k">=</span> texture.map(u, v);
</div><div class="line" id="file-softengine-js-LC653">                } <span class="pl-k">else</span> {
</div><div class="line" id="file-softengine-js-LC654">                    textureColor <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Color4</span>(<span class="pl-c1">1</span>, <span class="pl-c1">1</span>, <span class="pl-c1">1</span>, <span class="pl-c1">1</span>);
</div><div class="line" id="file-softengine-js-LC655">                }
</div><div class="line" id="file-softengine-js-LC656">&nbsp;
</div><div class="line" id="file-softengine-js-LC657">                <span class="pl-v">this</span>.drawPoint(<span class="pl-k">new</span> <span class="pl-en">Vector3</span>(x, data.currentY, z), <span class="pl-k">new</span> <span class="pl-en">Color4</span>(color.r <span class="pl-k">*</span> ndotl <span class="pl-k">*</span> textureColor.r, color.g <span class="pl-k">*</span> ndotl <span class="pl-k">*</span> textureColor.g, color.b <span class="pl-k">*</span> ndotl <span class="pl-k">*</span> textureColor.b, <span class="pl-c1">1</span>));
</div><div class="line" id="file-softengine-js-LC658">            }
</div><div class="line" id="file-softengine-js-LC659">        };
</div><div class="line" id="file-softengine-js-LC660">&nbsp;
</div><div class="line" id="file-softengine-js-LC661">        <span class="pl-s3">Device</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">drawTriangle</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">v1</span>, <span class="pl-vpf">v2</span>, <span class="pl-vpf">v3</span>, <span class="pl-vpf">color</span>, <span class="pl-vpf">texture</span>) {
</div><div class="line" id="file-softengine-js-LC662">            <span class="pl-s">var</span> temp;
</div><div class="line" id="file-softengine-js-LC663">&nbsp;
</div><div class="line" id="file-softengine-js-LC664">            <span class="pl-k">if</span> (v1.Coordinates.<span class="pl-sc">y</span> <span class="pl-k">&gt;</span> v2.Coordinates.<span class="pl-sc">y</span>) {
</div><div class="line" id="file-softengine-js-LC665">                temp <span class="pl-k">=</span> v2;
</div><div class="line" id="file-softengine-js-LC666">                v2 <span class="pl-k">=</span> v1;
</div><div class="line" id="file-softengine-js-LC667">                v1 <span class="pl-k">=</span> temp;
</div><div class="line" id="file-softengine-js-LC668">            }
</div><div class="line" id="file-softengine-js-LC669">&nbsp;
</div><div class="line" id="file-softengine-js-LC670">            <span class="pl-k">if</span> (v2.Coordinates.<span class="pl-sc">y</span> <span class="pl-k">&gt;</span> v3.Coordinates.<span class="pl-sc">y</span>) {
</div><div class="line" id="file-softengine-js-LC671">                temp <span class="pl-k">=</span> v2;
</div><div class="line" id="file-softengine-js-LC672">                v2 <span class="pl-k">=</span> v3;
</div><div class="line" id="file-softengine-js-LC673">                v3 <span class="pl-k">=</span> temp;
</div><div class="line" id="file-softengine-js-LC674">            }
</div><div class="line" id="file-softengine-js-LC675">&nbsp;
</div><div class="line" id="file-softengine-js-LC676">            <span class="pl-k">if</span> (v1.Coordinates.<span class="pl-sc">y</span> <span class="pl-k">&gt;</span> v2.Coordinates.<span class="pl-sc">y</span>) {
</div><div class="line" id="file-softengine-js-LC677">                temp <span class="pl-k">=</span> v2;
</div><div class="line" id="file-softengine-js-LC678">                v2 <span class="pl-k">=</span> v1;
</div><div class="line" id="file-softengine-js-LC679">                v1 <span class="pl-k">=</span> temp;
</div><div class="line" id="file-softengine-js-LC680">            }
</div><div class="line" id="file-softengine-js-LC681">&nbsp;
</div><div class="line" id="file-softengine-js-LC682">            <span class="pl-s">var</span> p1 <span class="pl-k">=</span> v1.Coordinates;
</div><div class="line" id="file-softengine-js-LC683">            <span class="pl-s">var</span> p2 <span class="pl-k">=</span> v2.Coordinates;
</div><div class="line" id="file-softengine-js-LC684">            <span class="pl-s">var</span> p3 <span class="pl-k">=</span> v3.Coordinates;
</div><div class="line" id="file-softengine-js-LC685">&nbsp;
</div><div class="line" id="file-softengine-js-LC686">            <span class="pl-s">var</span> lightPos <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Vector3</span>(<span class="pl-c1">0</span>, <span class="pl-c1">10</span>, <span class="pl-c1">10</span>);
</div><div class="line" id="file-softengine-js-LC687">&nbsp;
</div><div class="line" id="file-softengine-js-LC688">            <span class="pl-s">var</span> nl1 <span class="pl-k">=</span> <span class="pl-v">this</span>.computeNDotL(v1.WorldCoordinates, v1.Normal, lightPos);
</div><div class="line" id="file-softengine-js-LC689">            <span class="pl-s">var</span> nl2 <span class="pl-k">=</span> <span class="pl-v">this</span>.computeNDotL(v2.WorldCoordinates, v2.Normal, lightPos);
</div><div class="line" id="file-softengine-js-LC690">            <span class="pl-s">var</span> nl3 <span class="pl-k">=</span> <span class="pl-v">this</span>.computeNDotL(v3.WorldCoordinates, v3.Normal, lightPos);
</div><div class="line" id="file-softengine-js-LC691">&nbsp;
</div><div class="line" id="file-softengine-js-LC692">            <span class="pl-s">var</span> data <span class="pl-k">=</span> {};
</div><div class="line" id="file-softengine-js-LC693">&nbsp;
</div><div class="line" id="file-softengine-js-LC694">            <span class="pl-s">var</span> dP1P2;
</div><div class="line" id="file-softengine-js-LC695">            <span class="pl-s">var</span> dP1P3;
</div><div class="line" id="file-softengine-js-LC696">&nbsp;
</div><div class="line" id="file-softengine-js-LC697">            <span class="pl-k">if</span> (p2.<span class="pl-sc">y</span> <span class="pl-k">-</span> p1.<span class="pl-sc">y</span> <span class="pl-k">&gt;</span> <span class="pl-c1">0</span>) {
</div><div class="line" id="file-softengine-js-LC698">                dP1P2 <span class="pl-k">=</span> (p2.<span class="pl-sc">x</span> <span class="pl-k">-</span> p1.<span class="pl-sc">x</span>) / (p2.<span class="pl-sc">y</span> <span class="pl-k">-</span> p1.<span class="pl-sc">y</span>);
</div><div class="line" id="file-softengine-js-LC699">            } <span class="pl-k">else</span> {
</div><div class="line" id="file-softengine-js-LC700">                dP1P2 <span class="pl-k">=</span> <span class="pl-c1">0</span>;
</div><div class="line" id="file-softengine-js-LC701">            }
</div><div class="line" id="file-softengine-js-LC702">&nbsp;
</div><div class="line" id="file-softengine-js-LC703">            <span class="pl-k">if</span> (p3.<span class="pl-sc">y</span> <span class="pl-k">-</span> p1.<span class="pl-sc">y</span> <span class="pl-k">&gt;</span> <span class="pl-c1">0</span>) {
</div><div class="line" id="file-softengine-js-LC704">                dP1P3 <span class="pl-k">=</span> (p3.<span class="pl-sc">x</span> <span class="pl-k">-</span> p1.<span class="pl-sc">x</span>) / (p3.<span class="pl-sc">y</span> <span class="pl-k">-</span> p1.<span class="pl-sc">y</span>);
</div><div class="line" id="file-softengine-js-LC705">            } <span class="pl-k">else</span> {
</div><div class="line" id="file-softengine-js-LC706">                dP1P3 <span class="pl-k">=</span> <span class="pl-c1">0</span>;
</div><div class="line" id="file-softengine-js-LC707">            }
</div><div class="line" id="file-softengine-js-LC708">&nbsp;
</div><div class="line" id="file-softengine-js-LC709">            <span class="pl-k">if</span> (dP1P2 <span class="pl-k">&gt;</span> dP1P3) {
</div><div class="line" id="file-softengine-js-LC710">                <span class="pl-k">for</span> (<span class="pl-s">var</span> y <span class="pl-k">=</span> <span class="pl-s3">Math</span>.<span class="pl-s3">floor</span>(p1.<span class="pl-sc">y</span>); y <span class="pl-k">&lt;=</span> <span class="pl-s3">Math</span>.<span class="pl-s3">floor</span>(p3.<span class="pl-sc">y</span>); y<span class="pl-k">++</span>) {
</div><div class="line" id="file-softengine-js-LC711">                    data.currentY <span class="pl-k">=</span> y;
</div><div class="line" id="file-softengine-js-LC712">&nbsp;
</div><div class="line" id="file-softengine-js-LC713">                    <span class="pl-k">if</span> (y <span class="pl-k">&lt;</span> p2.<span class="pl-sc">y</span>) {
</div><div class="line" id="file-softengine-js-LC714">                        data.ndotla <span class="pl-k">=</span> nl1;
</div><div class="line" id="file-softengine-js-LC715">                        data.ndotlb <span class="pl-k">=</span> nl3;
</div><div class="line" id="file-softengine-js-LC716">                        data.ndotlc <span class="pl-k">=</span> nl1;
</div><div class="line" id="file-softengine-js-LC717">                        data.ndotld <span class="pl-k">=</span> nl2;
</div><div class="line" id="file-softengine-js-LC718">&nbsp;
</div><div class="line" id="file-softengine-js-LC719">                        data.ua <span class="pl-k">=</span> v1.TextureCoordinates.<span class="pl-sc">x</span>;
</div><div class="line" id="file-softengine-js-LC720">                        data.ub <span class="pl-k">=</span> v3.TextureCoordinates.<span class="pl-sc">x</span>;
</div><div class="line" id="file-softengine-js-LC721">                        data.uc <span class="pl-k">=</span> v1.TextureCoordinates.<span class="pl-sc">x</span>;
</div><div class="line" id="file-softengine-js-LC722">                        data.ud <span class="pl-k">=</span> v2.TextureCoordinates.<span class="pl-sc">x</span>;
</div><div class="line" id="file-softengine-js-LC723">&nbsp;
</div><div class="line" id="file-softengine-js-LC724">                        data.va <span class="pl-k">=</span> v1.TextureCoordinates.<span class="pl-sc">y</span>;
</div><div class="line" id="file-softengine-js-LC725">                        data.vb <span class="pl-k">=</span> v3.TextureCoordinates.<span class="pl-sc">y</span>;
</div><div class="line" id="file-softengine-js-LC726">                        data.vc <span class="pl-k">=</span> v1.TextureCoordinates.<span class="pl-sc">y</span>;
</div><div class="line" id="file-softengine-js-LC727">                        data.vd <span class="pl-k">=</span> v2.TextureCoordinates.<span class="pl-sc">y</span>;
</div><div class="line" id="file-softengine-js-LC728">&nbsp;
</div><div class="line" id="file-softengine-js-LC729">                        <span class="pl-v">this</span>.processScanLine(data, v1, v3, v1, v2, color, texture);
</div><div class="line" id="file-softengine-js-LC730">                    } <span class="pl-k">else</span> {
</div><div class="line" id="file-softengine-js-LC731">                        data.ndotla <span class="pl-k">=</span> nl1;
</div><div class="line" id="file-softengine-js-LC732">                        data.ndotlb <span class="pl-k">=</span> nl3;
</div><div class="line" id="file-softengine-js-LC733">                        data.ndotlc <span class="pl-k">=</span> nl2;
</div><div class="line" id="file-softengine-js-LC734">                        data.ndotld <span class="pl-k">=</span> nl3;
</div><div class="line" id="file-softengine-js-LC735">&nbsp;
</div><div class="line" id="file-softengine-js-LC736">                        data.ua <span class="pl-k">=</span> v1.TextureCoordinates.<span class="pl-sc">x</span>;
</div><div class="line" id="file-softengine-js-LC737">                        data.ub <span class="pl-k">=</span> v3.TextureCoordinates.<span class="pl-sc">x</span>;
</div><div class="line" id="file-softengine-js-LC738">                        data.uc <span class="pl-k">=</span> v2.TextureCoordinates.<span class="pl-sc">x</span>;
</div><div class="line" id="file-softengine-js-LC739">                        data.ud <span class="pl-k">=</span> v3.TextureCoordinates.<span class="pl-sc">x</span>;
</div><div class="line" id="file-softengine-js-LC740">&nbsp;
</div><div class="line" id="file-softengine-js-LC741">                        data.va <span class="pl-k">=</span> v1.TextureCoordinates.<span class="pl-sc">y</span>;
</div><div class="line" id="file-softengine-js-LC742">                        data.vb <span class="pl-k">=</span> v3.TextureCoordinates.<span class="pl-sc">y</span>;
</div><div class="line" id="file-softengine-js-LC743">                        data.vc <span class="pl-k">=</span> v2.TextureCoordinates.<span class="pl-sc">y</span>;
</div><div class="line" id="file-softengine-js-LC744">                        data.vd <span class="pl-k">=</span> v3.TextureCoordinates.<span class="pl-sc">y</span>;
</div><div class="line" id="file-softengine-js-LC745">&nbsp;
</div><div class="line" id="file-softengine-js-LC746">                        <span class="pl-v">this</span>.processScanLine(data, v1, v3, v2, v3, color, texture);
</div><div class="line" id="file-softengine-js-LC747">                    }
</div><div class="line" id="file-softengine-js-LC748">                }
</div><div class="line" id="file-softengine-js-LC749">            } <span class="pl-k">else</span> {
</div><div class="line" id="file-softengine-js-LC750">                <span class="pl-k">for</span> (<span class="pl-s">var</span> y <span class="pl-k">=</span> <span class="pl-s3">Math</span>.<span class="pl-s3">floor</span>(p1.<span class="pl-sc">y</span>); y <span class="pl-k">&lt;=</span> <span class="pl-s3">Math</span>.<span class="pl-s3">floor</span>(p3.<span class="pl-sc">y</span>); y<span class="pl-k">++</span>) {
</div><div class="line" id="file-softengine-js-LC751">                    data.currentY <span class="pl-k">=</span> y;
</div><div class="line" id="file-softengine-js-LC752">&nbsp;
</div><div class="line" id="file-softengine-js-LC753">                    <span class="pl-k">if</span> (y <span class="pl-k">&lt;</span> p2.<span class="pl-sc">y</span>) {
</div><div class="line" id="file-softengine-js-LC754">                        data.ndotla <span class="pl-k">=</span> nl1;
</div><div class="line" id="file-softengine-js-LC755">                        data.ndotlb <span class="pl-k">=</span> nl2;
</div><div class="line" id="file-softengine-js-LC756">                        data.ndotlc <span class="pl-k">=</span> nl1;
</div><div class="line" id="file-softengine-js-LC757">                        data.ndotld <span class="pl-k">=</span> nl3;
</div><div class="line" id="file-softengine-js-LC758">&nbsp;
</div><div class="line" id="file-softengine-js-LC759">                        data.ua <span class="pl-k">=</span> v1.TextureCoordinates.<span class="pl-sc">x</span>;
</div><div class="line" id="file-softengine-js-LC760">                        data.ub <span class="pl-k">=</span> v2.TextureCoordinates.<span class="pl-sc">x</span>;
</div><div class="line" id="file-softengine-js-LC761">                        data.uc <span class="pl-k">=</span> v1.TextureCoordinates.<span class="pl-sc">x</span>;
</div><div class="line" id="file-softengine-js-LC762">                        data.ud <span class="pl-k">=</span> v3.TextureCoordinates.<span class="pl-sc">x</span>;
</div><div class="line" id="file-softengine-js-LC763">&nbsp;
</div><div class="line" id="file-softengine-js-LC764">                        data.va <span class="pl-k">=</span> v1.TextureCoordinates.<span class="pl-sc">y</span>;
</div><div class="line" id="file-softengine-js-LC765">                        data.vb <span class="pl-k">=</span> v2.TextureCoordinates.<span class="pl-sc">y</span>;
</div><div class="line" id="file-softengine-js-LC766">                        data.vc <span class="pl-k">=</span> v1.TextureCoordinates.<span class="pl-sc">y</span>;
</div><div class="line" id="file-softengine-js-LC767">                        data.vd <span class="pl-k">=</span> v3.TextureCoordinates.<span class="pl-sc">y</span>;
</div><div class="line" id="file-softengine-js-LC768">&nbsp;
</div><div class="line" id="file-softengine-js-LC769">                        <span class="pl-v">this</span>.processScanLine(data, v1, v2, v1, v3, color, texture);
</div><div class="line" id="file-softengine-js-LC770">                    } <span class="pl-k">else</span> {
</div><div class="line" id="file-softengine-js-LC771">                        data.ndotla <span class="pl-k">=</span> nl2;
</div><div class="line" id="file-softengine-js-LC772">                        data.ndotlb <span class="pl-k">=</span> nl3;
</div><div class="line" id="file-softengine-js-LC773">                        data.ndotlc <span class="pl-k">=</span> nl1;
</div><div class="line" id="file-softengine-js-LC774">                        data.ndotld <span class="pl-k">=</span> nl3;
</div><div class="line" id="file-softengine-js-LC775">&nbsp;
</div><div class="line" id="file-softengine-js-LC776">                        data.ua <span class="pl-k">=</span> v2.TextureCoordinates.<span class="pl-sc">x</span>;
</div><div class="line" id="file-softengine-js-LC777">                        data.ub <span class="pl-k">=</span> v3.TextureCoordinates.<span class="pl-sc">x</span>;
</div><div class="line" id="file-softengine-js-LC778">                        data.uc <span class="pl-k">=</span> v1.TextureCoordinates.<span class="pl-sc">x</span>;
</div><div class="line" id="file-softengine-js-LC779">                        data.ud <span class="pl-k">=</span> v3.TextureCoordinates.<span class="pl-sc">x</span>;
</div><div class="line" id="file-softengine-js-LC780">&nbsp;
</div><div class="line" id="file-softengine-js-LC781">                        data.va <span class="pl-k">=</span> v2.TextureCoordinates.<span class="pl-sc">y</span>;
</div><div class="line" id="file-softengine-js-LC782">                        data.vb <span class="pl-k">=</span> v3.TextureCoordinates.<span class="pl-sc">y</span>;
</div><div class="line" id="file-softengine-js-LC783">                        data.vc <span class="pl-k">=</span> v1.TextureCoordinates.<span class="pl-sc">y</span>;
</div><div class="line" id="file-softengine-js-LC784">                        data.vd <span class="pl-k">=</span> v3.TextureCoordinates.<span class="pl-sc">y</span>;
</div><div class="line" id="file-softengine-js-LC785">&nbsp;
</div><div class="line" id="file-softengine-js-LC786">                        <span class="pl-v">this</span>.processScanLine(data, v2, v3, v1, v3, color, texture);
</div><div class="line" id="file-softengine-js-LC787">                    }
</div><div class="line" id="file-softengine-js-LC788">                }
</div><div class="line" id="file-softengine-js-LC789">            }
</div><div class="line" id="file-softengine-js-LC790">        };
</div><div class="line" id="file-softengine-js-LC791">&nbsp;
</div><div class="line" id="file-softengine-js-LC792">        <span class="pl-s3">Device</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">render</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">camera</span>, <span class="pl-vpf">meshes</span>) {
</div><div class="line" id="file-softengine-js-LC793">            <span class="pl-s">var</span> viewMatrix <span class="pl-k">=</span> Matrix.LookAtLH(camera.Position, camera.Target, Vector3.Up());
</div><div class="line" id="file-softengine-js-LC794">            <span class="pl-s">var</span> projectionMatrix <span class="pl-k">=</span> Matrix.PerspectiveFovLH(<span class="pl-c1">0.78</span>, <span class="pl-v">this</span>.workingWidth / <span class="pl-v">this</span>.workingHeight, <span class="pl-c1">0.01</span>, <span class="pl-c1">1.0</span>);
</div><div class="line" id="file-softengine-js-LC795">&nbsp;
</div><div class="line" id="file-softengine-js-LC796">            <span class="pl-k">for</span> (<span class="pl-s">var</span> index <span class="pl-k">=</span> <span class="pl-c1">0</span>; index <span class="pl-k">&lt;</span> meshes.<span class="pl-sc">length</span>; index<span class="pl-k">++</span>) {
</div><div class="line" id="file-softengine-js-LC797">                <span class="pl-s">var</span> cMesh <span class="pl-k">=</span> meshes[index];
</div><div class="line" id="file-softengine-js-LC798">                <span class="pl-s">var</span> worldMatrix <span class="pl-k">=</span> Matrix.RotationYawPitchRoll(cMesh.Rotation.<span class="pl-sc">y</span>, cMesh.Rotation.<span class="pl-sc">x</span>, cMesh.Rotation.z).multiply(Matrix.Translation(cMesh.Position.<span class="pl-sc">x</span>, cMesh.Position.<span class="pl-sc">y</span>, cMesh.Position.z));
</div><div class="line" id="file-softengine-js-LC799">&nbsp;
</div><div class="line" id="file-softengine-js-LC800">                <span class="pl-s">var</span> worldView <span class="pl-k">=</span> worldMatrix.multiply(viewMatrix);
</div><div class="line" id="file-softengine-js-LC801">                <span class="pl-s">var</span> transformMatrix <span class="pl-k">=</span> worldView.multiply(projectionMatrix);
</div><div class="line" id="file-softengine-js-LC802">&nbsp;
</div><div class="line" id="file-softengine-js-LC803">                <span class="pl-k">for</span> (<span class="pl-s">var</span> indexFaces <span class="pl-k">=</span> <span class="pl-c1">0</span>; indexFaces <span class="pl-k">&lt;</span> cMesh.Faces.<span class="pl-sc">length</span>; indexFaces<span class="pl-k">++</span>) {
</div><div class="line" id="file-softengine-js-LC804">                    <span class="pl-s">var</span> currentFace <span class="pl-k">=</span> cMesh.Faces[indexFaces];
</div><div class="line" id="file-softengine-js-LC805">                    <span class="pl-s">var</span> transformedNormal <span class="pl-k">=</span> Vector3.TransformNormal(currentFace.Normal, worldView);
</div><div class="line" id="file-softengine-js-LC806">&nbsp;
</div><div class="line" id="file-softengine-js-LC807">                    <span class="pl-k">if</span> (transformedNormal.z <span class="pl-k">&lt;</span> <span class="pl-c1">0</span>) {
</div><div class="line" id="file-softengine-js-LC808">                        <span class="pl-s">var</span> vertexA <span class="pl-k">=</span> cMesh.Vertices[currentFace.A];
</div><div class="line" id="file-softengine-js-LC809">                        <span class="pl-s">var</span> vertexB <span class="pl-k">=</span> cMesh.Vertices[currentFace.B];
</div><div class="line" id="file-softengine-js-LC810">                        <span class="pl-s">var</span> vertexC <span class="pl-k">=</span> cMesh.Vertices[currentFace.C];
</div><div class="line" id="file-softengine-js-LC811">&nbsp;
</div><div class="line" id="file-softengine-js-LC812">                        <span class="pl-s">var</span> pixelA <span class="pl-k">=</span> <span class="pl-v">this</span>.project(vertexA, transformMatrix, worldMatrix);
</div><div class="line" id="file-softengine-js-LC813">                        <span class="pl-s">var</span> pixelB <span class="pl-k">=</span> <span class="pl-v">this</span>.project(vertexB, transformMatrix, worldMatrix);
</div><div class="line" id="file-softengine-js-LC814">                        <span class="pl-s">var</span> pixelC <span class="pl-k">=</span> <span class="pl-v">this</span>.project(vertexC, transformMatrix, worldMatrix);
</div><div class="line" id="file-softengine-js-LC815">&nbsp;
</div><div class="line" id="file-softengine-js-LC816">                        <span class="pl-s">var</span> color <span class="pl-k">=</span> <span class="pl-c1">1.0</span>;
</div><div class="line" id="file-softengine-js-LC817">                        <span class="pl-v">this</span>.drawTriangle(pixelA, pixelB, pixelC, <span class="pl-k">new</span> <span class="pl-en">Color4</span>(color, color, color, <span class="pl-c1">1</span>), cMesh.Texture);
</div><div class="line" id="file-softengine-js-LC818">                    }
</div><div class="line" id="file-softengine-js-LC819">                }
</div><div class="line" id="file-softengine-js-LC820">            }
</div><div class="line" id="file-softengine-js-LC821">        };
</div><div class="line" id="file-softengine-js-LC822">&nbsp;
</div><div class="line" id="file-softengine-js-LC823">        <span class="pl-s3">Device</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">LoadJSONFileAsync</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">fileName</span>, <span class="pl-vpf">callback</span>) {
</div><div class="line" id="file-softengine-js-LC824">            <span class="pl-s">var</span> jsonObject <span class="pl-k">=</span> {};
</div><div class="line" id="file-softengine-js-LC825">            <span class="pl-s">var</span> xmlhttp <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">XMLHttpRequest</span>();
</div><div class="line" id="file-softengine-js-LC826">            xmlhttp.<span class="pl-s3">open</span>(<span class="pl-s1"><span class="pl-pds">'</span>GET<span class="pl-pds">'</span></span>, fileName, <span class="pl-c1">true</span>);
</div><div class="line" id="file-softengine-js-LC827">            <span class="pl-s">var</span> that <span class="pl-k">=</span> <span class="pl-v">this</span>;
</div><div class="line" id="file-softengine-js-LC828">            <span class="pl-s3">xmlhttp</span>.<span class="pl-en">onreadystatechange</span> <span class="pl-k">=</span> <span class="pl-st">function</span> () {
</div><div class="line" id="file-softengine-js-LC829">                <span class="pl-k">if</span> (xmlhttp.<span class="pl-sc">readyState</span> <span class="pl-k">==</span> <span class="pl-c1">4</span> <span class="pl-k">&amp;&amp;</span> xmlhttp.<span class="pl-sc">status</span> <span class="pl-k">==</span> <span class="pl-c1">200</span>) {
</div><div class="line" id="file-softengine-js-LC830">                    jsonObject <span class="pl-k">=</span> JSON.<span class="pl-s3">parse</span>(xmlhttp.<span class="pl-sc">responseText</span>);
</div><div class="line" id="file-softengine-js-LC831">                    callback(that.CreateMeshesFromJSON(jsonObject));
</div><div class="line" id="file-softengine-js-LC832">                }
</div><div class="line" id="file-softengine-js-LC833">            };
</div><div class="line" id="file-softengine-js-LC834">            xmlhttp.<span class="pl-s3">send</span>(<span class="pl-c1">null</span>);
</div><div class="line" id="file-softengine-js-LC835">        };
</div><div class="line" id="file-softengine-js-LC836">&nbsp;
</div><div class="line" id="file-softengine-js-LC837">        <span class="pl-s3">Device</span>.<span class="pl-sc">prototype</span>.<span class="pl-en">CreateMeshesFromJSON</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">jsonObject</span>) {
</div><div class="line" id="file-softengine-js-LC838">            <span class="pl-s">var</span> meshes <span class="pl-k">=</span> [];
</div><div class="line" id="file-softengine-js-LC839">            <span class="pl-s">var</span> materials <span class="pl-k">=</span> [];
</div><div class="line" id="file-softengine-js-LC840">&nbsp;
</div><div class="line" id="file-softengine-js-LC841">            <span class="pl-k">for</span> (<span class="pl-s">var</span> materialIndex <span class="pl-k">=</span> <span class="pl-c1">0</span>; materialIndex <span class="pl-k">&lt;</span> jsonObject.materials.<span class="pl-sc">length</span>; materialIndex<span class="pl-k">++</span>) {
</div><div class="line" id="file-softengine-js-LC842">                <span class="pl-s">var</span> material <span class="pl-k">=</span> {};
</div><div class="line" id="file-softengine-js-LC843">&nbsp;
</div><div class="line" id="file-softengine-js-LC844">                material.Name <span class="pl-k">=</span> jsonObject.materials[materialIndex].<span class="pl-sc">name</span>;
</div><div class="line" id="file-softengine-js-LC845">                material.ID <span class="pl-k">=</span> jsonObject.materials[materialIndex].<span class="pl-sc">id</span>;
</div><div class="line" id="file-softengine-js-LC846">&nbsp;
</div><div class="line" id="file-softengine-js-LC847">                <span class="pl-k">if</span> (jsonObject.materials[materialIndex].diffuseTexture) {
</div><div class="line" id="file-softengine-js-LC848">                    material.DiffuseTextureName <span class="pl-k">=</span> jsonObject.materials[materialIndex].diffuseTexture.<span class="pl-sc">name</span>;
</div><div class="line" id="file-softengine-js-LC849">                }
</div><div class="line" id="file-softengine-js-LC850">&nbsp;
</div><div class="line" id="file-softengine-js-LC851">                materials[material.ID] <span class="pl-k">=</span> material;
</div><div class="line" id="file-softengine-js-LC852">            }
</div><div class="line" id="file-softengine-js-LC853">&nbsp;
</div><div class="line" id="file-softengine-js-LC854">            <span class="pl-k">for</span> (<span class="pl-s">var</span> meshIndex <span class="pl-k">=</span> <span class="pl-c1">0</span>; meshIndex <span class="pl-k">&lt;</span> jsonObject.meshes.<span class="pl-sc">length</span>; meshIndex<span class="pl-k">++</span>) {
</div><div class="line" id="file-softengine-js-LC855">                <span class="pl-s">var</span> verticesArray <span class="pl-k">=</span> jsonObject.meshes[meshIndex].vertices;
</div><div class="line" id="file-softengine-js-LC856">                <span class="pl-s">var</span> indicesArray <span class="pl-k">=</span> jsonObject.meshes[meshIndex].indices;
</div><div class="line" id="file-softengine-js-LC857">&nbsp;
</div><div class="line" id="file-softengine-js-LC858">                <span class="pl-s">var</span> uvCount <span class="pl-k">=</span> jsonObject.meshes[meshIndex].uvCount;
</div><div class="line" id="file-softengine-js-LC859">                <span class="pl-s">var</span> verticesStep <span class="pl-k">=</span> <span class="pl-c1">1</span>;
</div><div class="line" id="file-softengine-js-LC860">&nbsp;
</div><div class="line" id="file-softengine-js-LC861">                <span class="pl-k">switch</span> (uvCount) {
</div><div class="line" id="file-softengine-js-LC862">                    <span class="pl-k">case</span> <span class="pl-c1">0</span><span class="pl-k">:</span>
</div><div class="line" id="file-softengine-js-LC863">                        verticesStep <span class="pl-k">=</span> <span class="pl-c1">6</span>;
</div><div class="line" id="file-softengine-js-LC864">                        <span class="pl-k">break</span>;
</div><div class="line" id="file-softengine-js-LC865">                    <span class="pl-k">case</span> <span class="pl-c1">1</span><span class="pl-k">:</span>
</div><div class="line" id="file-softengine-js-LC866">                        verticesStep <span class="pl-k">=</span> <span class="pl-c1">8</span>;
</div><div class="line" id="file-softengine-js-LC867">                        <span class="pl-k">break</span>;
</div><div class="line" id="file-softengine-js-LC868">                    <span class="pl-k">case</span> <span class="pl-c1">2</span><span class="pl-k">:</span>
</div><div class="line" id="file-softengine-js-LC869">                        verticesStep <span class="pl-k">=</span> <span class="pl-c1">10</span>;
</div><div class="line" id="file-softengine-js-LC870">                        <span class="pl-k">break</span>;
</div><div class="line" id="file-softengine-js-LC871">                }
</div><div class="line" id="file-softengine-js-LC872">&nbsp;
</div><div class="line" id="file-softengine-js-LC873">                <span class="pl-s">var</span> verticesCount <span class="pl-k">=</span> verticesArray.<span class="pl-sc">length</span> / verticesStep;
</div><div class="line" id="file-softengine-js-LC874">                <span class="pl-s">var</span> facesCount <span class="pl-k">=</span> indicesArray.<span class="pl-sc">length</span> / <span class="pl-c1">3</span>;
</div><div class="line" id="file-softengine-js-LC875">                <span class="pl-s">var</span> mesh <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Mesh</span>(jsonObject.meshes[meshIndex].<span class="pl-sc">name</span>, verticesCount, facesCount);
</div><div class="line" id="file-softengine-js-LC876">&nbsp;
</div><div class="line" id="file-softengine-js-LC877">                <span class="pl-k">for</span> (<span class="pl-s">var</span> index <span class="pl-k">=</span> <span class="pl-c1">0</span>; index <span class="pl-k">&lt;</span> verticesCount; index<span class="pl-k">++</span>) {
</div><div class="line" id="file-softengine-js-LC878">                    <span class="pl-s">var</span> x <span class="pl-k">=</span> verticesArray[index <span class="pl-k">*</span> verticesStep];
</div><div class="line" id="file-softengine-js-LC879">                    <span class="pl-s">var</span> y <span class="pl-k">=</span> verticesArray[index <span class="pl-k">*</span> verticesStep <span class="pl-k">+</span> <span class="pl-c1">1</span>];
</div><div class="line" id="file-softengine-js-LC880">                    <span class="pl-s">var</span> z <span class="pl-k">=</span> verticesArray[index <span class="pl-k">*</span> verticesStep <span class="pl-k">+</span> <span class="pl-c1">2</span>];
</div><div class="line" id="file-softengine-js-LC881">&nbsp;
</div><div class="line" id="file-softengine-js-LC882">                    <span class="pl-s">var</span> nx <span class="pl-k">=</span> verticesArray[index <span class="pl-k">*</span> verticesStep <span class="pl-k">+</span> <span class="pl-c1">3</span>];
</div><div class="line" id="file-softengine-js-LC883">                    <span class="pl-s">var</span> ny <span class="pl-k">=</span> verticesArray[index <span class="pl-k">*</span> verticesStep <span class="pl-k">+</span> <span class="pl-c1">4</span>];
</div><div class="line" id="file-softengine-js-LC884">                    <span class="pl-s">var</span> nz <span class="pl-k">=</span> verticesArray[index <span class="pl-k">*</span> verticesStep <span class="pl-k">+</span> <span class="pl-c1">5</span>];
</div><div class="line" id="file-softengine-js-LC885">&nbsp;
</div><div class="line" id="file-softengine-js-LC886">                    mesh.Vertices[index] <span class="pl-k">=</span> {
</div><div class="line" id="file-softengine-js-LC887">                        Coordinates<span class="pl-k">:</span> <span class="pl-k">new</span> <span class="pl-en">Vector3</span>(x, y, z),
</div><div class="line" id="file-softengine-js-LC888">                        Normal<span class="pl-k">:</span> <span class="pl-k">new</span> <span class="pl-en">Vector3</span>(nx, ny, nz)
</div><div class="line" id="file-softengine-js-LC889">                    };
</div><div class="line" id="file-softengine-js-LC890">&nbsp;
</div><div class="line" id="file-softengine-js-LC891">                    <span class="pl-k">if</span> (uvCount <span class="pl-k">&gt;</span> <span class="pl-c1">0</span>) {
</div><div class="line" id="file-softengine-js-LC892">                        <span class="pl-s">var</span> u <span class="pl-k">=</span> verticesArray[index <span class="pl-k">*</span> verticesStep <span class="pl-k">+</span> <span class="pl-c1">6</span>];
</div><div class="line" id="file-softengine-js-LC893">                        <span class="pl-s">var</span> v <span class="pl-k">=</span> verticesArray[index <span class="pl-k">*</span> verticesStep <span class="pl-k">+</span> <span class="pl-c1">7</span>];
</div><div class="line" id="file-softengine-js-LC894">                        mesh.Vertices[index].TextureCoordinates <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Vector2</span>(u, v);
</div><div class="line" id="file-softengine-js-LC895">                    } <span class="pl-k">else</span> {
</div><div class="line" id="file-softengine-js-LC896">                        mesh.Vertices[index].TextureCoordinates <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Vector2</span>(<span class="pl-c1">0</span>, <span class="pl-c1">0</span>);
</div><div class="line" id="file-softengine-js-LC897">                    }
</div><div class="line" id="file-softengine-js-LC898">                }
</div><div class="line" id="file-softengine-js-LC899">&nbsp;
</div><div class="line" id="file-softengine-js-LC900">                <span class="pl-k">for</span> (<span class="pl-s">var</span> index <span class="pl-k">=</span> <span class="pl-c1">0</span>; index <span class="pl-k">&lt;</span> facesCount; index<span class="pl-k">++</span>) {
</div><div class="line" id="file-softengine-js-LC901">                    <span class="pl-s">var</span> a <span class="pl-k">=</span> indicesArray[index <span class="pl-k">*</span> <span class="pl-c1">3</span>];
</div><div class="line" id="file-softengine-js-LC902">                    <span class="pl-s">var</span> b <span class="pl-k">=</span> indicesArray[index <span class="pl-k">*</span> <span class="pl-c1">3</span> <span class="pl-k">+</span> <span class="pl-c1">1</span>];
</div><div class="line" id="file-softengine-js-LC903">                    <span class="pl-s">var</span> c <span class="pl-k">=</span> indicesArray[index <span class="pl-k">*</span> <span class="pl-c1">3</span> <span class="pl-k">+</span> <span class="pl-c1">2</span>];
</div><div class="line" id="file-softengine-js-LC904">                    mesh.Faces[index] <span class="pl-k">=</span> { A<span class="pl-k">:</span> a, B<span class="pl-k">:</span> b, C<span class="pl-k">:</span> c };
</div><div class="line" id="file-softengine-js-LC905">                }
</div><div class="line" id="file-softengine-js-LC906">&nbsp;
</div><div class="line" id="file-softengine-js-LC907">                <span class="pl-s">var</span> position <span class="pl-k">=</span> jsonObject.meshes[meshIndex].position;
</div><div class="line" id="file-softengine-js-LC908">                mesh.Position <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Vector3</span>(position[<span class="pl-c1">0</span>], position[<span class="pl-c1">1</span>], position[<span class="pl-c1">2</span>]);
</div><div class="line" id="file-softengine-js-LC909">&nbsp;
</div><div class="line" id="file-softengine-js-LC910">                <span class="pl-k">if</span> (uvCount <span class="pl-k">&gt;</span> <span class="pl-c1">0</span>) {
</div><div class="line" id="file-softengine-js-LC911">                    <span class="pl-s">var</span> meshTextureID <span class="pl-k">=</span> jsonObject.meshes[meshIndex].materialId;
</div><div class="line" id="file-softengine-js-LC912">                    <span class="pl-s">var</span> meshTextureName <span class="pl-k">=</span> materials[meshTextureID].DiffuseTextureName;
</div><div class="line" id="file-softengine-js-LC913">                    mesh.Texture <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Texture</span>(<span class="pl-s1"><span class="pl-pds">'</span>../models/<span class="pl-pds">'</span></span> <span class="pl-k">+</span> meshTextureName, <span class="pl-c1">512</span>, <span class="pl-c1">512</span>);
</div><div class="line" id="file-softengine-js-LC914">                }
</div><div class="line" id="file-softengine-js-LC915">&nbsp;
</div><div class="line" id="file-softengine-js-LC916">                mesh.computeFacesNormals();
</div><div class="line" id="file-softengine-js-LC917">&nbsp;
</div><div class="line" id="file-softengine-js-LC918">                meshes.<span class="pl-s3">push</span>(mesh);
</div><div class="line" id="file-softengine-js-LC919">            }
</div><div class="line" id="file-softengine-js-LC920">            <span class="pl-k">return</span> meshes;
</div><div class="line" id="file-softengine-js-LC921">        };
</div><div class="line" id="file-softengine-js-LC922">        <span class="pl-k">return</span> Device;
</div><div class="line" id="file-softengine-js-LC923">    })();
</div><div class="line" id="file-softengine-js-LC924">    SoftEngine.Device <span class="pl-k">=</span> Device;
</div><div class="line" id="file-softengine-js-LC925">})(SoftEngine <span class="pl-k">||</span> (SoftEngine <span class="pl-k">=</span> {}));
</div></pre>
          </td>
        </tr>
      </tbody></table>
    </div>

          </div>
          <div class="gist-meta">
            <a href="https://gist.github.com/shallaa/167d84d377ecad94df95/raw/SoftEngine.js" style="float:right">view raw</a>
            <a href="https://gist.github.com/shallaa/167d84d377ecad94df95#file-softengine-js">SoftEngine.js</a>
            hosted with &#10084; by <a href="https://github.com/">GitHub</a>
          </div>
        </div>
</div>
</body></html>